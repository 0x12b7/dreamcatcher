"use strict";var n,r=Object.defineProperty,t=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,u={};((n,t)=>{for(var e in t)r(n,e,{get:t[e],enumerable:!0})})(u,{Alloc:()=>_,DeAlloc:()=>m,DomError:()=>P,Dyn:()=>d,Err:()=>R,Error:()=>h,Fpv:()=>k,None:()=>g,Ok:()=>s,Ref:()=>O,Some:()=>N,Unsafe:()=>i,allO:()=>D,allR:()=>l,anyO:()=>A,anyR:()=>f,clone:()=>M,flag:()=>y,isBranded:()=>v,isBrandedStruct:()=>T,panic:()=>S,toString:()=>I,wrap:()=>p,wrapAsync:()=>E}),module.exports=(n=u,((n,u,c,a)=>{if(u&&"object"==typeof u||"function"==typeof u)for(let i of e(u))o.call(n,i)||i===c||r(n,i,{get:()=>u[i],enumerable:!(a=t(u,i))||a.enumerable});return n})(r({},"__esModule",{value:!0}),n));var c={all:function(n){let r=[],t=0;for(;t<n.length;){let e=n.at(t);if(!e.ok())return e;r.push(e.unlock()),t++}return s(r)},any:function(n){let r=[],t=0;for(;t<n.length;){let e=n.at(t);if(e.ok())return e;r.push(e.inspect()),t++}return R(r)},wrap:function(n,...r){try{return s(n(...r))}catch(n){return R(i(n))}},wrapAsync:async function(n,...r){try{return s(await n(...r))}catch(n){return R(i(n))}}},a={flag:function(n){return null==n?g:N(n)},all:function(...n){let r=[],t=0;for(;t<n.length;){let e=n.at(t);if(e.none())return e;r.push(e.unlock()),t++}return N(r)},any:function(...n){let r=0;for(;r<n.length;){let t=n.at(r);if(t.some())return t;r++}return g}};function i(n){return{unwrap:r,parse:function(n){return n(r())?N(r()):g}};function r(){return n}}var l=c.all,f=c.any,p=c.wrap,E=c.wrapAsync;function s(n){let r;return r={ok:function(){return!0},err:function(){return!1},expect:function(n){return t()},expectErr:function(n){S(h("PANIC",n))},unlock:t,unlockOr:function(n){return t()},and:function(n){return n(t())},map:function(n){return s(n(t()))},mapErr:function(n){return r},recover:function(n){return r},degrade:function(n){return R(n(t()))},toOption:function(){return N(t())}};function t(){return n}}function R(n,r=C){let t,e,o,u;return o=n,u=r,e=u.parseStackTrace(R),t={ok:function(){return!1},err:function(){return!0},inspect:c,stack:function(){return e},expect:function(n){let r=c(),t=g;if(r instanceof Error){let e=h({code:r.name.toUpperCase(),message:n});t=N(e)}t.none()&&u.matchError(r,(r=>{r.message=r.message.map((r=>r+"\n\n     Context\n     "+n)),t=N(r)}));S(t.toResult(void 0).recover((()=>h({code:"PANIC",message:n}))).unlock())},expectErr:function(n){return c()},unlockOr:function(n){return n},and:function(n){return t},map:function(n){return t},mapErr:function(n){return R(n(c()))},recover:function(n){return s(n(c()))},degrade:function(n){return t},toOption:function(){return g}};function c(){return o}}function O(n){let r,t,e;return t=0n,e=new Map,r={unwrap:o,mut:function(t){let u=o(),c=t;return n=t,e.values().toArray().forEach((n=>n(c,u))),r},onChange:function(n){let r=t+=1n;return e.set(r,n),()=>{e.delete(r)}}};function o(){return n}}function d(n,r,t,...e){let o,u;{o=new Map,u=0n;let a=0n;for(;a<t;){let r=c();o.set(r,n(...e)),a++}return function(...t){let e,u;return e=g,u=function(){let n=o.keys().toArray().at(0);return n?N(n):g}().toResult(void 0).map((n=>(e=N(n),_(function(n){let r=o.get(n);return o.delete(n),r}(n),{deAlloc:a})))).recover((()=>(e=N(c()),_(n(...t),{deAlloc:a})))).unlock();function a(){return e.toResult(void 0).map((n=>{e=g,function(n,r){o.set(n,r)}(n,r(u.expect("Dyn: Could not deallocate resource but the key was available."+U)))})),u=m({deAlloc:a})}}}function c(){return u+=1n}}function m(n){return{...g,...n}}function _(n,r){return{...N(n),...r}}var y=a.flag,D=a.all,A=a.any;function N(n){return{type:function(){return"Some"},some:function(){return!0},none:function(){return!1},expect:function(r){return n},unlock:function(){return n},unlockOr:function(r){return n},and:function(r){return r(n)},map:function(r){return N(r(n))},toResult:function(r){return s(n)}}}var g=(()=>{let n;return n={type:function(){return"None"},some:function(){return!1},none:function(){return!0},expect:function(n){S(h("ERR_VALUE_REQUIRED",n))},unlockOr:function(n){return n},and:function(r){return n},map:function(r){return n},toResult:function(n){return R(n)}}})();function k(n,r=2n){let t;return 0n===e()?R(h("FPV.ERR_PRECISION_IS_ZERO","Fpv: Does not support zero precision.")):e()<0n?R(h("FPV.ERR_PRECISION_IS_NEGATIVE","Fpv: Does not support negative precision.")):(t=c(n),s({unwrap:function(){return t},precision:e,representation:o,add:function(n){return u((()=>t+c(n)))},sub:function(n){return u((()=>t-c(n)))},mul:function(n){return u((()=>t*c(n)/o()))},div:function(n){let r=c(n);return 0n===r?R(h("FPV.ERR_DIVISION_BY_ZERO","Fpv: Cannot divide by zero.")):s(u((()=>t*o()/r)))}}));function e(){return r}function o(){return 10n**e()}function u(n){return k(n()).expect("Fpv: Failed to wrap the task result into an Fpv."+U)}function c(n){return"bigint"==typeof n?n:n.unwrap()}}function I(n){if(null==n||"object"!=typeof n)return String(n);try{return JSON.stringify(n)}catch{}return"[object Object]"}function M(n){return p((()=>structuredClone(n))).mapErr((n=>n.parse((n=>null!=n&&"object"==typeof n&&"name"in n&&"code"in n&&"message"in n&&"string"==typeof n.name&&"number"==typeof n.code&&"string"==typeof n.message)).map((n=>P(n))).unlockOr(P())))}function T(n,r){return(n=>{let t=null!=n&&"object"==typeof n&&"type"in n&&"string"==typeof n.type;if(!1===t)return!1;if(void 0!==r){let e=r;t=t&&n.type===e}return t})(n)}function v(n,r){return(n=>{let t=null!=n&&"object"==typeof n&&"type"in n&&"function"==typeof n.type&&"string"==typeof n.type();if(!1===t)return!1;if(void 0!==r){let e=r;t=t&&n.type()===e}return t})(n)}function S(n,r,t){if("object"==typeof n){let t=n;y(r).unlockOr(C);throw["","",`     ${e=t.code,"[31m"+e+"[0m"} ${t.message.unlockOr("<<< UNAVAILABLE >>>")}`,"","     STACK_TRACE"+t.stack].join("\n")}{let e=n,o=y(r).unlockOr(S),u=y(t).unlockOr(C);throw Error().name="PANIC","PANIC "+e+"\n"+u.parseStackTrace(o)}var e}var C=(()=>{return{matchError:function(n,r,t){let e=n,o=null!=e&&"object"==typeof e&&T(e,"Error");if(!o)return!1;if(void 0!==r&&"string"==typeof r){let n=r;o=o&&"code"in e&&"string"==typeof e.code&&e.code===n}if(!o)return!1;let u=g;void 0!==r&&"function"==typeof r&&(u=N(r));void 0!==t&&(u=N(t));return u.map((n=>{n(e)})),!0},localStackTrace:n,parseStackTrace:function(t){return function(n){let t="";return n.split("\n").map((n=>function(n,r,t){return"Error"===n?t(n):r(n)}(n,(n=>n.trim()),(n=>"")))).filter((n=>n.length>0)).map((n=>function(n){let r=g,t=g,e=g,o=g,u=/at (?<location>.*?) \((?<path>.*?):(?<line>\d+):(?<column>\d+)\)/.exec(n);u&&u.groups&&(r=u.groups.location?N(u.groups.location):g,t=u.groups.path?N(u.groups.path):g,e=u.groups.line?N(BigInt(u.groups.line)):g,o=u.groups.column?N(BigInt(u.groups.column)):g);return[r,t,e,o]}(n))).map((([n,t,e,o])=>function(n,t,e,o){let u="at",c="<<< UNAVAILABLE >>>";return D(n,t,e,o).map((([n,t,e,o])=>`     ${r(u)} ${t} ${r(n)} ${e} ${o}`)).unlockOr("     "+r(c))}(n,t,e,o))).forEach((n=>{t+="\n"+n})),t}((e=t,"string"==typeof e?e:n(e).unlockOr("")));var e},convertToStandardError:function(n){let r=Error();return r.name=n.code,r.message=n.message.unlockOr(""),r.stack=n.stack.toString(),r.cause=void 0,r}};function n(n){let r=Error();return Error.captureStackTrace(r,n),r.stack?N(r.stack):g}function r(n){return"[31m"+n+"[0m"}})();function h(n,r,t){if("object"==typeof n){let r=n,t=y(r.handler).unlockOr(C);return{type:"Error",code:r.code,message:y(r.message),payload:y(r.payload),stack:y(r.stack).unlockOr(t.parseStackTrace(h))}}return{type:"Error",code:n,message:y(r),payload:y(t),stack:C.parseStackTrace(h)}}var w={EncodingError:"DOM.ERR_ENCODING",NotReadableError:"DOM.ERR_NOT_READABLE",UnknownError:"DOM.ERR_UNKNOWN",ConstraintError:"DOM.ERR_CONSTRAINT",DataError:"DOM.ERR_DATA",TransactionInactiveError:"DOM.ERR_TRANSACTION_INACTIVE",ReadOnlyError:"DOM.ERR_READ_ONLY",VersionError:"DOM.ERR_VERSION",OperationError:"DOM.ERR_OPERATION",NotAllowedError:"DOM.ERR_NOT_ALLOWED"},b={1:"DOM.ERR_INDEX_SIZE",3:"DOM.ERR_HIERARCHY_REQUEST",4:"DOM.ERR_WRONG_DOCUMENT",5:"DOM.ERR_INVALID_CHARACTER",7:"DOM.ERR_NO_MODIFICATION_ALLOWED",8:"DOM.ERR_NOT_FOUND",9:"DOM.ERR_NOT_SUPPORTED",11:"DOM.ERR_INVALID_STATE",12:"DOM.ERR_SYNTAX",13:"DOM.ERR_INVALID_MODIFICATION",14:"DOM.ERR_NAMESPACE",17:"DOM.ERR_TYPE_MISMATCH",18:"DOM.ERR_SECURITY",19:"DOM.ERR_NETWORK",20:"DOM.ERR_ABORT",21:"DOM.ERR_URL_MISMATCH",22:"DOM.ERR_QUOTA_EXCEEDED",23:"DOM.ERR_TIMEOUT",24:"DOM.ERR_INVALID_NODE_TYPE",25:"DOM.ERR_DATA_CLONE"};function P(n){{let r=n;return void 0===r?h("DOM.ERR_UNKNOWN"):h(function(n){let r="DOM.ERR_UNKNOWN";1===n.code||3===n.code||4===n.code||5===n.code||7===n.code||8===n.code||9===n.code||11===n.code||12===n.code||13===n.code||14===n.code||17===n.code||18===n.code||19===n.code||20===n.code||21===n.code||22===n.code||23===n.code||24===n.code||25===n.code?r=b[n.code]:"EncodingError"!==n.name&&"NotReadableError"!==n.name&&"UnknownError"!==n.name&&"ConstraintError"!==n.name&&"DataError"!==n.name&&"TransactionInactiveError"!==n.name&&"ReadOnlyError"!==n.name&&"VersionError"!==n.name&&"OperationError"!==n.name&&"NotAllowedError"!==n.name||(r=w[n.name]);return r}(r),r.message)}}var U="\nUh-oh, looks like Reliq took a wrong turn!\nDon't worry, it's not you-it's us.\nPlease report this at dreamcatcher_foundation@proton.me\n";//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc3JjL21vZC50cyIsICIuLi8uLi9zcmMvd3JhcHBlci9yZXN1bHQvcmVzdWx0LnRzIiwgIi4uLy4uL3NyYy93cmFwcGVyL29wdGlvbi9vcHRpb24udHMiLCAiLi4vLi4vc3JjL3dyYXBwZXIvdW5zYWZlL3Vuc2FmZS50cyIsICIuLi8uLi9zcmMvd3JhcHBlci9yZXN1bHQvdXRpbC9zaG9ydGhhbmQudHMiLCAiLi4vLi4vc3JjL3dyYXBwZXIvcmVzdWx0L29rL29rLnRzIiwgIi4uLy4uL3NyYy93cmFwcGVyL3Jlc3VsdC9lcnIvZXJyLnRzIiwgIi4uLy4uL3NyYy93cmFwcGVyL3JlZi9yZWYudHMiLCAiLi4vLi4vc3JjL3dyYXBwZXIvcGVyZm9ybWFuY2UvZHluL2R5bi50cyIsICIuLi8uLi9zcmMvd3JhcHBlci9wZXJmb3JtYW5jZS9keW4vZGVfYWxsb2MudHMiLCAiLi4vLi4vc3JjL3dyYXBwZXIvcGVyZm9ybWFuY2UvZHluL2FsbG9jLnRzIiwgIi4uLy4uL3NyYy93cmFwcGVyL29wdGlvbi91dGlsL3Nob3J0aGFuZC50cyIsICIuLi8uLi9zcmMvd3JhcHBlci9vcHRpb24vc29tZS9zb21lLnRzIiwgIi4uLy4uL3NyYy93cmFwcGVyL29wdGlvbi9ub25lL25vbmUudHMiLCAiLi4vLi4vc3JjL3dyYXBwZXIvZnB2L2Zwdi50cyIsICIuLi8uLi9zcmMvdXRpbC90b19zdHJpbmcudHMiLCAiLi4vLi4vc3JjL3V0aWwvY2xvbmUudHMiLCAiLi4vLi4vc3JjL3R5cGUvdHJhaXQvZ3VhcmQvaXNfYnJhbmRlZF9zdHJ1Y3QudHMiLCAiLi4vLi4vc3JjL3R5cGUvdHJhaXQvZ3VhcmQvaXNfYnJhbmRlZC50cyIsICIuLi8uLi9zcmMvZXJyb3IvcGFuaWMudHMiLCAiLi4vLi4vc3JjL2Vycm9yL2Vycm9yX2hhbmRsZXIudHMiLCAiLi4vLi4vc3JjL2Vycm9yL2Vycm9yLnRzIiwgIi4uLy4uL3NyYy9lcnJvci9kb20tZXJyb3IvZXhjZXB0aW9uL2RvbV9leGNlcHRpb25fbmFtZV90b19kb21fZXJyb3JfY29kZV9tYXAudHMiLCAiLi4vLi4vc3JjL2Vycm9yL2RvbS1lcnJvci9leGNlcHRpb24vZG9tX2V4Y2VwdGlvbl9jb2RlX3RvX2RvbV9lcnJvcl9jb2RlX21hcC50cyIsICIuLi8uLi9zcmMvZXJyb3IvZG9tLWVycm9yL2RvbV9lcnJvci50cyIsICIuLi8uLi9zcmMvY29uc3RhbnQvaW50ZXJuYWxfZXJyb3JfbWVzc2FnZS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiZXhwb3J0IHR5cGUgeyBBc3luY0Nsb3N1cmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBBc3luY0Z1bmN0aW9uIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB0eXBlIHsgQ2xvc3VyZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IEZ1bmN0aW9uIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB0eXBlIHsgTWF5YmVBc3luYyB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IFR5cGVHdWFyZCB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IEJyYW5kZWQgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBCcmFuZGVkU3RydWN0IH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB0eXBlIHsgUGFyc2FibGUgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBTZXJpYWxpemFibGUgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB7IEVycm9yIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IHBhbmljIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgdHlwZSB7IERvbUVycm9yQ29kZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgeyBEb21FcnJvciB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHsgY2xvbmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgdG9TdHJpbmcgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB7IGlzQnJhbmRlZCB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgeyBpc0JyYW5kZWRTdHJ1Y3QgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB0eXBlIHsgUmVzdWx0SGFuZGxlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IFJlc3VsdCB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IE9wdGlvbkhhbmRsZXIgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBPcHRpb24gfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBFcnJPZkFsbCB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IEVyck9mIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB0eXBlIHsgRXJyVmFsT2ZBbGwgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBFcnJWYWxPZiB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IE9rT2ZBbGwgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBPa09mIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB0eXBlIHsgT2tWYWxPZkFsbCB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IE9rVmFsT2YgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBTb21lT2ZBbGwgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBTb21lT2YgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBTb21lVmFsT2ZBbGwgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBTb21lVmFsT2YgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgRXJyIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IE9rIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IE5vbmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgU29tZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgeyBVbnNhZmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgYWxsUiB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgeyBhbnlSIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IHdyYXAgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgd3JhcEFzeW5jIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IGZsYWcgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgYWxsTyB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgeyBhbnlPIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgdHlwZSB7IEZwdkVycm9yQ29kZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IEZwdkVycm9yIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB0eXBlIHsgRnB2SXNoIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IEZwdiB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgeyBEeW5Db25zdHJ1Y3RvciB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IER5bldyYXBwZXIgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgQWxsb2MgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgRGVBbGxvYyB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgeyBEeW4gfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB0eXBlIHsgUmVmRGVsVGFzayB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IFJlZlRhc2sgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgUmVmIH0gZnJvbSBcIkByb290XCI7IiwgIlwicmFpc2UgMVwiO1xyXG5cclxuaW1wb3J0IHR5cGUgeyBFcnJWYWxPZkFsbCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IE9rVmFsT2ZBbGwgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBSZXN1bHRIYW5kbGVyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgQ2xvc3VyZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IEFzeW5jQ2xvc3VyZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBPayB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBFcnIgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgVW5zYWZlIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogQSB3cmFwcGVyIHRoYXQgZW5jYXBzdWxhdGVzIGVpdGhlciBhIHN1Y2Nlc3NmdWwgb3V0Y29tZSBgT2s8VDE+YCBvciBhIGZhaWx1cmUgYEVycjxUMj5gLlxyXG4gKiBcclxuICogKioqRXhhbXBsZSoqKlxyXG4gKiBgYGB0c1xyXG4gKiAgZnVuY3Rpb24gZm9vKCk6IFJlc3VsdDwyMDBuLCA0MDRuPiB7XHJcbiAqICAgICAgaWYgKCkgcmV0dXJuIE9rKDIwMG4pO1xyXG4gKiAgICAgIHJldHVybiBFcnIoNDA0bik7XHJcbiAqICB9XHJcbiAqIFxyXG4gKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gZm9vKCk7XHJcbiAqICBpZiAocmVzdWx0Lm9rKCkpIHtcclxuICogICAgICBsZXQgdmFsdWU6IDIwMG4gPSByZXN1bHQudW5sb2NrKCk7XHJcbiAqICAgICAgLy8vIC4uLlxyXG4gKiAgfVxyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCB0eXBlIFJlc3VsdDxUMSwgVDI+ID0gT2s8VDE+IHwgRXJyPFQyPjtcclxuXHJcbmV4cG9ydCBjb25zdCBSZXN1bHQ6IFJlc3VsdEhhbmRsZXIgPSAoKCkgPT4ge1xyXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqLyB7XHJcbiAgICAgICAgcmV0dXJuIHsgYWxsLCBhbnksIHdyYXAsIHdyYXBBc3luYyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFsbDxUMSBleHRlbmRzIEFycmF5PFJlc3VsdDx1bmtub3duLCB1bmtub3duPj4+KHJlc3VsdHM6IFQxKTogUmVzdWx0PE9rVmFsT2ZBbGw8VDE+LCBFcnJWYWxPZkFsbDxUMT5bbnVtYmVyXT4ge1xyXG4gICAgICAgIGxldCBvdXQ6IEFycmF5PHVua25vd24+ID0gW107XHJcbiAgICAgICAgbGV0IGk6IG51bWJlciA9IDA7XHJcbiAgICAgICAgd2hpbGUgKGkgPCByZXN1bHRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBSZXN1bHQ8dW5rbm93biwgdW5rbm93bj4gPSByZXN1bHRzLmF0KGkpITtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5vaygpKSBvdXQucHVzaChyZXN1bHQudW5sb2NrKCkpO1xyXG4gICAgICAgICAgICBlbHNlIHJldHVybiByZXN1bHQgYXMgRXJyPEVyclZhbE9mQWxsPFQxPltudW1iZXJdPjtcclxuICAgICAgICAgICAgaSArKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE9rKChvdXQgYXMgT2tWYWxPZkFsbDxUMT4pKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhbnk8VDEgZXh0ZW5kcyBBcnJheTxSZXN1bHQ8dW5rbm93biwgdW5rbm93bj4+PihyZXN1bHRzOiBUMSk6IFJlc3VsdDxPa1ZhbE9mQWxsPFQxPltudW1iZXJdLCBFcnJWYWxPZkFsbDxUMT4+IHtcclxuICAgICAgICBsZXQgb3V0OiBBcnJheTx1bmtub3duPiA9IFtdO1xyXG4gICAgICAgIGxldCBpOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHdoaWxlIChpIDwgcmVzdWx0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbGV0IHdyYXBwZXI6IFJlc3VsdDx1bmtub3duLCB1bmtub3duPiA9IHJlc3VsdHMuYXQoaSkhO1xyXG4gICAgICAgICAgICBpZiAod3JhcHBlci5vaygpKSByZXR1cm4gd3JhcHBlciBhcyBPazxPa1ZhbE9mQWxsPFQxPltudW1iZXJdPjtcclxuICAgICAgICAgICAgZWxzZSBvdXQucHVzaCh3cmFwcGVyLmluc3BlY3QoKSk7XHJcbiAgICAgICAgICAgIGkgKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBFcnIoKG91dCBhcyBFcnJWYWxPZkFsbDxUMT4pKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gd3JhcDxUMSwgVDIsIFQzIGV4dGVuZHMgQXJyYXk8VDI+Pih0YXNrOiBDbG9zdXJlPFQzLCBUMT4sIC4uLnBheWxvYWQ6IFQzKTogUmVzdWx0PFQxLCBVbnNhZmU+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gT2sodGFzayguLi5wYXlsb2FkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBFcnIoVW5zYWZlKGUpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZnVuY3Rpb24gd3JhcEFzeW5jPFQxLCBUMiwgVDMgZXh0ZW5kcyBBcnJheTxUMj4+KHRhc2s6IEFzeW5jQ2xvc3VyZTxUMywgVDE+LCAuLi5wYXlsb2FkOiBUMyk6IFByb21pc2U8UmVzdWx0PFQxLCBVbnNhZmU+PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIE9rKChhd2FpdCB0YXNrKC4uLnBheWxvYWQpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBFcnIoVW5zYWZlKGUpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7IiwgIlwicmFpc2UgMVwiO1xyXG5cclxuaW1wb3J0IHR5cGUgeyBPcHRpb25IYW5kbGVyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgU29tZVZhbE9mQWxsIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IFNvbWUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgTm9uZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBpc0JyYW5kZWQgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbi8qKlxyXG4gKiAqKipCcmllZioqKlxyXG4gKiBBIHR5cGUgdGhhdCByZXByZXNlbnRzIGFuIG9wdGlvbmFsIHZhbHVlLCBlbmNhcHN1bGF0aW5nIGVpdGhlciBhIHZhbHVlIGBTb21lYCBcclxuICogb3IgdGhlIGFic2VuY2Ugb2YgYSB2YWx1ZSBgTm9uZWAuXHJcbiAqL1xyXG5leHBvcnQgdHlwZSBPcHRpb248VDE+ID0gU29tZTxUMT4gfCBOb25lO1xyXG5cclxuZXhwb3J0IGNvbnN0IE9wdGlvbjogT3B0aW9uSGFuZGxlciA9ICgoKSA9PiB7XHJcbiAgICAvKiogQGNvbnN0cnVjdG9yICovIHtcclxuICAgICAgICByZXR1cm4geyBmbGFnLCBhbGwsIGFueSB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZsYWc8VDE+KHZhbHVlOiBUMSB8IG51bGwgfCB1bmRlZmluZWQpOiBPcHRpb248VDE+IHtcclxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiBOb25lO1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gTm9uZTtcclxuICAgICAgICByZXR1cm4gU29tZSgodmFsdWUgYXMgVDEpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhbGw8VDEgZXh0ZW5kcyBBcnJheTxPcHRpb248dW5rbm93bj4+PiguLi5vcHRpb25zOiBUMSk6IE9wdGlvbjxTb21lVmFsT2ZBbGw8VDE+PiB7XHJcbiAgICAgICAgbGV0IG91dDogQXJyYXk8dW5rbm93bj4gPSBbXTtcclxuICAgICAgICBsZXQgaTogbnVtYmVyID0gMDtcclxuICAgICAgICB3aGlsZSAoaSA8IG9wdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGxldCBvcHRpb246IE9wdGlvbjx1bmtub3duPiA9IG9wdGlvbnMuYXQoaSkhO1xyXG4gICAgICAgICAgICBpZiAob3B0aW9uLm5vbmUoKSkgcmV0dXJuIG9wdGlvbiBhcyBOb25lO1xyXG4gICAgICAgICAgICBvdXQucHVzaChvcHRpb24udW5sb2NrKCkpO1xyXG4gICAgICAgICAgICBpICsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gU29tZShvdXQgYXMgU29tZVZhbE9mQWxsPFQxPik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYW55PFQxIGV4dGVuZHMgQXJyYXk8T3B0aW9uPHVua25vd24+Pj4oLi4ub3B0aW9uczogVDEpOiBPcHRpb248U29tZVZhbE9mQWxsPFQxPltudW1iZXJdPiB7XHJcbiAgICAgICAgbGV0IGk6IG51bWJlciA9IDA7XHJcbiAgICAgICAgd2hpbGUgKGkgPCBvcHRpb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBsZXQgb3B0aW9uOiBPcHRpb248dW5rbm93bj4gPSBvcHRpb25zLmF0KGkpITtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbi5zb21lKCkpIHJldHVybiBvcHRpb24gYXMgU29tZTxTb21lVmFsT2ZBbGw8VDE+W251bWJlcl0+O1xyXG4gICAgICAgICAgICBpICsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTm9uZTtcclxuICAgIH1cclxufSkoKTsiLCAiaW1wb3J0IHR5cGUgeyBXcmFwcGVyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgUGFyc2FibGUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBUeXBlR3VhcmQgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBPcHRpb24gfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgU29tZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBOb25lIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgdHlwZSBVbnNhZmUgPVxyXG4gICAgJiBXcmFwcGVyPHVua25vd24+XHJcbiAgICAmIFBhcnNhYmxlO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFVuc2FmZShfdmFsdWU6IHVua25vd24pOiBVbnNhZmUge1xyXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqLyB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdW53cmFwLFxyXG4gICAgICAgICAgICBwYXJzZSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVud3JhcCgpOiB1bmtub3duIHtcclxuICAgICAgICByZXR1cm4gX3ZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBhcnNlPFQxPihndWFyZDogVHlwZUd1YXJkPFQxPik6IE9wdGlvbjxUMT4ge1xyXG4gICAgICAgIGlmICghZ3VhcmQodW53cmFwKCkpKSByZXR1cm4gTm9uZTtcclxuICAgICAgICByZXR1cm4gU29tZSgodW53cmFwKCkgYXMgVDEpKTtcclxuICAgIH1cclxufSIsICJpbXBvcnQgeyBSZXN1bHQgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBhbGxSID0gUmVzdWx0LmFsbDtcclxuZXhwb3J0IGNvbnN0IGFueVIgPSBSZXN1bHQuYW55O1xyXG5leHBvcnQgY29uc3Qgd3JhcCA9IFJlc3VsdC53cmFwO1xyXG5leHBvcnQgY29uc3Qgd3JhcEFzeW5jID0gUmVzdWx0LndyYXBBc3luYzsiLCAiaW1wb3J0IHR5cGUgeyBGdW5jdGlvbiB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IFVubG9ja2VkV3JhcHBlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IE9wdGlvbiB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IFJlc3VsdCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBFcnJvciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBFcnIgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgU29tZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBwYW5pYyB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgT2s8VDE+ID0gXHJcbiAgICAmIFVubG9ja2VkV3JhcHBlcjxUMT5cclxuICAgICYge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIGBva2AgY2hlY2tzIGlmIHRoZSBjdXJyZW50IGluc3RhbmNlIGlzIGBPa2AuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+O1xyXG4gICAgICogIGlmIChyZXN1bHQub2soKSkge1xyXG4gICAgICogICAgICBsZXQgdmFsdWU6IDIwMG4gPSByZXN1bHQudW5sb2NrKCk7XHJcbiAgICAgKiAgICAgIC8vLyAuLi5cclxuICAgICAqICB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgb2soKTogdGhpcyBpcyBPazxUMT47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogYGVycmAgY2hlY2tzIGlmIHRoZSBjdXJyZW50IGluc3RhbmNlIGlzIGBFcnJgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPjtcclxuICAgICAqICBpZiAocmVzdWx0LmVycigpKSB7XHJcbiAgICAgKiAgICAgIGxldCBlOiA0MDRuID0gcmVzdWx0Lmluc3BlY3QoKTtcclxuICAgICAqICAgICAgLy8vIC4uLlxyXG4gICAgICogIH1cclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBlcnIoKTogdGhpcyBpcyBFcnI8dW5rbm93bj47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogYGV4cGVjdGAgdGVybWluYXRlcyB3aXRoIGBwYW5pY2AgaWYgdGhlIGBSZXN1bHRgIGlzIGBFcnJgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipXYXJuaW5nKioqXHJcbiAgICAgKiBSZXNlcnZlZCBmb3IgZGVidWdnaW5nIG9yIHVucmVjb3ZlcmFibGUgZXJyb3JzLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPjtcclxuICAgICAqICBsZXQgc3RhdHVzOiAyMDBuID0gcmVzdWx0LmV4cGVjdChcIlRoaXMgaXMgdW5leHBlY3RlZCBhbmQgdW5yZWNvdmVyYWJsZS5cIik7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgZXhwZWN0KF9fOiB1bmtub3duKTogVDE7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogRW5zdXJlcyB0aGF0IHRoZSBgUmVzdWx0YCBpcyBhbiBgRXJyYCBhbmQgcmV0cmlldmVzIHRoZSBlcnJvciB2YWx1ZSBpbnNpZGUuXHJcbiAgICAgKiBcclxuICAgICAqICoqKldhcm5pbmcqKipcclxuICAgICAqIFJlc2VydmVkIGZvciBkZWJ1Z2dpbmcgb3IgdW5yZWNvdmVyYWJsZSBlcnJvcnMuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+O1xyXG4gICAgICogIGxldCBzdGF0dXM6IDQwNG4gPSByZXN1bHQuZXhwZWN0RXJyKFwiVGhpcyBpcyB1bmV4cGVjdGVkIGFuZCB1bnJlY292ZXJhYmxlLlwiKTtcclxuICAgICAqIGBgYFxyXG4gICAgKi9cclxuICAgIGV4cGVjdEVycihtZXNzYWdlOiBzdHJpbmcpOiBuZXZlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIHZhbHVlIG9mIGFuIGBPa2AsIG9yIGZhbGxzIGJhY2sgdG8gdGhlIHByb3ZpZGVkIHZhbHVlIGlmIGl0XHUyMDE5cyBhbiBgRXJyYC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj4gPSBFcnIoNDA0bik7XHJcbiAgICAgKiAgbGV0IHN0YXR1czogMjAwbiA9IHJlc3VsdC51bmxvY2tPcigyMDBuKTtcclxuICAgICAqICBjb25zb2xlLmxvZyhzdGF0dXMpOyAvLy8gMjAwbi5cclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICB1bmxvY2tPcihfXzogdW5rbm93bik6IFQxO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFJlY292ZXJzIGZyb20gdGhlIGN1cnJlbnQgZXJyb3IgYnkgYXBwbHlpbmcgYSByZWNvdmVyeSBmdW5jdGlvbiwgdHJhbnNmb3JtaW5nIHRoZSBgRXJyYCBpbnRvIGFuIGBPa2AuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gRXJyKDQwNG4pO1xyXG4gICAgICogIGxldCBzdGF0dXM6IDIwMG4gPSByZXN1bHRcclxuICAgICAqICAgICAgLnJlY292ZXIoKCkgPT4ge1xyXG4gICAgICogICAgICAgICAgcmV0dXJuIDIwMG47XHJcbiAgICAgKiAgICAgIH0pXHJcbiAgICAgKiAgICAgIC51bmxvY2soKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICByZWNvdmVyKF9fOiB1bmtub3duKTogT2s8VDE+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIEFwcGxpZXMgYSB0cmFuc2Zvcm1hdGlvbiB0byB0aGUgYE9rYCB2YWx1ZSBhbmQgcmV0dXJucyBhbiBgRXJyYCBpbnN0YW5jZSB3aXRoIHRoZSB0cmFuc2Zvcm1lZCB2YWx1ZS5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj4gPSBPaygyMDBuKTtcclxuICAgICAqICBsZXQgZTogNDA0biA9IHJlc3VsdFxyXG4gICAgICogICAgICAuZGVncmFkZSgoKSA9PiB7XHJcbiAgICAgKiAgICAgICAgICByZXR1cm4gNDA0bjtcclxuICAgICAqICAgICAgfSlcclxuICAgICAqICAgICAgLmluc3BlY3QoKTtcclxuICAgICAqICBjb25zb2xlLmxvZyhlKTsgLy8vIDQwNG4uXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgZGVncmFkZTxUMj4odGFzazogRnVuY3Rpb248VDEsIFQyPik6IEVycjxUMj47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogQ2hhaW5zIGFuIHRhc2sgdW50aWwgdGhlIGZpcnN0IGBFcnJgIGlzIGVuY291bnRlcmVkLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPiA9IEVycig0MDRuKTtcclxuICAgICAqICByZXN1bHRcclxuICAgICAqICAgICAgLmFuZCh2YWx1ZSA9PiB7XHJcbiAgICAgKiAgICAgICAgICAvLy8gVGFzayBpcyBza2lwcGVkIGJlY2F1c2UgYFJlc3VsdGAgaXMgYW4gYEVycmAuXHJcbiAgICAgKiAgICAgICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgICAgICByZXR1cm4gT2sodmFsdWUgKyAxbik7XHJcbiAgICAgKiAgICAgIH0pXHJcbiAgICAgKiAgICAgIC5hbmQodmFsdWUgPT4ge1xyXG4gICAgICogICAgICAgICAgLy8vIFRhc2sgaXMgc2tpcHBlZCBiZWNhdXNlIGBSZXN1bHRgIGlzIGFuIGBFcnJgLlxyXG4gICAgICogICAgICAgICAgLy8vIC4uLlxyXG4gICAgICogICAgICB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBhbmQ8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBPazxUMj4+KTogT2s8VDI+O1xyXG4gICAgYW5kPFQyPih0YXNrOiBGdW5jdGlvbjxUMSwgRXJyPFQyPj4pOiBSZXN1bHQ8VDEsIFQyPjtcclxuICAgIGFuZDxUMiwgVDM+KHRhc2s6IEZ1bmN0aW9uPFQxLCBSZXN1bHQ8VDIsIFQzPj4pOiBSZXN1bHQ8VDIsIFQzPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBUcmFuc2Zvcm1zIHRoZSBgT2tgIHZhbHVlIGlmIHByZXNlbnQsIGJ1dCBpZiB0aGlzIGlzIGFscmVhZHkgYW4gYEVycmAsIGl0IHJlbWFpbnMgdW5jaGFuZ2VkLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQwOiBSZXN1bHQ8MjAwbiwgNDA0bj4gPSBPaygyMDBuKTtcclxuICAgICAqICBsZXQgcmVzdWx0MTogUmVzdWx0PDIwMW4sIDQwNG4+ID0gcmVzdWx0Lm1hcCh2YWx1ZSA9PiB7XHJcbiAgICAgKiAgICAgIC8vLyBUYXNrIGlzIHJ1biBiZWNhdXNlIGBSZXN1bHRgIGlzIGBPa2AuXHJcbiAgICAgKiAgICAgIC8vLyAuLi5cclxuICAgICAqICAgICAgcmV0dXJuIHZhbHVlICsgMW47XHJcbiAgICAgKiAgfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgbWFwPFQyPih0YXNrOiBGdW5jdGlvbjxUMSwgVDI+KTogT2s8VDI+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFRyYW5zZm9ybXMgdGhlIGVycm9yIGNvbnRhaW5lZCBpbiB0aGUgYEVycmAgdXNpbmcgdGhlIHByb3ZpZGVkIGB0YXNrYCBmdW5jdGlvbi5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj4gPSBFcnIoNDA0bik7XHJcbiAgICAgKiAgcmVzdWx0XHJcbiAgICAgKiAgICAgIC5tYXBFcnIoZSA9PiB7XHJcbiAgICAgKiAgICAgICAgICByZXR1cm4gZSArIDFuO1xyXG4gICAgICogICAgICB9KVxyXG4gICAgICogICAgICAuaW5zcGVjdCgpOyAvLy8gNDA1bi5cclxuICAgICAqIGBgYFxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPiA9IE9rKDIwMG4pO1xyXG4gICAgICogIHJlc3VsdFxyXG4gICAgICogICAgICAubWFwRXJyKGUgPT4ge1xyXG4gICAgICogICAgICAgICAgLy8vIFRhc2sgaXMgcnVuIGJlY2F1c2UgYFJlc3VsdGAgaXMgYE9rYC5cclxuICAgICAqICAgICAgICAgIC8vLyAuLi5cclxuICAgICAqICAgICAgfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgbWFwRXJyKF9fOiB1bmtub3duKTogT2s8VDE+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIENvbnZlcnRzIGEgYFJlc3VsdDxUMSwgVDI+YCB0byBhbiBgT3B0aW9uPFQxPmAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+O1xyXG4gICAgICogIGxldCBvcHRpb246IE9wdGlvbjwyMDBuPiA9IHJlc3VsdC50b09wdGlvbigpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHRvT3B0aW9uKCk6IE9wdGlvbjxUMT47XHJcbn07XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogVGhlIHN1Y2Nlc3NmdWwgdmFsdWUgd2l0aGluIGEgYFJlc3VsdGAuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gT2s8VDE+KF92YWx1ZTogVDEpOiBPazxUMT4ge1xyXG4gICAgbGV0IF90aGlzOiBPazxUMT47XHJcblxyXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqLyB7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzID0ge1xyXG4gICAgICAgICAgICBvayxcclxuICAgICAgICAgICAgZXJyLFxyXG4gICAgICAgICAgICBleHBlY3QsXHJcbiAgICAgICAgICAgIGV4cGVjdEVycixcclxuICAgICAgICAgICAgdW5sb2NrLFxyXG4gICAgICAgICAgICB1bmxvY2tPcixcclxuICAgICAgICAgICAgYW5kLFxyXG4gICAgICAgICAgICBtYXAsXHJcbiAgICAgICAgICAgIG1hcEVycixcclxuICAgICAgICAgICAgcmVjb3ZlcixcclxuICAgICAgICAgICAgZGVncmFkZSxcclxuICAgICAgICAgICAgdG9PcHRpb25cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9rKCk6IHRoaXMgaXMgT2s8VDE+IHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBlcnIoKTogdGhpcyBpcyBFcnI8dW5rbm93bj4ge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBleHBlY3QoX186IHVua25vd24pOiBUMSB7XHJcbiAgICAgICAgcmV0dXJuIHVubG9jaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGV4cGVjdEVycihtZXNzYWdlOiBzdHJpbmcpOiBuZXZlciB7XHJcbiAgICAgICAgcGFuaWMoRXJyb3IoXCJQQU5JQ1wiLCBtZXNzYWdlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdW5sb2NrKCk6IFQxIHtcclxuICAgICAgICByZXR1cm4gX3ZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVubG9ja09yKF9fOiB1bmtub3duKTogVDEge1xyXG4gICAgICAgIHJldHVybiB1bmxvY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhbmQ8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBPazxUMj4+KTogT2s8VDI+O1xyXG4gICAgZnVuY3Rpb24gYW5kPFQyPih0YXNrOiBGdW5jdGlvbjxUMSwgRXJyPFQyPj4pOiBSZXN1bHQ8VDEsIFQyPjtcclxuICAgIGZ1bmN0aW9uIGFuZDxUMiwgVDM+KHRhc2s6IEZ1bmN0aW9uPFQxLCBSZXN1bHQ8VDIsIFQzPj4pOiBSZXN1bHQ8VDIsIFQzPjtcclxuICAgIGZ1bmN0aW9uIGFuZDxUMiwgVDM+KHRhc2s6IEZ1bmN0aW9uPFQxLCBSZXN1bHQ8VDIsIFQzPj4pOiBSZXN1bHQ8VDIsIFQzPiB7XHJcbiAgICAgICAgcmV0dXJuIHRhc2sodW5sb2NrKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1hcDxUMj4odGFzazogRnVuY3Rpb248VDEsIFQyPik6IE9rPFQyPiB7XHJcbiAgICAgICAgcmV0dXJuIE9rKHRhc2sodW5sb2NrKCkpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYXBFcnIoX186IHVua25vd24pOiBPazxUMT4ge1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZWNvdmVyKF9fOiB1bmtub3duKTogT2s8VDE+IHtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVncmFkZTxUMj4odGFzazogRnVuY3Rpb248VDEsIFQyPik6IEVycjxUMj4ge1xyXG4gICAgICAgIHJldHVybiBFcnIodGFzayh1bmxvY2soKSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvT3B0aW9uKCk6IE9wdGlvbjxUMT4ge1xyXG4gICAgICAgIHJldHVybiBTb21lKHVubG9jaygpKTtcclxuICAgIH1cclxufSIsICJpbXBvcnQgdHlwZSB7IEZ1bmN0aW9uIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgT3B0aW9uIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBFcnJvciBhcyBFcnJvcjAgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgT2sgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgTm9uZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBTb21lIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IHBhbmljIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgdHlwZSBFcnI8VDE+ID0ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIGBva2AgY2hlY2tzIGlmIHRoZSBjdXJyZW50IGluc3RhbmNlIGlzIGBPa2AuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+O1xyXG4gICAgICogIGlmIChyZXN1bHQub2soKSkge1xyXG4gICAgICogICAgICBsZXQgdmFsdWU6IDIwMG4gPSByZXN1bHQudW5sb2NrKCk7XHJcbiAgICAgKiAgICAgIC8vLyAuLi5cclxuICAgICAqICB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgb2soKTogdGhpcyBpcyBPazx1bmtub3duPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBgZXJyYCBjaGVja3MgaWYgdGhlIGN1cnJlbnQgaW5zdGFuY2UgaXMgYEVycmAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+O1xyXG4gICAgICogIGlmIChyZXN1bHQuZXJyKCkpIHtcclxuICAgICAqICAgICAgbGV0IGU6IDQwNG4gPSByZXN1bHQuaW5zcGVjdCgpO1xyXG4gICAgICogICAgICAvLy8gLi4uXHJcbiAgICAgKiAgfVxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGVycigpOiB0aGlzIGlzIEVycjxUMT47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogUmV0cmlldmVzIHRoZSBlcnJvciB2YWx1ZSBlbmNhcHN1bGF0ZWQgYnkgdGhlIGBFcnJgIGluc3RhbmNlLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPjtcclxuICAgICAqICBpZiAocmVzdWx0LmVycigpKSB7XHJcbiAgICAgKiAgICAgIGxldCBlOiA0MDRuID0gcmVzdWx0Lmluc3BlY3QoKTtcclxuICAgICAqICAgICAgLy8vIC4uLlxyXG4gICAgICogIH1cclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBpbnNwZWN0KCk6IFQxO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFJldHJpZXZlcyB0aGUgc3RhY2sgdHJhY2Ugb2YgdGhlIGVycm9yLCBnZW5lcmF0ZWQgYXQgdGhlIHRpbWUgdGhlIGBFcnJgIGluc3RhbmNlIHdhcyBjcmVhdGVkLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPjtcclxuICAgICAqICBpZiAocmVzdWx0LmVycigpKSB7XHJcbiAgICAgKiAgICAgIHJlc3VsdFxyXG4gICAgICogICAgICAgICAgLnN0YWNrKClcclxuICAgICAqICAgICAgICAgIC5saW5lcygpXHJcbiAgICAgKiAgICAgICAgICAuZm9yRWFjaChsaW5lID0+IHtcclxuICAgICAqICAgICAgICAgICAgICBsZXQgbGluZVJlcHJlc2VudGF0aW9uOiBzdHJpbmcgPSBsaW5lLnRvU3RyaW5nKCk7XHJcbiAgICAgKiAgICAgICAgICAgICAgLy8vIC4uLlxyXG4gICAgICogICAgICAgICAgICAgIHJldHVybjsgXHJcbiAgICAgKiAgICAgICAgICB9KTtcclxuICAgICAqICB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgc3RhY2soKTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIGBleHBlY3RgIHRlcm1pbmF0ZXMgd2l0aCBgcGFuaWNgIGlmIHRoZSBgUmVzdWx0YCBpcyBgRXJyYC5cclxuICAgICAqIFxyXG4gICAgICogKioqV2FybmluZyoqKlxyXG4gICAgICogUmVzZXJ2ZWQgZm9yIGRlYnVnZ2luZyBvciB1bnJlY292ZXJhYmxlIGVycm9ycy5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj47XHJcbiAgICAgKiAgbGV0IHN0YXR1czogMjAwbiA9IHJlc3VsdC5leHBlY3QoXCJUaGlzIGlzIHVuZXhwZWN0ZWQgYW5kIHVucmVjb3ZlcmFibGUuXCIpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGV4cGVjdChtZXNzYWdlOiBzdHJpbmcpOiBuZXZlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBFbnN1cmVzIHRoYXQgdGhlIGBSZXN1bHRgIGlzIGFuIGBFcnJgIGFuZCByZXRyaWV2ZXMgdGhlIGVycm9yIHZhbHVlIGluc2lkZS5cclxuICAgICAqIFxyXG4gICAgICogKioqV2FybmluZyoqKlxyXG4gICAgICogUmVzZXJ2ZWQgZm9yIGRlYnVnZ2luZyBvciB1bnJlY292ZXJhYmxlIGVycm9ycy5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj47XHJcbiAgICAgKiAgbGV0IHN0YXR1czogNDA0biA9IHJlc3VsdC5leHBlY3RFcnIoXCJUaGlzIGlzIHVuZXhwZWN0ZWQgYW5kIHVucmVjb3ZlcmFibGUuXCIpO1xyXG4gICAgICogYGBgXHJcbiAgICAqL1xyXG4gICAgZXhwZWN0RXJyKF9fOiB1bmtub3duKTogVDE7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogUmV0cmlldmVzIHRoZSB2YWx1ZSBvZiBhbiBgT2tgLCBvciBmYWxscyBiYWNrIHRvIHRoZSBwcm92aWRlZCB2YWx1ZSBpZiBpdFx1MjAxOXMgYW4gYEVycmAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gRXJyKDQwNG4pO1xyXG4gICAgICogIGxldCBzdGF0dXM6IDIwMG4gPSByZXN1bHQudW5sb2NrT3IoMjAwbik7XHJcbiAgICAgKiAgY29uc29sZS5sb2coc3RhdHVzKTsgLy8vIDIwMG4uXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgdW5sb2NrT3I8VDI+KGZhbGxiYWNrOiBUMik6IFQyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIENoYWlucyBhbiB0YXNrIHVudGlsIHRoZSBmaXJzdCBgRXJyYCBpcyBlbmNvdW50ZXJlZC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj4gPSBFcnIoNDA0bik7XHJcbiAgICAgKiAgcmVzdWx0XHJcbiAgICAgKiAgICAgIC5hbmQodmFsdWUgPT4ge1xyXG4gICAgICogICAgICAgICAgLy8vIFRhc2sgaXMgc2tpcHBlZCBiZWNhdXNlIGBSZXN1bHRgIGlzIGFuIGBFcnJgLlxyXG4gICAgICogICAgICAgICAgLy8vIC4uLlxyXG4gICAgICogICAgICAgICAgcmV0dXJuIE9rKHZhbHVlICsgMW4pO1xyXG4gICAgICogICAgICB9KVxyXG4gICAgICogICAgICAuYW5kKHZhbHVlID0+IHtcclxuICAgICAqICAgICAgICAgIC8vLyBUYXNrIGlzIHNraXBwZWQgYmVjYXVzZSBgUmVzdWx0YCBpcyBhbiBgRXJyYC5cclxuICAgICAqICAgICAgICAgIC8vLyAuLi5cclxuICAgICAqICAgICAgfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgYW5kKF9fOiB1bmtub3duKTogRXJyPFQxPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBUcmFuc2Zvcm1zIHRoZSBgT2tgIHZhbHVlIGlmIHByZXNlbnQsIGJ1dCBpZiB0aGlzIGlzIGFscmVhZHkgYW4gYEVycmAsIGl0IHJlbWFpbnMgdW5jaGFuZ2VkLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQwOiBSZXN1bHQ8MjAwbiwgNDA0bj4gPSBPaygyMDBuKTtcclxuICAgICAqICBsZXQgcmVzdWx0MTogUmVzdWx0PDIwMW4sIDQwNG4+ID0gcmVzdWx0Lm1hcCh2YWx1ZSA9PiB7XHJcbiAgICAgKiAgICAgIC8vLyBUYXNrIGlzIHJ1biBiZWNhdXNlIGBSZXN1bHRgIGlzIGBPa2AuXHJcbiAgICAgKiAgICAgIC8vLyAuLi5cclxuICAgICAqICAgICAgcmV0dXJuIHZhbHVlICsgMW47XHJcbiAgICAgKiAgfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgbWFwKF9fOiB1bmtub3duKTogRXJyPFQxPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBUcmFuc2Zvcm1zIHRoZSBlcnJvciBjb250YWluZWQgaW4gdGhlIGBFcnJgIHVzaW5nIHRoZSBwcm92aWRlZCBgdGFza2AgZnVuY3Rpb24uXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gRXJyKDQwNG4pO1xyXG4gICAgICogIHJlc3VsdFxyXG4gICAgICogICAgICAubWFwRXJyKGUgPT4ge1xyXG4gICAgICogICAgICAgICAgcmV0dXJuIGUgKyAxbjtcclxuICAgICAqICAgICAgfSlcclxuICAgICAqICAgICAgLmluc3BlY3QoKTsgLy8vIDQwNW4uXHJcbiAgICAgKiBgYGBcclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj4gPSBPaygyMDBuKTtcclxuICAgICAqICByZXN1bHRcclxuICAgICAqICAgICAgLm1hcEVycihlID0+IHtcclxuICAgICAqICAgICAgICAgIC8vLyBUYXNrIGlzIHJ1biBiZWNhdXNlIGBSZXN1bHRgIGlzIGBPa2AuXHJcbiAgICAgKiAgICAgICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIG1hcEVycjxUMj4odGFzazogRnVuY3Rpb248VDEsIFQyPik6IEVycjxUMj47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogUmVjb3ZlcnMgZnJvbSB0aGUgY3VycmVudCBlcnJvciBieSBhcHBseWluZyBhIHJlY292ZXJ5IGZ1bmN0aW9uLCB0cmFuc2Zvcm1pbmcgdGhlIGBFcnJgIGludG8gYW4gYE9rYC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj4gPSBFcnIoNDA0bik7XHJcbiAgICAgKiAgbGV0IHN0YXR1czogMjAwbiA9IHJlc3VsdFxyXG4gICAgICogICAgICAucmVjb3ZlcigoKSA9PiB7XHJcbiAgICAgKiAgICAgICAgICByZXR1cm4gMjAwbjtcclxuICAgICAqICAgICAgfSlcclxuICAgICAqICAgICAgLnVubG9jaygpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHJlY292ZXI8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBUMj4pOiBPazxUMj47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogQXBwbGllcyBhIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBgT2tgIHZhbHVlIGFuZCByZXR1cm5zIGFuIGBFcnJgIGluc3RhbmNlIHdpdGggdGhlIHRyYW5zZm9ybWVkIHZhbHVlLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPiA9IE9rKDIwMG4pO1xyXG4gICAgICogIGxldCBlOiA0MDRuID0gcmVzdWx0XHJcbiAgICAgKiAgICAgIC5kZWdyYWRlKCgpID0+IHtcclxuICAgICAqICAgICAgICAgIHJldHVybiA0MDRuO1xyXG4gICAgICogICAgICB9KVxyXG4gICAgICogICAgICAuaW5zcGVjdCgpO1xyXG4gICAgICogIGNvbnNvbGUubG9nKGUpOyAvLy8gNDA0bi5cclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBkZWdyYWRlKF9fOiB1bmtub3duKTogRXJyPFQxPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBDb252ZXJ0cyBhIGBSZXN1bHQ8VDEsIFQyPmAgdG8gYW4gYE9wdGlvbjxUMT5gLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPjtcclxuICAgICAqICBsZXQgb3B0aW9uOiBPcHRpb248MjAwbj4gPSByZXN1bHQudG9PcHRpb24oKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICB0b09wdGlvbigpOiBPcHRpb248bmV2ZXI+O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIFRoZSBmYWlsZWQgc3RhdGUgb2YgYSBgUmVzdWx0YC5cclxuICogXHJcbiAqICoqKldhcm5pbmcqKipcclxuICogQW55IG9wZXJhdGlvbiBhdHRlbXB0aW5nIHRvIGFjY2VzcyBhIGBSZXN1bHRgIG11c3Qgc2FmZWx5IGhhbmRsZSB0aGUgYEVycmAgc3RhdGUgb3IgdGVybWluYXRlIHdpdGggYW4gZXJyb3IuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gRXJyPFQxPihfdmFsdWU6IFQxKTogRXJyPFQxPjtcclxuZXhwb3J0IGZ1bmN0aW9uIEVycjxUMT4oX3ZhbHVlOiBUMSwgX2hhbmRsZXI6IEVycm9ySGFuZGxlcik6IEVycjxUMT47XHJcbmV4cG9ydCBmdW5jdGlvbiBFcnI8VDE+KFxyXG4gICAgX3AwOiBUMSxcclxuICAgIF9wMTogRXJyb3JIYW5kbGVyID0gRXJyb3JIYW5kbGVyXHJcbik6IEVycjxUMT4ge1xyXG4gICAgbGV0IF90aGlzOiBFcnI8VDE+O1xyXG4gICAgbGV0IF9zdGFjazogc3RyaW5nO1xyXG4gICAgbGV0IF92YWx1ZTogVDE7XHJcbiAgICBsZXQgX2hhbmRsZXI6IEVycm9ySGFuZGxlcjtcclxuICAgIFxyXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqLyB7XHJcbiAgICAgICAgX3ZhbHVlID0gX3AwO1xyXG4gICAgICAgIF9oYW5kbGVyID0gX3AxO1xyXG4gICAgICAgIF9zdGFjayA9IF9oYW5kbGVyLnBhcnNlU3RhY2tUcmFjZShFcnIpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcyA9IHtcclxuICAgICAgICAgICAgb2ssXHJcbiAgICAgICAgICAgIGVycixcclxuICAgICAgICAgICAgaW5zcGVjdCxcclxuICAgICAgICAgICAgc3RhY2ssXHJcbiAgICAgICAgICAgIGV4cGVjdCxcclxuICAgICAgICAgICAgZXhwZWN0RXJyLFxyXG4gICAgICAgICAgICB1bmxvY2tPcixcclxuICAgICAgICAgICAgYW5kLFxyXG4gICAgICAgICAgICBtYXAsXHJcbiAgICAgICAgICAgIG1hcEVycixcclxuICAgICAgICAgICAgcmVjb3ZlcixcclxuICAgICAgICAgICAgZGVncmFkZSxcclxuICAgICAgICAgICAgdG9PcHRpb25cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9rKCk6IHRoaXMgaXMgT2s8dW5rbm93bj4ge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBlcnIoKTogdGhpcyBpcyBFcnI8VDE+IHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbnNwZWN0KCk6IFQxIHtcclxuICAgICAgICByZXR1cm4gX3ZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHN0YWNrKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIF9zdGFjaztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBleHBlY3QobWVzc2FnZTogc3RyaW5nKTogbmV2ZXIge1xyXG4gICAgICAgIGxldCBlOiBUMSA9IGluc3BlY3QoKTtcclxuICAgICAgICBsZXQgdHJhbnNpZW50RU86IE9wdGlvbjxFcnJvcjA8YW55LCB1bmtub3duPj4gPSBOb25lO1xyXG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgbGV0IGN1c3RvbUU6IEVycm9yMDxhbnksIHVua25vd24+ID0gRXJyb3IwKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IGUubmFtZS50b1VwcGVyQ2FzZSgpLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdHJhbnNpZW50RU8gPSBTb21lKGN1c3RvbUUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHJhbnNpZW50RU8ubm9uZSgpKSBfaGFuZGxlci5tYXRjaEVycm9yKGUsIGUgPT4ge1xyXG4gICAgICAgICAgICBlLm1lc3NhZ2UgPSBlLm1lc3NhZ2UubWFwKG1lc3NhZ2UwID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlMCArIFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBcIlxcblwiICsgXHJcbiAgICAgICAgICAgICAgICBcIlxcbiAgICAgXCIgKyBcIkNvbnRleHRcIiArIFxyXG4gICAgICAgICAgICAgICAgXCJcXG4gICAgIFwiICsgbWVzc2FnZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRyYW5zaWVudEVPID0gU29tZShlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCB0cmFuc2llbnRFOiBFcnJvcjA8YW55LCB1bmtub3duPiA9IHRyYW5zaWVudEVPXHJcbiAgICAgICAgICAgIC50b1Jlc3VsdCh1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIC5yZWNvdmVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBFcnJvcjAoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFwiUEFOSUNcIixcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnVubG9jaygpO1xyXG4gICAgICAgIHBhbmljKHRyYW5zaWVudEUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGV4cGVjdEVycihfXzogdW5rbm93bik6IFQxIHtcclxuICAgICAgICByZXR1cm4gaW5zcGVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVubG9ja09yPFQyPihmYWxsYmFjazogVDIpOiBUMiB7XHJcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFuZChfXzogdW5rbm93bik6IEVycjxUMT4ge1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYXAoX186IHVua25vd24pOiBFcnI8VDE+IHtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbWFwRXJyPFQyPih0YXNrOiBGdW5jdGlvbjxUMSwgVDI+KTogRXJyPFQyPiB7XHJcbiAgICAgICAgcmV0dXJuIEVycih0YXNrKGluc3BlY3QoKSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlY292ZXI8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBUMj4pOiBPazxUMj4ge1xyXG4gICAgICAgIHJldHVybiBPayh0YXNrKGluc3BlY3QoKSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRlZ3JhZGUoX186IHVua25vd24pOiBFcnI8VDE+IHtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdG9PcHRpb24oKTogT3B0aW9uPG5ldmVyPiB7XHJcbiAgICAgICAgcmV0dXJuIE5vbmU7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHR5cGUgeyBSZWZEZWxUYXNrIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgUmVmVGFzayB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IFdyYXBwZXIgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFJlZjxUMT4gPSBcclxuICAgICYgV3JhcHBlcjxUMT4gXHJcbiAgICAmIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBNdXRhdGVzIHRoZSBpbnRlcm5hbCB2YWx1ZSBvZiB0aGUgYFJlZmAgaW5zdGFuY2UuXHJcbiAgICAgKi9cclxuICAgIG11dCh2YWx1ZTogVDEpOiBSZWY8VDE+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRoYXQgaXMgaW52b2tlZCB3aGVuZXZlciB0aGUgdmFsdWUgY2hhbmdlcy5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVmOiBSZWY8YmlnaW50PiA9IFJlZigyMDBuKTtcclxuICAgICAqICByZWYub25DaGFuZ2UodmFsdWUgPT4ge1xyXG4gICAgICogICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgIHJldHVybjtcclxuICAgICAqICB9KTtcclxuICAgICAqICByZWYubXV0KDQwNG4pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIG9uQ2hhbmdlKHRhc2s6IFJlZlRhc2s8VDE+KTogUmVmRGVsVGFzaztcclxufTtcclxuXHJcbi8qKlxyXG4gKiAqKipCcmllZioqKlxyXG4gKiBXcmFwcGVyIHRoYXQgc3VwcG9ydHMgbXV0YXRpb24gYW5kIGNoYW5nZSB0cmFja2luZy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBSZWY8VDE+KF92YWx1ZTogVDEpOiBSZWY8VDE+IHtcclxuICAgIGxldCBfdGhpczogUmVmPFQxPjtcclxuICAgIGxldCBfY291bnQ6IGJpZ2ludDtcclxuICAgIGxldCBfdGFza01hcDogTWFwPGJpZ2ludCwgUmVmVGFzazxUMT4+O1xyXG5cclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIF9jb3VudCA9IDBuO1xyXG4gICAgICAgIF90YXNrTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcyA9IHsgdW53cmFwLCBtdXQsIG9uQ2hhbmdlIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdW53cmFwKCk6IFQxIHtcclxuICAgICAgICByZXR1cm4gX3ZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG11dCh2YWx1ZTogVDEpOiBSZWY8VDE+IHtcclxuICAgICAgICBsZXQgb2xkVmFsdWU6IFQxID0gdW53cmFwKCk7XHJcbiAgICAgICAgbGV0IG5ld1ZhbHVlOiBUMSA9IHZhbHVlO1xyXG4gICAgICAgIF92YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIF90YXNrTWFwXHJcbiAgICAgICAgICAgIC52YWx1ZXMoKVxyXG4gICAgICAgICAgICAudG9BcnJheSgpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKHRhc2sgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhc2sobmV3VmFsdWUsIG9sZFZhbHVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uQ2hhbmdlKHRhc2s6IFJlZlRhc2s8VDE+KTogUmVmRGVsVGFzayB7XHJcbiAgICAgICAgbGV0IGtleTogYmlnaW50ID0gX2dlbktleSgpO1xyXG4gICAgICAgIF90YXNrTWFwLnNldChrZXksIHRhc2spO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIF90YXNrTWFwLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9nZW5LZXkoKTogYmlnaW50IHtcclxuICAgICAgICByZXR1cm4gX2NvdW50ICs9IDFuO1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB0eXBlIHsgQ2xvc3VyZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IE9wdGlvbiB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBJTlRFUk5BTF9FUlJPUl9NRVNTQUdFIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IEFsbG9jIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IERlQWxsb2MgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgU29tZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBOb25lIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgdHlwZSBEeW48VDE+ID0gQWxsb2M8VDE+IHwgRGVBbGxvYzxUMT47XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogQSBkeW5hbWljIHJlc291cmNlIG1hbmFnZW1lbnQgcGF0dGVybiwgYWxsb3dpbmcgZm9yXHJcbiAqIGFsbG9jYXRpb24gYW5kIGRlYWxsb2NhdGlvbiBvZiByZXNvdXJjZXMgd2l0aCBwcm9wZXIgbGlmZWN5Y2xlIGhhbmRsaW5nLlxyXG4gKiBcclxuICogKioqV2FybmluZyoqKlxyXG4gKiBUaGUgYER5bmAgd3JhcHBlciBtdXN0IGJlIHByb3Blcmx5IG1hbmFnZWQgdG8gYXZvaWQgbWVtb3J5IGxlYWtzLiBJZiB0aGUgd3JhcHBlciBpdHNlbGYgaXMgZ2FyYmFnZSBjb2xsZWN0ZWQgXHJcbiAqIHdpdGhvdXQgaXRzIGNvbnRlbnQgYmVpbmcgZXhwbGljaXRseSBkZWFsbG9jYXRlZCwgdGhlIHJlc291cmNlcyBpdCBtYW5hZ2VzIHdpbGwgbm90IGJlIHJlY3ljbGVkIFxyXG4gKiBhbmQgbWFkZSBhdmFpbGFibGUgZm9yIHJldXNlLiBFbnN1cmUgYWxsIGFsbG9jYXRlZCByZXNvdXJjZXMgYXJlIGRlYWxsb2NhdGVkIGJlZm9yZSB0aGUgYER5bmAgaW5zdGFuY2UgZ29lcyBvdXQgb2Ygc2NvcGUuXHJcbiAqIFxyXG4gKiAqKipFeGFtcGxlKioqXHJcbiAqIGBgYHRzXHJcbiAqICB0eXBlIENhciA9IHtcclxuICogICAgICBkcml2ZSgpOiB2b2lkO1xyXG4gKiAgfTtcclxuICogXHJcbiAqICBjb25zdCBDYXI6IER5bkNvbnN0cnVjdG9yPENhciwgW19tb2RlbDogc3RyaW5nXT4gPSBEeW4oXHJcbiAqICAgICAgKF9tb2RlbDogc3RyaW5nKSA9PiB7XHJcbiAqICAgICAgICAgIGNvbnN0cnVjdG9yIHtcclxuICogICAgICAgICAgICAgIHJldHVybiB7IGRyaXZlIH07XHJcbiAqICAgICAgICAgIH1cclxuICogXHJcbiAqICAgICAgICAgIGZ1bmN0aW9uIGRyaXZlKCk6IHZvaWQge1xyXG4gKiAgICAgICAgICAgICAgcmV0dXJuIFwiVnJvb20uXCI7XHJcbiAqICAgICAgICAgIH1cclxuICogICAgICB9LFxyXG4gKiAgICAgIGNhciA9PiB7XHJcbiAqICAgICAgICAgIC8vLyBSZXNldCBjYXIgb3IgYW55IHRhc2tzIGJlZm9yZSBpdCBpcyBtYWRlIGF2YWlsYWJsZSBhZ2Fpbi5cclxuICogICAgICAgICAgLy8vIC4uLlxyXG4gKiAgICAgICAgICByZXR1cm4gY2FyO1xyXG4gKiAgICAgIH0sIDMybiwgXCJNb2RlbFRcIlxyXG4gKiAgKTtcclxuICogXHJcbiAqICBsZXQgY2FyOiBEeW48Q2FyPiA9IENhcihcIk1vZGVsRlwiKTtcclxuICogIGNhciA9IGNhci5kZUFsbG9jKCk7XHJcbiAqICBjYXIubWFwKGNhciA9PiB7XHJcbiAqICAgICAgLy8vIFdpbGwgbm90IHJ1biBiZWNhdXNlIGBjYXJgIGhhcyBiZWVuIGRlYWxsb2NhdGVkLlxyXG4gKiAgICAgIC8vLyAuLi5cclxuICogIH0pO1xyXG4gKiBgYGBcclxuICogXHJcbiAqICoqKkV4YW1wbGUqKipcclxuICogYGBgdHNcclxuICogIC8vLyBXYXJuaW5nLlxyXG4gKiAgbGV0IGNhcjogRHluPENhcj4gPSBDYXIoXCJNb2RlbEJcIik7XHJcbiAqICBjYXIuZGVBbGxvYygpO1xyXG4gKiAgY2FyLm1hcChjYXIgPT4ge1xyXG4gKiAgICAgIC8vLyBXaWxsIHJ1biBiZWNhdXNlIHRoZSBjYXIgbXVzdCBiZSB1cGRhdGVkIHRvIHRoZSBuZXcgc3RhdGUuXHJcbiAqICAgICAgLy8vIEFsd2F5cyBhc3NpZ24gdGhlIGBkZUFsbG9jYCByZXN1bHQgYSBuZXcgYER5bmAgd3JhcHBlciBvclxyXG4gKiAgICAgIC8vLyBpdHNlbGYuXHJcbiAqICAgICAgLy8vIC4uLlxyXG4gKiAgfSk7XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIER5bjxUMSwgVDIgZXh0ZW5kcyBBcnJheTx1bmtub3duPj4oX2NvbnN0cnVjdG9yOiBDbG9zdXJlPFQyLCBUMT4sIF9vbkRlQWxsb2M6IENsb3N1cmU8W1QxXSwgVDE+LCBfbG9hZDogYmlnaW50LCAuLi5fb25Mb2FkUGF5bG9hZDogVDIpOiBDbG9zdXJlPFQyLCBEeW48VDE+PiB7XHJcbiAgICBsZXQgX2F2YWlsYWJsZTogTWFwPGJpZ2ludCwgVDE+O1xyXG4gICAgbGV0IF9jb3VudDogYmlnaW50O1xyXG5cclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIF9hdmFpbGFibGUgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgX2NvdW50ID0gMG47XHJcbiAgICAgICAgbGV0IGk6IGJpZ2ludCA9IDBuO1xyXG4gICAgICAgIHdoaWxlIChpIDwgX2xvYWQpIHtcclxuICAgICAgICAgICAgbGV0IGtleTogYmlnaW50ID0gX2dlbktleSgpO1xyXG4gICAgICAgICAgICBfYXZhaWxhYmxlLnNldChrZXksIF9jb25zdHJ1Y3RvciguLi5fb25Mb2FkUGF5bG9hZCkpO1xyXG4gICAgICAgICAgICBpICsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKC4uLnBheWxvYWQ6IFQyKTogRHluPFQxPiB7XHJcbiAgICAgICAgICAgIGxldCBfa2V5OiBPcHRpb248YmlnaW50PjtcclxuICAgICAgICAgICAgbGV0IF90aGlzOiBEeW48VDE+O1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgICAgICAgICAgX2tleSA9IE5vbmU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMgPSBhbGxvYygpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhbGxvYygpOiBBbGxvYzxUMT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWN5Y2xlZEtleSgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRvUmVzdWx0KHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAubWFwKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9rZXkgPSBTb21lKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBBbGxvYyhfcmVjeWxlZChrZXkpLCB7IGRlQWxsb2MgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAucmVjb3ZlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9rZXkgPSBTb21lKF9nZW5LZXkoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBBbGxvYyhfY29uc3RydWN0b3IoLi4ucGF5bG9hZCksIHsgZGVBbGxvYyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC51bmxvY2soKTsgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRlQWxsb2MoKTogRGVBbGxvYzxUMT4ge1xyXG4gICAgICAgICAgICAgICAgX2tleVxyXG4gICAgICAgICAgICAgICAgICAgIC50b1Jlc3VsdCh1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8gSWYgdGhlIGtleSBpcyBhdmFpbGFibGUgdGhlbiBpdCBpcyBhbGxvY2F0ZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9rZXkgPSBOb25lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVjeWxlKGtleSwgX29uRGVBbGxvYyhfdGhpcy5leHBlY3QoXCJEeW46IENvdWxkIG5vdCBkZWFsbG9jYXRlIHJlc291cmNlIGJ1dCB0aGUga2V5IHdhcyBhdmFpbGFibGUuXCIgKyBJTlRFUk5BTF9FUlJPUl9NRVNTQUdFKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMgPSBEZUFsbG9jKHsgZGVBbGxvYyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2dlbktleSgpOiBiaWdpbnQge1xyXG4gICAgICAgIHJldHVybiBfY291bnQgKz0gMW47XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX3JlY3ljbGVkS2V5KCk6IE9wdGlvbjxiaWdpbnQ+IHtcclxuICAgICAgICBsZXQga2V5OiBiaWdpbnQgfCB1bmRlZmluZWQgPSBfYXZhaWxhYmxlXHJcbiAgICAgICAgICAgIC5rZXlzKClcclxuICAgICAgICAgICAgLnRvQXJyYXkoKVxyXG4gICAgICAgICAgICAuYXQoMCk7XHJcbiAgICAgICAgaWYgKCFrZXkpIHJldHVybiBOb25lO1xyXG4gICAgICAgIHJldHVybiBTb21lKGtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX3JlY3lsZWQoa2V5OiBiaWdpbnQpOiBUMSB7XHJcbiAgICAgICAgbGV0IHZhbHVlOiBUMSA9IF9hdmFpbGFibGUuZ2V0KGtleSkhO1xyXG4gICAgICAgIF9hdmFpbGFibGUuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9yZWN5bGUoa2V5OiBiaWdpbnQsIHZhbHVlOiBUMSk6IHZvaWQge1xyXG4gICAgICAgIF9hdmFpbGFibGUuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxufSIsICJpbXBvcnQgdHlwZSB7IER5bldyYXBwZXIgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgTm9uZSB9IGZyb20gXCJAcm9vdFwiXHJcblxyXG5leHBvcnQgdHlwZSBEZUFsbG9jPFQxPiA9IFxyXG4gICAgJiBEeW5XcmFwcGVyPFQxPlxyXG4gICAgJiBOb25lO1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIFRoZSBkZWFsbG9jYXRlZCBzdGF0ZSBvZiBhbiBhbGxvY2F0ZWQgcmVzb3VyY2UuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gRGVBbGxvYzxUMT4oX2R5bjogRHluV3JhcHBlcjxUMT4pOiBEZUFsbG9jPFQxPiB7XHJcbiAgICAvKiogQGNvbnN0cnVjdG9yICovIHtcclxuICAgICAgICByZXR1cm4geyAuLi4gTm9uZSwgLi4uIF9keW4gfTtcclxuICAgIH1cclxufSIsICJpbXBvcnQgdHlwZSB7IER5bldyYXBwZXIgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBVbmxvY2tlZFdyYXBwZXIgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgU29tZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgQWxsb2M8VDE+ID1cclxuICAgICYgRHluV3JhcHBlcjxUMT5cclxuICAgICYgVW5sb2NrZWRXcmFwcGVyPFQxPlxyXG4gICAgJiBTb21lPFQxPjtcclxuXHJcbi8qKlxyXG4gKiAqKipCcmllZioqKlxyXG4gKiBUaGUgYWxsb2NhdGVkIHN0YXRlIG9mIGFuIGFsbG9jYXRlZCByZXNvdXJjZS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBBbGxvYzxUMT4oX3ZhbHVlOiBUMSwgX2R5bjogRHluV3JhcHBlcjxUMT4pOiBBbGxvYzxUMT4ge1xyXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqLyB7XHJcbiAgICAgICAgcmV0dXJuIHsgLi4uIFNvbWUoX3ZhbHVlKSwgLi4uIF9keW4gfTtcclxuICAgIH1cclxufSIsICJpbXBvcnQgeyBPcHRpb24gfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBmbGFnOiB0eXBlb2YgT3B0aW9uLmZsYWcgPSBPcHRpb24uZmxhZztcclxuXHJcbmV4cG9ydCBjb25zdCBhbGxPOiB0eXBlb2YgT3B0aW9uLmFsbCA9IE9wdGlvbi5hbGw7XHJcblxyXG5leHBvcnQgY29uc3QgYW55TzogdHlwZW9mIE9wdGlvbi5hbnkgPSBPcHRpb24uYW55OyIsICJpbXBvcnQgdHlwZSB7IEZ1bmN0aW9uIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgT3B0aW9uIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgVW5sb2NrZWRXcmFwcGVyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgQnJhbmRlZCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBOb25lIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IE9rIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgdHlwZSBTb21lPFQxPiA9IFxyXG4gICAgJiBCcmFuZGVkPFwiU29tZVwiPlxyXG4gICAgJiBVbmxvY2tlZFdyYXBwZXI8VDE+XHJcbiAgICAmIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBgc29tZWAgY2hlY2tzIGlmIHRoZSBjdXJyZW50IGluc3RhbmNlIGlzIGBTb21lYC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgb3B0aW9uOiBPcHRpb248MjAwbj47XHJcbiAgICAgKiAgaWYgKG9wdGlvbi5zb21lKCkpIHtcclxuICAgICAqICAgICAgbGV0IHZhbHVlOiAyMDBuID0gb3B0aW9uLnVubG9jaygpO1xyXG4gICAgICogICAgICAvLy8gLi4uXHJcbiAgICAgKiAgfVxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHNvbWUoKTogdGhpcyBpcyBTb21lPFQxPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBgbm9uZWAgY2hlY2tzIGlmIHRoZSBjdXJyZW50IGluc3RhbmNlIGlzIGBOb25lYC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgb3B0aW9uOiBPcHRpb248MjAwbj47XHJcbiAgICAgKiAgaWYgKG9wdGlvbi5ub25lKCkpIHtcclxuICAgICAqICAgICAgLy8vIGBPcHRpb25gIGNhbm5vdCBgdW5sb2NrYCBiZWNhdXNlIGl0IGlzIGBOb25lYC5cclxuICAgICAqICAgICAgLy8vIC4uLlxyXG4gICAgICogIH1cclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBub25lKCk6IHRoaXMgaXMgTm9uZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBgZXhwZWN0YCB0ZXJtaW5hdGVzIHdpdGggYHBhbmljYCBpZiB0aGUgYE9wdGlvbmAgaXMgYE5vbmVgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipXYXJuaW5nKioqXHJcbiAgICAgKiBSZXNlcnZlZCBmb3IgZGVidWdnaW5nIG9yIHVucmVjb3ZlcmFibGUgZXJyb3JzLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCBvcHRpb246IE9wdGlvbjwyMDBuPjtcclxuICAgICAqICBsZXQgc3RhdHVzOiAyMDBuID0gb3B0aW9uLmV4cGVjdChcIlRoaXMgaXMgdW5leHBlY3RlZCBhbmQgdW5yZWNvdmVyYWJsZS5cIik7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgZXhwZWN0KF9fOiB1bmtub3duKTogVDE7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogUmV0cmlldmVzIHRoZSB2YWx1ZSBvZiBhIGBTb21lYCwgb3IgZmFsbHMgYmFjayB0byB0aGUgcHJvdmlkZWQgdmFsdWUgaWYgaXRcdTIwMTlzIGBOb25lYC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgb3B0aW9uOiBPcHRpb248MjAwbj4gPSBOb25lO1xyXG4gICAgICogIGxldCBzdGF0dXM6IDIwMG4gPSBvcHRpb24udW5sb2NrT3IoMjAwbik7XHJcbiAgICAgKiAgY29uc29sZS5sb2coc3RhdHVzKTsgLy8vIDIwMG4uXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgdW5sb2NrT3IoX186IHVua25vd24pOiBUMTtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBDaGFpbnMgYW4gdGFzayB1bnRpbCB0aGUgZmlyc3QgYE5vbmVgIGlzIGVuY291bnRlcmVkLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCBvcHRpb246IE9wdGlvbjwyMDBuPiA9IE5vbmU7XHJcbiAgICAgKiAgb3B0aW9uXHJcbiAgICAgKiAgICAgIC5hbmQodmFsdWUgPT4ge1xyXG4gICAgICogICAgICAgICAgLy8vIFRhc2sgaXMgc2tpcHBlZCBiZWNhdXNlIGBPcHRpb25gIGlzIGBOb25lYC5cclxuICAgICAqICAgICAgICAgIC8vLyAuLi5cclxuICAgICAqICAgICAgICAgIHJldHVybiBTb21lKHZhbHVlICsgMW4pO1xyXG4gICAgICogICAgICB9KVxyXG4gICAgICogICAgICAuYW5kKHZhbHVlID0+IHtcclxuICAgICAqICAgICAgICAgIC8vLyBUYXNrIGlzIHNraXBwZWQgYmVjYXVzZSBgT3B0aW9uYCBpcyBgTm9uZWAuXHJcbiAgICAgKiAgICAgICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGFuZDxUMj4odGFzazogRnVuY3Rpb248VDEsIE9wdGlvbjxUMj4+KTogT3B0aW9uPFQyPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBUcmFuc2Zvcm1zIHRoZSBgU29tZWAgdmFsdWUgaWYgcHJlc2VudCwgYnV0IGlmIHRoaXMgaXMgYWxyZWFkeSBhbiBgTm9uZWAsIGl0IHJlbWFpbnMgdW5jaGFuZ2VkLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCBvcHRpb24wOiBPcHRpb248MjAwbj4gPSBTb21lKDIwMG4pO1xyXG4gICAgICogIGxldCBvcHRpb24xOiBPcHRpb248MjAxbj4gPSBvcHRpb24ubWFwKHZhbHVlID0+IHtcclxuICAgICAqICAgICAgLy8vIFRhc2sgaXMgcnVuIGJlY2F1c2UgYE9wdGlvbmAgaXMgYFNvbWVgLlxyXG4gICAgICogICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgIHJldHVybiB2YWx1ZSArIDFuO1xyXG4gICAgICogIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIG1hcDxUMj4odGFzazogRnVuY3Rpb248VDEsIFQyPik6IFNvbWU8VDI+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIENvbnZlcnRzIGFuIGBPcHRpb248VDE+YCB0byBhIGBSZXN1bHQ8VDEsIFQyPmAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+O1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPiA9IG9wdGlvbi50b1Jlc3VsdCg0MDRuKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICB0b1Jlc3VsdChfXzogdW5rbm93bik6IE9rPFQxPjtcclxufTtcclxuXHJcbi8qKlxyXG4gKiAqKipCcmllZioqKlxyXG4gKiBUaGUgdmFsdWUgd2l0aGluIGFuIGBPcHRpb25gLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIFNvbWU8VDE+KF92YWx1ZTogVDEpOiBTb21lPFQxPiB7XHJcbiAgICAvKiogQGNvbnN0cnVjdG9yICovIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgICBzb21lLFxyXG4gICAgICAgICAgICBub25lLFxyXG4gICAgICAgICAgICBleHBlY3QsXHJcbiAgICAgICAgICAgIHVubG9jayxcclxuICAgICAgICAgICAgdW5sb2NrT3IsXHJcbiAgICAgICAgICAgIGFuZCxcclxuICAgICAgICAgICAgbWFwLFxyXG4gICAgICAgICAgICB0b1Jlc3VsdFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdHlwZSgpOiBcIlNvbWVcIiB7XHJcbiAgICAgICAgcmV0dXJuIFwiU29tZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNvbWUoKTogdGhpcyBpcyBTb21lPFQxPiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbm9uZSgpOiB0aGlzIGlzIE5vbmUge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBleHBlY3QoX186IHVua25vd24pOiBUMSB7XHJcbiAgICAgICAgcmV0dXJuIF92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1bmxvY2soKTogVDEge1xyXG4gICAgICAgIHJldHVybiBfdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdW5sb2NrT3IoX186IHVua25vd24pOiBUMSB7XHJcbiAgICAgICAgcmV0dXJuIF92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhbmQ8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBPcHRpb248VDI+Pik6IE9wdGlvbjxUMj4ge1xyXG4gICAgICAgIHJldHVybiB0YXNrKF92YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbWFwPFQyPih0YXNrOiBGdW5jdGlvbjxUMSwgVDI+KTogU29tZTxUMj4ge1xyXG4gICAgICAgIHJldHVybiBTb21lKHRhc2soX3ZhbHVlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdG9SZXN1bHQoX186IHVua25vd24pOiBPazxUMT4ge1xyXG4gICAgICAgIHJldHVybiBPayhfdmFsdWUpO1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB0eXBlIHsgQnJhbmRlZCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBTb21lIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IEVyciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBFcnJvciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBwYW5pYyB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgTm9uZSA9IFxyXG4gICAgJiBCcmFuZGVkPFwiTm9uZVwiPlxyXG4gICAgJiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogYHNvbWVgIGNoZWNrcyBpZiB0aGUgY3VycmVudCBpbnN0YW5jZSBpcyBgU29tZWAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+O1xyXG4gICAgICogIGlmIChvcHRpb24uc29tZSgpKSB7XHJcbiAgICAgKiAgICAgIGxldCB2YWx1ZTogMjAwbiA9IG9wdGlvbi51bmxvY2soKTtcclxuICAgICAqICAgICAgLy8vIC4uLlxyXG4gICAgICogIH1cclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBzb21lKCk6IHRoaXMgaXMgU29tZTx1bmtub3duPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBgbm9uZWAgY2hlY2tzIGlmIHRoZSBjdXJyZW50IGluc3RhbmNlIGlzIGBOb25lYC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgb3B0aW9uOiBPcHRpb248MjAwbj47XHJcbiAgICAgKiAgaWYgKG9wdGlvbi5ub25lKCkpIHtcclxuICAgICAqICAgICAgLy8vIGBPcHRpb25gIGNhbm5vdCBgdW5sb2NrYCBiZWNhdXNlIGl0IGlzIGBOb25lYC5cclxuICAgICAqICAgICAgLy8vIC4uLlxyXG4gICAgICogIH1cclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBub25lKCk6IHRoaXMgaXMgTm9uZTtcclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogYGV4cGVjdGAgdGVybWluYXRlcyB3aXRoIGBwYW5pY2AgaWYgdGhlIGBPcHRpb25gIGlzIGBOb25lYC5cclxuICAgICAqIFxyXG4gICAgICogKioqV2FybmluZyoqKlxyXG4gICAgICogUmVzZXJ2ZWQgZm9yIGRlYnVnZ2luZyBvciB1bnJlY292ZXJhYmxlIGVycm9ycy5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgb3B0aW9uOiBPcHRpb248MjAwbj47XHJcbiAgICAgKiAgbGV0IHN0YXR1czogMjAwbiA9IG9wdGlvbi5leHBlY3QoXCJUaGlzIGlzIHVuZXhwZWN0ZWQgYW5kIHVucmVjb3ZlcmFibGUuXCIpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGV4cGVjdChtZXNzYWdlOiBzdHJpbmcpOiBuZXZlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIHZhbHVlIG9mIGEgYFNvbWVgLCBvciBmYWxscyBiYWNrIHRvIHRoZSBwcm92aWRlZCB2YWx1ZSBpZiBpdFx1MjAxOXMgYE5vbmVgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCBvcHRpb246IE9wdGlvbjwyMDBuPiA9IE5vbmU7XHJcbiAgICAgKiAgbGV0IHN0YXR1czogMjAwbiA9IG9wdGlvbi51bmxvY2tPcigyMDBuKTtcclxuICAgICAqICBjb25zb2xlLmxvZyhzdGF0dXMpOyAvLy8gMjAwbi5cclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICB1bmxvY2tPcjxUMj4oZmFsbGJhY2s6IFQyKTogVDI7XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIENoYWlucyBhbiB0YXNrIHVudGlsIHRoZSBmaXJzdCBgTm9uZWAgaXMgZW5jb3VudGVyZWQuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+ID0gTm9uZTtcclxuICAgICAqICBvcHRpb25cclxuICAgICAqICAgICAgLmFuZCh2YWx1ZSA9PiB7XHJcbiAgICAgKiAgICAgICAgICAvLy8gVGFzayBpcyBza2lwcGVkIGJlY2F1c2UgYE9wdGlvbmAgaXMgYE5vbmVgLlxyXG4gICAgICogICAgICAgICAgLy8vIC4uLlxyXG4gICAgICogICAgICAgICAgcmV0dXJuIFNvbWUodmFsdWUgKyAxbik7XHJcbiAgICAgKiAgICAgIH0pXHJcbiAgICAgKiAgICAgIC5hbmQodmFsdWUgPT4ge1xyXG4gICAgICogICAgICAgICAgLy8vIFRhc2sgaXMgc2tpcHBlZCBiZWNhdXNlIGBPcHRpb25gIGlzIGBOb25lYC5cclxuICAgICAqICAgICAgICAgIC8vLyAuLi5cclxuICAgICAqICAgICAgfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgYW5kKF9fOiB1bmtub3duKTogTm9uZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBUcmFuc2Zvcm1zIHRoZSBgU29tZWAgdmFsdWUgaWYgcHJlc2VudCwgYnV0IGlmIHRoaXMgaXMgYWxyZWFkeSBhbiBgTm9uZWAsIGl0IHJlbWFpbnMgdW5jaGFuZ2VkLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCBvcHRpb24wOiBPcHRpb248MjAwbj4gPSBTb21lKDIwMG4pO1xyXG4gICAgICogIGxldCBvcHRpb24xOiBPcHRpb248MjAxbj4gPSBvcHRpb24ubWFwKHZhbHVlID0+IHtcclxuICAgICAqICAgICAgLy8vIFRhc2sgaXMgcnVuIGJlY2F1c2UgYE9wdGlvbmAgaXMgYFNvbWVgLlxyXG4gICAgICogICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgIHJldHVybiB2YWx1ZSArIDFuO1xyXG4gICAgICogIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIG1hcChfXzogdW5rbm93bik6IE5vbmU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogQ29udmVydHMgYW4gYE9wdGlvbjxUMT5gIHRvIGEgYFJlc3VsdDxUMSwgVDI+YC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgb3B0aW9uOiBPcHRpb248MjAwbj47XHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gb3B0aW9uLnRvUmVzdWx0KDQwNG4pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHRvUmVzdWx0PFQxPihlOiBUMSk6IEVycjxUMT47XHJcbn07XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogVGhlIGFic2VuY2Ugb2YgYSB2YWx1ZSBvciBhbiBcImVtcHR5XCIgc3RhdGUuXHJcbiAqIFxyXG4gKiAqKipXYXJuaW5nKioqXHJcbiAqIEFueSBvcGVyYXRpb24gYXR0ZW1wdGluZyB0byBhY2Nlc3MgYW4gYE9wdGlvbmAgbXVzdCBzYWZlbHkgaGFuZGxlIHRoZSBgTm9uZWAgc3RhdGUgb3IgdGVybWluYXRlIHdpdGggYW4gZXJyb3IuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgTm9uZTogTm9uZSA9ICgoKSA9PiB7XHJcbiAgICBsZXQgX3RoaXM6IE5vbmU7XHJcblxyXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqLyB7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzID0ge1xyXG4gICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgICBzb21lLFxyXG4gICAgICAgICAgICBub25lLFxyXG4gICAgICAgICAgICBleHBlY3QsXHJcbiAgICAgICAgICAgIHVubG9ja09yLFxyXG4gICAgICAgICAgICBhbmQsXHJcbiAgICAgICAgICAgIG1hcCxcclxuICAgICAgICAgICAgdG9SZXN1bHRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHR5cGUoKTogXCJOb25lXCIge1xyXG4gICAgICAgIHJldHVybiBcIk5vbmVcIjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc29tZSgpOiB0aGlzIGlzIFNvbWU8dW5rbm93bj4ge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBub25lKCk6IHRoaXMgaXMgTm9uZSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXhwZWN0KG1lc3NhZ2U6IHN0cmluZyk6IG5ldmVyIHtcclxuICAgICAgICBwYW5pYyhFcnJvcihcIkVSUl9WQUxVRV9SRVFVSVJFRFwiLCBtZXNzYWdlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdW5sb2NrT3I8VDE+KGZhbGxiYWNrOiBUMSk6IFQxIHtcclxuICAgICAgICByZXR1cm4gZmFsbGJhY2s7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYW5kKF9fOiB1bmtub3duKTogTm9uZSB7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1hcChfXzogdW5rbm93bik6IE5vbmUge1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b1Jlc3VsdDxUMT4oZTogVDEpOiBFcnI8VDE+IHtcclxuICAgICAgICByZXR1cm4gRXJyKGUpO1xyXG4gICAgfVxyXG59KSgpO1xyXG5cclxuXHJcblxyXG4iLCAiaW1wb3J0IHR5cGUgeyBSZXN1bHQgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBXcmFwcGVyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgQ2xvc3VyZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IEZwdklzaCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IEZwdkVycm9yIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IElOVEVSTkFMX0VSUk9SX01FU1NBR0UgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyb3IgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgT2sgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgdHlwZSBGcHY8VDEgZXh0ZW5kcyBiaWdpbnQgPSAybj4gPSBcclxuICAgICYgV3JhcHBlcjxiaWdpbnQ+XHJcbiAgICAmIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBwcmVjaXNpb24gb2YgdGhlIGBGcHZgLlxyXG4gICAgICovXHJcbiAgICBwcmVjaXNpb24oKTogVDE7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogUmV0dXJucyB0aGUgcmVwcmVzZW50YXRpb24gZmFjdG9yIG9mIHRoZSBgRnB2YCwgYmFzZWQgb24gaXRzIHByZWNpc2lvbi5cclxuICAgICAqL1xyXG4gICAgcmVwcmVzZW50YXRpb24oKTogYmlnaW50O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIEFkZHMgYSBnaXZlbiBgRnB2SXNoYCB2YWx1ZSB0byB0aGUgY3VycmVudCBgRnB2YC5cclxuICAgICAqIFxyXG4gICAgICogKioqV2FybmluZyoqKlxyXG4gICAgICogRXh0cmVtZWx5IGxhcmdlIHZhbHVlcyBtYXkgY2F1c2UgdGhlIHByb2dyYW0gdG8gcGFuaWMgZHVlIHRvIGluc3VmZmljaWVudCBtZW1vcnkuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHZhbHVlOiBiaWdpbnQgPSBGcHYoMjAwbilcclxuICAgICAqICAgICAgLmV4cGVjdChcIkZhaWxlZCB0byBpbml0aWFsaXplIEZwdi5cIilcclxuICAgICAqICAgICAgLmFkZCgxMDBuKVxyXG4gICAgICogICAgICAudW53cmFwKCk7XHJcbiAgICAgKiAgY29uc29sZS5sb2codmFsdWUpOyAvLy8gMzAwbiA9PT0gMy4wMFxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGFkZCh2YWx1ZTogRnB2SXNoPFQxPik6IEZwdjxUMT47XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFN1YnRyYWN0cyBhIGdpdmVuIGBGcHZJc2hgIHZhbHVlIGZyb20gdGhlIGN1cnJlbnQgYEZwdmAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKldhcm5pbmcqKipcclxuICAgICAqIEV4dHJlbWVseSBsYXJnZSB2YWx1ZXMgbWF5IGNhdXNlIHRoZSBwcm9ncmFtIHRvIHBhbmljIGR1ZSB0byBpbnN1ZmZpY2llbnQgbWVtb3J5LlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCB2YWx1ZTogYmlnaW50ID0gRnB2KDIwMG4pXHJcbiAgICAgKiAgICAgIC5leHBlY3QoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBGcHYuXCIpXHJcbiAgICAgKiAgICAgIC5zdWIoMTAwbilcclxuICAgICAqICAgICAgLnVud3JhcCgpO1xyXG4gICAgICogIGNvbnNvbGUubG9nKHZhbHVlKTsgLy8vIDEwMG4gPT09IDEuMDBcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBzdWIodmFsdWU6IEZwdklzaDxUMT4pOiBGcHY8VDE+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIE11bHRpcGxpZXMgdGhlIGN1cnJlbnQgYEZwdmAgYnkgYSBnaXZlbiBgRnB2SXNoYCB2YWx1ZS5cclxuICAgICAqIFxyXG4gICAgICogKioqV2FybmluZyoqKlxyXG4gICAgICogRXh0cmVtZWx5IGxhcmdlIHZhbHVlcyBtYXkgY2F1c2UgdGhlIHByb2dyYW0gdG8gcGFuaWMgZHVlIHRvIGluc3VmZmljaWVudCBtZW1vcnkuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHZhbHVlOiBiaWdpbnQgPSBGcHYoMjAwbilcclxuICAgICAqICAgICAgLmV4cGVjdChcIkZhaWxlZCB0byBpbml0aWFsaXplIEZwdi5cIilcclxuICAgICAqICAgICAgLm11bCg1MG4pIC8vLyAwLjUwXHJcbiAgICAgKiAgICAgIC51bndyYXAoKTtcclxuICAgICAqICBjb25zb2xlLmxvZyh2YWx1ZSk7IC8vLyAxMDBuID09PSAxLjAwXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgbXVsKHZhbHVlOiBGcHZJc2g8VDE+KTogRnB2PFQxPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBEaXZpZGVzIHRoZSBjdXJyZW50IGBGcHZgIGJ5IGEgZ2l2ZW4gYEZwdklzaGAgdmFsdWUuXHJcbiAgICAgKiBcclxuICAgICAqICoqKldhcm5pbmcqKipcclxuICAgICAqIEV4dHJlbWVseSBsYXJnZSB2YWx1ZXMgbWF5IGNhdXNlIHRoZSBwcm9ncmFtIHRvIHBhbmljIGR1ZSB0byBpbnN1ZmZpY2llbnQgbWVtb3J5LlxyXG4gICAgICogXHJcbiAgICAgKiAqKipXYXJuaW5nKioqXHJcbiAgICAgKiBJZiBkaXZpZGluZyBieSB6ZXJvLCBhbiBlcnJvciB3aWxsIGJlIHJldHVybmVkLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCB2YWx1ZTogYmlnaW50ID0gRnB2KDIwMG4pXHJcbiAgICAgKiAgICAgIC5leHBlY3QoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBGcHYuXCIpXHJcbiAgICAgKiAgICAgIC5kaXYoNTBuKSAvLy8gMC41MFxyXG4gICAgICogICAgICAudW53cmFwKCk7XHJcbiAgICAgKiAgY29uc29sZS5sb2codmFsdWUpOyAvLy8gNDAwbiA9PT0gNC4wMFxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGRpdih2YWx1ZTogRnB2SXNoPFQxPik6IFJlc3VsdDxGcHY8VDE+LCBGcHZFcnJvcj47XHJcbn07XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogQ3JlYXRlcyBhIG5ldyBgRnB2YCB3aXRoIHRoZSBwcm92aWRlZCB2YWx1ZSBhbmQgcHJlY2lzaW9uLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIEZwdjxUMSBleHRlbmRzIGJpZ2ludCA9IDJuPihfZnB2OiBGcHZJc2g8VDE+LCBfcHJlY2lzaW9uOiBUMSA9ICgybiBhcyBhbnkpKTogUmVzdWx0PEZwdjxUMT4sIEZwdkVycm9yPiB7XHJcbiAgICBsZXQgX3ZhbHVlOiBiaWdpbnQ7XHJcbiAgICBcclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIGlmIChwcmVjaXNpb24oKSA9PT0gMG4pIHJldHVybiBFcnIoRXJyb3IoXCJGUFYuRVJSX1BSRUNJU0lPTl9JU19aRVJPXCIsIFwiRnB2OiBEb2VzIG5vdCBzdXBwb3J0IHplcm8gcHJlY2lzaW9uLlwiKSk7XHJcbiAgICAgICAgaWYgKHByZWNpc2lvbigpIDwgMG4pIHJldHVybiBFcnIoRXJyb3IoXCJGUFYuRVJSX1BSRUNJU0lPTl9JU19ORUdBVElWRVwiLCBcIkZwdjogRG9lcyBub3Qgc3VwcG9ydCBuZWdhdGl2ZSBwcmVjaXNpb24uXCIpKTtcclxuICAgICAgICBfdmFsdWUgPSBfdW53cmFwKF9mcHYpO1xyXG4gICAgICAgIHJldHVybiBPayh7XHJcbiAgICAgICAgICAgIHVud3JhcCxcclxuICAgICAgICAgICAgcHJlY2lzaW9uLFxyXG4gICAgICAgICAgICByZXByZXNlbnRhdGlvbixcclxuICAgICAgICAgICAgYWRkLFxyXG4gICAgICAgICAgICBzdWIsXHJcbiAgICAgICAgICAgIG11bCxcclxuICAgICAgICAgICAgZGl2XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHVud3JhcCgpOiBiaWdpbnQge1xyXG4gICAgICAgIHJldHVybiBfdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcHJlY2lzaW9uKCk6IFQxIHtcclxuICAgICAgICByZXR1cm4gX3ByZWNpc2lvbjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXByZXNlbnRhdGlvbigpOiBiaWdpbnQge1xyXG4gICAgICAgIHJldHVybiAxMG4qKnByZWNpc2lvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZCh2YWx1ZTogRnB2SXNoPFQxPik6IEZwdjxUMT4ge1xyXG4gICAgICAgIHJldHVybiBfd3JhcCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdmFsdWUgKyBfdW53cmFwKHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzdWIodmFsdWU6IEZwdklzaDxUMT4pOiBGcHY8VDE+IHtcclxuICAgICAgICByZXR1cm4gX3dyYXAoKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gX3ZhbHVlIC0gX3Vud3JhcCh2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbXVsKHZhbHVlOiBGcHZJc2g8VDE+KTogRnB2PFQxPiB7XHJcbiAgICAgICAgcmV0dXJuIF93cmFwKCgpID0+IHtcclxuICAgICAgICAgICAgbGV0IHo6IGJpZ2ludCA9IF92YWx1ZSAqIF91bndyYXAodmFsdWUpO1xyXG4gICAgICAgICAgICBsZXQgcTogYmlnaW50ID0geiAvIHJlcHJlc2VudGF0aW9uKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBxO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRpdih2YWx1ZTogRnB2SXNoPFQxPik6IFJlc3VsdDxGcHY8VDE+LCBGcHZFcnJvcj4ge1xyXG4gICAgICAgIGxldCBuOiBiaWdpbnQgPSBfdW53cmFwKHZhbHVlKTtcclxuICAgICAgICBpZiAobiA9PT0gMG4pIHJldHVybiBFcnIoRXJyb3IoXCJGUFYuRVJSX0RJVklTSU9OX0JZX1pFUk9cIiwgXCJGcHY6IENhbm5vdCBkaXZpZGUgYnkgemVyby5cIikpO1xyXG4gICAgICAgIHJldHVybiBPayhfd3JhcCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB6OiBiaWdpbnQgPSBfdmFsdWUgKiByZXByZXNlbnRhdGlvbigpO1xyXG4gICAgICAgICAgICBsZXQgcTogYmlnaW50ID0geiAvIG47XHJcbiAgICAgICAgICAgIHJldHVybiBxO1xyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfd3JhcCh0YXNrOiBDbG9zdXJlPFtdLCBiaWdpbnQ+KTogRnB2PFQxPiB7XHJcbiAgICAgICAgcmV0dXJuIEZwdjxUMT4odGFzaygpKS5leHBlY3QoXCJGcHY6IEZhaWxlZCB0byB3cmFwIHRoZSB0YXNrIHJlc3VsdCBpbnRvIGFuIEZwdi5cIiArIElOVEVSTkFMX0VSUk9SX01FU1NBR0UpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF91bndyYXAoZnB2OiBGcHZJc2g8VDE+KTogYmlnaW50IHtcclxuICAgICAgICBpZiAodHlwZW9mIGZwdiA9PT0gXCJiaWdpbnRcIikgcmV0dXJuIGZwdjtcclxuICAgICAgICByZXR1cm4gZnB2LnVud3JhcCgpO1xyXG4gICAgfVxyXG59IiwgIi8qKiBcclxuICogKioqQnJpZWYqKipcclxuICogQ29udmVydHMgYHVua25vd25gIHRvIGBzdHJpbmdgLlxyXG4gKiBcclxuICogKioqV2FybmluZyoqKlxyXG4gKiBEb2VzIG5vdCBzdXBwb3J0IGNpcmN1bGFyIHJlZmVyZW5jZXMgYW5kIGNpcmN1bGFyIG9iamVjdHMgd2lsbCByZXN1bHQgaW4gYFtvYmplY3QgT2JqZWN0XWAuXHJcbiAqIFxyXG4gKiAqKipFeGFtcGxlKioqXHJcbiAqICBgYGB0c1xyXG4gKiAgY29uc29sZS5sb2codG9TdHJpbmcoNDIpKTsgICAgICAgICAgLy8vIDQyXHJcbiAqICBjb25zb2xlLmxvZyh0b1N0cmluZyh0cnVlKSk7ICAgICAgICAvLy8gdHJ1ZVxyXG4gKiAgY29uc29sZS5sb2codG9TdHJpbmcobnVsbCkpOyAgICAgICAgLy8vIG51bGxcclxuICogIGNvbnNvbGUubG9nKHRvU3RyaW5nKHVuZGVmaW5lZCkpOyAgIC8vLyB1bmRlZmluZWRcclxuICogXHJcbiAqICBjb25zb2xlLmxvZyh0b1N0cmluZyhcImV4YW1wbGVcIikpOyAgIC8vLyBleGFtcGxlXHJcbiAqIFxyXG4gKiAgbGV0IG9iamVjdDoge1xyXG4gKiAgICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAqICAgICAgc3BlZWQ6IHtcclxuICogICAgICAgICAgbWluOiBudW1iZXIsXHJcbiAqICAgICAgICAgIG1heDogbnVtYmVyXHJcbiAqICAgICAgfVxyXG4gKiAgfSA9IHtcclxuICogICAgICBjb2xvcjogXCJCbHVlXCIsXHJcbiAqICAgICAgc3BlZWQ6IHtcclxuICogICAgICAgICAgbWluOiAwLFxyXG4gKiAgICAgICAgICBtYXg6IDUwMFxyXG4gKiAgICAgIH1cclxuICogIH07XHJcbiAqICBjb25zb2xlLmxvZyhvYmplY3QpOyAgICAgICAgICAgICAgICAvLy8ge1wiY29sb3JcIjpcIkJsdWVcIixcInNwZWVkXCI6e1wibWluXCI6MCxcIm1heFwiOjUwMH19XHJcbiAqIFxyXG4gKiAgZnVuY3Rpb24gZm9vKCk6IHZvaWQge1xyXG4gKiAgICAgIGxldCB4OiBzdHJpbmcgPSA1MDA7XHJcbiAqICAgICAgcmV0dXJuIHg7XHJcbiAqICB9XHJcbiAqICBjb25zb2xlLmxvZyhmb28pOyAgICAgICAgICAgICAgICAgICAvLy8gZnVuY3Rpb24gZm9vKCkge1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vICAgICB4ID0gNTAwO1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vICAgICByZXR1cm4geDtcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLyB9XHJcbiAqICBgYGBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZyh1bmtub3duOiB1bmtub3duKTogc3RyaW5nIHtcclxuICAgIGlmICh1bmtub3duID09PSBudWxsIHx8IHVua25vd24gPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdW5rbm93biAhPT0gXCJvYmplY3RcIikgcmV0dXJuIFN0cmluZyh1bmtub3duKTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHVua25vd24pO1xyXG4gICAgfVxyXG4gICAgY2F0Y2gge31cclxuICAgIHJldHVybiBcIltvYmplY3QgT2JqZWN0XVwiO1xyXG59IiwgImltcG9ydCB0eXBlIHsgUmVzdWx0IH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IERvbUVycm9yIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IHdyYXAgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbi8qKlxyXG4gKiAqKipCcmllZioqKlxyXG4gKiBDcmVhdGVzIGEgZGVlcCBjbG9uZSBvZiB0aGUgcHJvdmlkZWQgdmFsdWUgdXNpbmcgdGhlIHN0cnVjdHVyZWRDbG9uZSBBUEkuXHJcbiAqIFxyXG4gKiAqKipFeGFtcGxlKioqXHJcbiAqIGBgYHRzXHJcbiAqICBjbG9uZSgpXHJcbiAqICAgICAgLnJlc29sdmUoZSA9PiB7XHJcbiAqICAgICAgICAgIGlmIChlLmNvZGUgPT09IFwiRE9NLkVSUl9EQVRBX0NMT05FXCIpIHtcclxuICogICAgICAgICAgICAgIC8vLyAuLi5cclxuICogICAgICAgICAgfVxyXG4gKiAgICAgIH0pXHJcbiAqICAgICAgLnVubG9jaygpO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjbG9uZTxUMT4odmFsdWU6IFQxKTogUmVzdWx0PFQxLCBEb21FcnJvcj4ge1xyXG4gICAgcmV0dXJuIHdyYXAoKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBzdHJ1Y3R1cmVkQ2xvbmUodmFsdWUpO1xyXG4gICAgfSkubWFwRXJyKHVuc2FmZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHVuc2FmZVxyXG4gICAgICAgICAgICAucGFyc2UoKHNlbGYpOiBzZWxmIGlzIERPTUV4Y2VwdGlvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZiAhPT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICYmIHNlbGYgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICYmIHR5cGVvZiBzZWxmID09PSBcIm9iamVjdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgXCJuYW1lXCIgaW4gc2VsZlxyXG4gICAgICAgICAgICAgICAgICAgICYmIFwiY29kZVwiIGluIHNlbGZcclxuICAgICAgICAgICAgICAgICAgICAmJiBcIm1lc3NhZ2VcIiBpbiBzZWxmXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgdHlwZW9mIHNlbGYubmFtZSA9PT0gXCJzdHJpbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICYmIHR5cGVvZiBzZWxmLmNvZGUgPT09IFwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAmJiB0eXBlb2Ygc2VsZi5tZXNzYWdlID09PSBcInN0cmluZ1wiO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAubWFwKGV4Y2VwdGlvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gRG9tRXJyb3IoZXhjZXB0aW9uKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnVubG9ja09yKERvbUVycm9yKCkpO1xyXG4gICAgfSk7XHJcbn0iLCAiaW1wb3J0IHR5cGUgeyBCcmFuZGVkU3RydWN0IH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgVHlwZUd1YXJkIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogQSB1dGlsaXR5IGZ1bmN0aW9uIHRvIGNoZWNrIGlmIGFuIGB1bmtub3duYCB2YWx1ZSBjb25mb3JtcyB0byBhIHNwZWNpZmljIGJyYW5kZWQgdHlwZS5cclxuICogXHJcbiAqICoqKldhcm5pbmcqKipcclxuICogQmUgY2F1dGlvdXMgYWJvdXQgYnJhbmQgY29sbGlzaW9ucyB0aGF0IG1heSBvY2N1ciBpZiBtdWx0aXBsZSBtb2R1bGVzIFxyXG4gKiBvciBjb250ZXh0cyBkZWZpbmUgc2ltaWxhciBicmFuZGVkIHR5cGVzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQnJhbmRlZFN0cnVjdDxUMSBleHRlbmRzIHN0cmluZz4odW5rbm93bjogdW5rbm93bik6IHVua25vd24gaXMgQnJhbmRlZFN0cnVjdDxhbnk+O1xyXG5leHBvcnQgZnVuY3Rpb24gaXNCcmFuZGVkU3RydWN0PFQxIGV4dGVuZHMgc3RyaW5nPih1bmtub3duOiB1bmtub3duLCB0eXBlOiBUMSk6IHVua25vd24gaXMgQnJhbmRlZFN0cnVjdDxUMT47XHJcbmV4cG9ydCBmdW5jdGlvbiBpc0JyYW5kZWRTdHJ1Y3Q8VDEgZXh0ZW5kcyBzdHJpbmc+KFxyXG4gICAgcDA6IHVua25vd24sXHJcbiAgICBwMT86IFQxXHJcbik6IHAwIGlzIEJyYW5kZWRTdHJ1Y3Q8VDE+IHtcclxuICAgIGxldCB1bmtub3duOiB1bmtub3duID0gcDA7XHJcbiAgICBsZXQgZ3VhcmQ6IFR5cGVHdWFyZDxCcmFuZGVkU3RydWN0PFQxPj4gPSAodW5rbm93bjogdW5rbm93bik6IHVua25vd24gaXMgQnJhbmRlZFN0cnVjdDxUMT4gPT4ge1xyXG4gICAgICAgIGxldCBtYXRjaDogYm9vbGVhbiA9XHJcbiAgICAgICAgICAgIHVua25vd24gIT09IG51bGxcclxuICAgICAgICAgICAgJiYgdW5rbm93biAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICYmIHR5cGVvZiB1bmtub3duID09PSBcIm9iamVjdFwiXHJcbiAgICAgICAgICAgICYmIFwidHlwZVwiIGluIHVua25vd25cclxuICAgICAgICAgICAgJiYgdHlwZW9mIHVua25vd24udHlwZSA9PT0gXCJzdHJpbmdcIjtcclxuICAgICAgICBpZiAobWF0Y2ggPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKHAxICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgbGV0IHR5cGU6IFQxID0gcDE7XHJcbiAgICAgICAgICAgIG1hdGNoID1cclxuICAgICAgICAgICAgICAgIG1hdGNoXHJcbiAgICAgICAgICAgICAgICAmJiAodW5rbm93biBhcyBhbnkpLnR5cGUgPT09IHR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtYXRjaDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZ3VhcmQodW5rbm93bik7XHJcbn0iLCAiaW1wb3J0IHR5cGUgeyBCcmFuZGVkIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgVHlwZUd1YXJkIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogQSB1dGlsaXR5IGZ1bmN0aW9uIHRvIGNoZWNrIGlmIGFuIGB1bmtub3duYCB2YWx1ZSBjb25mb3JtcyB0byBhIHNwZWNpZmljIGJyYW5kZWQgdHlwZS5cclxuICogXHJcbiAqICoqKldhcm5pbmcqKipcclxuICogQmUgY2F1dGlvdXMgYWJvdXQgYnJhbmQgY29sbGlzaW9ucyB0aGF0IG1heSBvY2N1ciBpZiBtdWx0aXBsZSBtb2R1bGVzIFxyXG4gKiBvciBjb250ZXh0cyBkZWZpbmUgc2ltaWxhciBicmFuZGVkIHR5cGVzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQnJhbmRlZDxUMSBleHRlbmRzIHN0cmluZz4odW5rbm93bjogdW5rbm93bik6IHVua25vd24gaXMgQnJhbmRlZDxhbnk+O1xyXG5leHBvcnQgZnVuY3Rpb24gaXNCcmFuZGVkPFQxIGV4dGVuZHMgc3RyaW5nPih1bmtub3duOiB1bmtub3duLCB0eXBlOiBUMSk6IHVua25vd24gaXMgQnJhbmRlZDxUMT47XHJcbmV4cG9ydCBmdW5jdGlvbiBpc0JyYW5kZWQ8VDEgZXh0ZW5kcyBzdHJpbmc+KFxyXG4gICAgcDA6IHVua25vd24sXHJcbiAgICBwMT86IFQxXHJcbik6IHAwIGlzIEJyYW5kZWQ8VDE+IHtcclxuICAgIGxldCB1bmtub3duOiB1bmtub3duID0gcDA7XHJcbiAgICBsZXQgZ3VhcmQ6IFR5cGVHdWFyZDxCcmFuZGVkPFQxPj4gPSAodW5rbm93bjogdW5rbm93bik6IHVua25vd24gaXMgQnJhbmRlZDxUMT4gPT4ge1xyXG4gICAgICAgIGxldCBtYXRjaDogYm9vbGVhbiA9XHJcbiAgICAgICAgICAgIHVua25vd24gIT09IG51bGxcclxuICAgICAgICAgICAgJiYgdW5rbm93biAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICYmIHR5cGVvZiB1bmtub3duID09PSBcIm9iamVjdFwiXHJcbiAgICAgICAgICAgICYmIFwidHlwZVwiIGluIHVua25vd25cclxuICAgICAgICAgICAgJiYgdHlwZW9mIHVua25vd24udHlwZSA9PT0gXCJmdW5jdGlvblwiXHJcbiAgICAgICAgICAgICYmIHR5cGVvZiB1bmtub3duLnR5cGUoKSA9PT0gXCJzdHJpbmdcIjtcclxuICAgICAgICBpZiAobWF0Y2ggPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKHAxICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgbGV0IHR5cGU6IFQxID0gcDE7XHJcbiAgICAgICAgICAgIG1hdGNoID1cclxuICAgICAgICAgICAgICAgIG1hdGNoXHJcbiAgICAgICAgICAgICAgICAmJiAodW5rbm93biBhcyBhbnkpLnR5cGUoKSA9PT0gdHlwZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hdGNoO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBndWFyZCh1bmtub3duKTtcclxufSIsICJpbXBvcnQgeyBFcnJvciBhcyBFcnJvcjAgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyb3JIYW5kbGVyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IGZsYWcgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbi8qKlxyXG4gKiAqKipCcmllZioqKlxyXG4gKiBgcGFuaWNgIHRocm93cyBhbiBlcnJvciB3aXRoIG9wdGlvbmFsIG1lc3NhZ2UgYW5kIHN0YWNrIHRyYWNlIGxvY2F0aW9uLlxyXG4gKiBcclxuICogKioqRXhhbXBsZSoqKlxyXG4gKiBgYGB0c1xyXG4gKiAgcGFuaWMoRXJyb3IoXCJNQVRILkVSUl9ESVZJU0lPTl9CWV9aRVJPXCIpKTtcclxuICogIHBhbmljKEVycm9yKHtcclxuICogICAgICBjb2RlOiBcIk1BVEguRVJSX0RJVklTSU9OX0JZX1pFUk9cIixcclxuICogICAgICBtZXNzYWdlOiBTb21lKFwiTWF0aDogQ2Fubm90IGRpdmlkZSBieSB6ZXJvLlwiKSxcclxuICogICAgICBwYXlsb2FkOiBOb25lLFxyXG4gKiAgICAgIHN0YWNrOiBTdGFja1RyYWNlKC4uLilcclxuICogIH0pKTtcclxuICogIHBhbmljKFwiQW4gdW5yZWNvdmVyYWJsZSBlcnJvciBoYXMgb2NjdXJlZC5cIik7XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHBhbmljPFQxIGV4dGVuZHMgc3RyaW5nPihlOiBFcnJvcjA8VDE+LCBoYW5kbGVyPzogRXJyb3JIYW5kbGVyKTogbmV2ZXI7XHJcbmV4cG9ydCBmdW5jdGlvbiBwYW5pYzxUMSBleHRlbmRzIHN0cmluZz4obWVzc2FnZTogVDEsIGxvY2F0aW9uPzogRnVuY3Rpb24sIGhhbmRsZXI/OiBFcnJvckhhbmRsZXIpOiBuZXZlcjtcclxuZXhwb3J0IGZ1bmN0aW9uIHBhbmljPFQxIGV4dGVuZHMgc3RyaW5nPihcclxuICAgIHAwOiBFcnJvcjA8VDE+IHwgVDEsXHJcbiAgICBwMT86IEVycm9ySGFuZGxlciB8IEZ1bmN0aW9uLFxyXG4gICAgcDI/OiBFcnJvckhhbmRsZXJcclxuKTogbmV2ZXIge1xyXG4gICAgaWYgKHR5cGVvZiBwMCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgIGxldCBlOiBFcnJvcjA8VDE+ID0gcDA7XHJcbiAgICAgICAgbGV0IGhhbmRsZXI6IEVycm9ySGFuZGxlciA9IGZsYWcoKHAxIGFzIEVycm9ySGFuZGxlciB8IHVuZGVmaW5lZCkpLnVubG9ja09yKEVycm9ySGFuZGxlcik7XHJcbiAgICAgICAgdGhyb3cgW1xyXG4gICAgICAgICAgICBcIlwiLFxyXG4gICAgICAgICAgICBcIlwiLFxyXG4gICAgICAgICAgICBcIiAgICAgXCIgKyBgJHsgX3JlZChlLmNvZGUpIH0gJHsgZS5tZXNzYWdlLnVubG9ja09yKFwiPDw8IFVOQVZBSUxBQkxFID4+PlwiKSB9YCxcclxuICAgICAgICAgICAgXCJcIixcclxuICAgICAgICAgICAgXCIgICAgIFNUQUNLX1RSQUNFXCIgKyBcclxuICAgICAgICAgICAgZS5zdGFja1xyXG4gICAgICAgIF0uam9pbihcIlxcblwiKSBhcyBzdHJpbmc7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBsZXQgbWVzc2FnZTogVDEgPSBwMDtcclxuICAgICAgICBsZXQgbG9jYXRpb246IEZ1bmN0aW9uID0gZmxhZygocDEgYXMgRnVuY3Rpb24gfCB1bmRlZmluZWQpKS51bmxvY2tPcihwYW5pYyk7XHJcbiAgICAgICAgbGV0IGhhbmRsZXI6IEVycm9ySGFuZGxlciA9IGZsYWcocDIpLnVubG9ja09yKEVycm9ySGFuZGxlcik7XHJcbiAgICAgICAgbGV0IGVTdGFuZGFyZDogRXJyb3IgPSBFcnJvcigpO1xyXG4gICAgICAgIGVTdGFuZGFyZC5uYW1lID0gXCJQQU5JQ1wiO1xyXG4gICAgICAgIHRocm93IFwiUEFOSUMgXCIgKyBtZXNzYWdlICsgXCJcXG5cIiArIGhhbmRsZXIucGFyc2VTdGFja1RyYWNlKGxvY2F0aW9uKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gX3JlZChzdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gXCJcXHgxYlszMW1cIiArIHN0cmluZyArIFwiXFx4MWJbMG1cIjtcclxufVxyXG5cclxuZnVuY3Rpb24gX2dyZWVuKHN0cmluZzogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBcIlxceDFiWzMybVwiICsgc3RyaW5nICsgXCJcXHgxYlswbVwiO1xyXG59IiwgImltcG9ydCB0eXBlIHsgT3B0aW9uIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgQ2xvc3VyZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBTb21lIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IE5vbmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyb3IgYXMgQ3VzdG9tRXJyb3IgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgaXNCcmFuZGVkU3RydWN0IH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IGFsbE8gfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB0eXBlIEVycm9ySGFuZGxlciA9IHtcclxuICAgIG1hdGNoRXJyb3IodW5rbm93bjogdW5rbm93bik6IHVua25vd24gaXMgQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPjtcclxuICAgIG1hdGNoRXJyb3IodW5rbm93bjogdW5rbm93biwgdGFzazogQ2xvc3VyZTxbZTogQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPl0sIHZvaWQ+KTogdW5rbm93biBpcyBDdXN0b21FcnJvcjxhbnksIHVua25vd24+O1xyXG4gICAgbWF0Y2hFcnJvcjxUMSBleHRlbmRzIHN0cmluZz4odW5rbm93bjogdW5rbm93biwgY29kZTogVDEpOiB1bmtub3duIGlzIEN1c3RvbUVycm9yPFQxLCB1bmtub3duPjtcclxuICAgIG1hdGNoRXJyb3I8VDEgZXh0ZW5kcyBzdHJpbmc+KHVua25vd246IHVua25vd24sIGNvZGU6IFQxLCB0YXNrOiBDbG9zdXJlPFtlOiBDdXN0b21FcnJvcjxhbnksIHVua25vd24+XSwgdm9pZD4pOiB1bmtub3duIGlzIEN1c3RvbUVycm9yPFQxLCB1bmtub3duPjtcclxuICAgIGxvY2FsU3RhY2tUcmFjZShsb2NhdGlvbjogRnVuY3Rpb24pOiBPcHRpb248c3RyaW5nPjtcclxuICAgIHBhcnNlU3RhY2tUcmFjZShsb2NhdGlvbk9yU3RhY2s6IEZ1bmN0aW9uIHwgc3RyaW5nKTogc3RyaW5nO1xyXG4gICAgY29udmVydFRvU3RhbmRhcmRFcnJvcjxUMSBleHRlbmRzIHN0cmluZywgVDIgPSB1bmtub3duPihlOiBDdXN0b21FcnJvcjxUMSwgVDI+KTogRXJyb3I7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgRXJyb3JIYW5kbGVyOiBFcnJvckhhbmRsZXIgPSAoKCkgPT4ge1xyXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqLyB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbWF0Y2hFcnJvcixcclxuICAgICAgICAgICAgbG9jYWxTdGFja1RyYWNlLFxyXG4gICAgICAgICAgICBwYXJzZVN0YWNrVHJhY2UsXHJcbiAgICAgICAgICAgIGNvbnZlcnRUb1N0YW5kYXJkRXJyb3JcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1hdGNoRXJyb3IodW5rbm93bjogdW5rbm93bik6IHVua25vd24gaXMgQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPjtcclxuICAgIGZ1bmN0aW9uIG1hdGNoRXJyb3IodW5rbm93bjogdW5rbm93biwgdGFzazogQ2xvc3VyZTxbZTogQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPl0sIHZvaWQ+KTogdW5rbm93biBpcyBDdXN0b21FcnJvcjxhbnksIHVua25vd24+O1xyXG4gICAgZnVuY3Rpb24gbWF0Y2hFcnJvcjxUMSBleHRlbmRzIHN0cmluZz4odW5rbm93bjogdW5rbm93biwgY29kZTogVDEpOiB1bmtub3duIGlzIEN1c3RvbUVycm9yPFQxLCB1bmtub3duPjtcclxuICAgIGZ1bmN0aW9uIG1hdGNoRXJyb3I8VDEgZXh0ZW5kcyBzdHJpbmc+KHVua25vd246IHVua25vd24sIGNvZGU6IFQxLCB0YXNrOiBDbG9zdXJlPFtlOiBDdXN0b21FcnJvcjxhbnksIHVua25vd24+XSwgdm9pZD4pOiB1bmtub3duIGlzIEN1c3RvbUVycm9yPFQxLCB1bmtub3duPjtcclxuICAgIGZ1bmN0aW9uIG1hdGNoRXJyb3I8VDEgZXh0ZW5kcyBzdHJpbmc+KFxyXG4gICAgICAgIHAwOiB1bmtub3duLFxyXG4gICAgICAgIHAxPzogVDEgfCBDbG9zdXJlPFtlOiBDdXN0b21FcnJvcjxhbnksIHVua25vd24+XSwgdm9pZD4sXHJcbiAgICAgICAgcDI/OiBDbG9zdXJlPFtlOiBDdXN0b21FcnJvcjxhbnksIHVua25vd24+XSwgdm9pZD5cclxuICAgICk6IHAwIGlzIEN1c3RvbUVycm9yPFQxLCB1bmtub3duPiB7XHJcbiAgICAgICAgbGV0IHVua25vd246IHVua25vd24gPSBwMDtcclxuICAgICAgICBsZXQgbWF0Y2g6IGJvb2xlYW4gPVxyXG4gICAgICAgICAgICB1bmtub3duICE9PSBudWxsXHJcbiAgICAgICAgICAgICYmIHVua25vd24gIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAmJiB0eXBlb2YgdW5rbm93biA9PT0gXCJvYmplY3RcIlxyXG4gICAgICAgICAgICAmJiBpc0JyYW5kZWRTdHJ1Y3QodW5rbm93biwgXCJFcnJvclwiKTtcclxuICAgICAgICBpZiAoIW1hdGNoKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKHAxICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHAxID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGxldCBjb2RlOiBzdHJpbmcgPSBwMTtcclxuICAgICAgICAgICAgbWF0Y2ggPVxyXG4gICAgICAgICAgICAgICAgbWF0Y2hcclxuICAgICAgICAgICAgICAgICYmIFwiY29kZVwiIGluICh1bmtub3duIGFzIGFueSlcclxuICAgICAgICAgICAgICAgICYmIHR5cGVvZiAodW5rbm93biBhcyBhbnkpLmNvZGUgPT09IFwic3RyaW5nXCJcclxuICAgICAgICAgICAgICAgICYmICh1bmtub3duIGFzIGFueSkuY29kZSA9PT0gY29kZTsgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFtYXRjaCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGxldCB0YXNrTzogT3B0aW9uPENsb3N1cmU8W2U6IEN1c3RvbUVycm9yPGFueSwgdW5rbm93bj5dLCB2b2lkPj4gPSBOb25lO1xyXG4gICAgICAgIGlmIChwMSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBwMSA9PT0gXCJmdW5jdGlvblwiKSB0YXNrTyA9IFNvbWUocDEpO1xyXG4gICAgICAgIGlmIChwMiAhPT0gdW5kZWZpbmVkKSB0YXNrTyA9IFNvbWUocDIpO1xyXG4gICAgICAgIHRhc2tPLm1hcCh0YXNrID0+IHtcclxuICAgICAgICAgICAgdGFzaygodW5rbm93biBhcyBDdXN0b21FcnJvcjxhbnksIHVua25vd24+KSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBsb2NhbFN0YWNrVHJhY2UobG9jYXRpb246IEZ1bmN0aW9uKTogT3B0aW9uPHN0cmluZz4ge1xyXG4gICAgICAgIGxldCBlOiBFcnJvciA9IEVycm9yKCk7XHJcbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZSwgbG9jYXRpb24pO1xyXG4gICAgICAgIGlmIChlLnN0YWNrKSByZXR1cm4gU29tZShlLnN0YWNrKTtcclxuICAgICAgICByZXR1cm4gTm9uZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZVN0YWNrVHJhY2UobG9jYXRpb25PclN0YWNrOiBGdW5jdGlvbiB8IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIF9wYXJzZVN0YWNrKF9wYXJzZVBheWxvYWQobG9jYXRpb25PclN0YWNrKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29udmVydFRvU3RhbmRhcmRFcnJvcjxUMSBleHRlbmRzIHN0cmluZywgVDIgPSB1bmtub3duPihlOiBDdXN0b21FcnJvcjxUMSwgVDI+KTogRXJyb3Ige1xyXG4gICAgICAgIGxldCBlU3RhbmRhcmQ6IEVycm9yID0gRXJyb3IoKTtcclxuICAgICAgICBlU3RhbmRhcmQubmFtZSA9IGUuY29kZTtcclxuICAgICAgICBlU3RhbmRhcmQubWVzc2FnZSA9IGUubWVzc2FnZS51bmxvY2tPcihcIlwiKTtcclxuICAgICAgICBlU3RhbmRhcmQuc3RhY2sgPSBlLnN0YWNrLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgZVN0YW5kYXJkLmNhdXNlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHJldHVybiBlU3RhbmRhcmQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX3BhcnNlUGF5bG9hZChwYXlsb2FkOiBGdW5jdGlvbiB8IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwYXlsb2FkID09PSBcInN0cmluZ1wiKSByZXR1cm4gcGF5bG9hZDtcclxuICAgICAgICByZXR1cm4gbG9jYWxTdGFja1RyYWNlKHBheWxvYWQpLnVubG9ja09yKFwiXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9wYXJzZVN0YWNrKHN0YWNrOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXN1bHQ6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgc3RhY2tcclxuICAgICAgICAgICAgLnNwbGl0KFwiXFxuXCIpXHJcbiAgICAgICAgICAgIC5tYXAobGluZSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX21hdGNoTGluZTxzdHJpbmc+KFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUsIFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGluZS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBfXyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maWx0ZXIobGluZSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGluZS5sZW5ndGggPiAwO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAubWFwKGxpbmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9wYXJzZUxpbmUobGluZSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5tYXAoKFtsb2NhdGlvbk8sIHBhdGhPLCBsaW5lTywgY29sdW1uT10pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfcmVwcmVzZW50TGluZShsb2NhdGlvbk8sIHBhdGhPLCBsaW5lTywgY29sdW1uTyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKGxpbmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiXFxuXCIgKyBsaW5lO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9wYXJzZUxpbmUobGluZTogc3RyaW5nKTogW2xvY2F0aW9uOiBPcHRpb248c3RyaW5nPiwgcGF0aDogT3B0aW9uPHN0cmluZz4sIGxpbmU6IE9wdGlvbjxiaWdpbnQ+LCBjb2x1bW46IE9wdGlvbjxiaWdpbnQ+XSB7XHJcbiAgICAgICAgbGV0IGxvY2F0aW9uTzogT3B0aW9uPHN0cmluZz4gPSBOb25lO1xyXG4gICAgICAgIGxldCBwYXRoTzogT3B0aW9uPHN0cmluZz4gPSBOb25lO1xyXG4gICAgICAgIGxldCBsaW5lTzogT3B0aW9uPGJpZ2ludD4gPSBOb25lO1xyXG4gICAgICAgIGxldCBjb2x1bW5POiBPcHRpb248YmlnaW50PiA9IE5vbmU7XHJcbiAgICAgICAgbGV0IHBhdHRlcm46IFJlZ0V4cCA9IC9hdCAoPzxsb2NhdGlvbj4uKj8pIFxcKCg/PHBhdGg+Lio/KTooPzxsaW5lPlxcZCspOig/PGNvbHVtbj5cXGQrKVxcKS87XHJcbiAgICAgICAgbGV0IG1hdGNoOiBSZWdFeHBFeGVjQXJyYXkgfCBudWxsID0gcGF0dGVybi5leGVjKGxpbmUpO1xyXG4gICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaC5ncm91cHMpIHtcclxuICAgICAgICAgICAgbG9jYXRpb25PID0gbWF0Y2guZ3JvdXBzLmxvY2F0aW9uID8gU29tZShtYXRjaC5ncm91cHMubG9jYXRpb24pIDogTm9uZTtcclxuICAgICAgICAgICAgcGF0aE8gPSBtYXRjaC5ncm91cHMucGF0aCA/IFNvbWUobWF0Y2guZ3JvdXBzLnBhdGgpIDogTm9uZTtcclxuICAgICAgICAgICAgbGluZU8gPSBtYXRjaC5ncm91cHMubGluZSA/IFNvbWUoQmlnSW50KG1hdGNoLmdyb3Vwcy5saW5lKSkgOiBOb25lO1xyXG4gICAgICAgICAgICBjb2x1bW5PID0gbWF0Y2guZ3JvdXBzLmNvbHVtbiA/IFNvbWUoQmlnSW50KG1hdGNoLmdyb3Vwcy5jb2x1bW4pKSA6IE5vbmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbbG9jYXRpb25PLCBwYXRoTywgbGluZU8sIGNvbHVtbk9dO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9yZXByZXNlbnRMaW5lKGxvY2F0aW9uTzogT3B0aW9uPHN0cmluZz4sIHBhdGhPOiBPcHRpb248c3RyaW5nPiwgbGluZU86IE9wdGlvbjxiaWdpbnQ+LCBjb2x1bW5POiBPcHRpb248YmlnaW50Pik6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHN5bWJvbDogc3RyaW5nID0gXCJhdFwiO1xyXG4gICAgICAgIGxldCBtaXNzaW5nOiBzdHJpbmcgPSBcIjw8PCBVTkFWQUlMQUJMRSA+Pj5cIjtcclxuICAgICAgICByZXR1cm4gYWxsTyhsb2NhdGlvbk8sIHBhdGhPLCBsaW5lTywgY29sdW1uTylcclxuICAgICAgICAgICAgLm1hcCgoW2xvY2F0aW9uLCBwYXRoLCBsaW5lLCBjb2x1bW5dKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYCAgICAgJHsgX3JlZChzeW1ib2wpIH0gJHsgcGF0aCB9ICR7IF9yZWQobG9jYXRpb24pIH0gJHsgbGluZSB9ICR7IGNvbHVtbiB9YDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnVubG9ja09yKFwiICAgICBcIiArIF9yZWQobWlzc2luZykpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9tYXRjaExpbmU8VDE+KGxpbmU6IHN0cmluZywgb25WYWxpZDogQ2xvc3VyZTxbbGluZTogc3RyaW5nXSwgVDE+LCBvbkludmFsaWQ6IENsb3N1cmU8W2xpbmU6IHN0cmluZ10sIFQxPik6IFQxIHtcclxuICAgICAgICBpZiAobGluZSA9PT0gXCJFcnJvclwiKSByZXR1cm4gb25JbnZhbGlkKGxpbmUpO1xyXG4gICAgICAgIHJldHVybiBvblZhbGlkKGxpbmUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9yZWQoc3RyaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBcIlxceDFiWzMxbVwiICsgc3RyaW5nICsgXCJcXHgxYlswbVwiO1xyXG4gICAgfVxyXG59KSgpOyIsICJpbXBvcnQgdHlwZSB7IEJyYW5kZWRTdHJ1Y3QgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyb3JIYW5kbGVyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IE9wdGlvbiB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBmbGFnIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgdHlwZSBFcnJvcjxUMSBleHRlbmRzIHN0cmluZywgVDIgPSB1bmtub3duPiA9IFxyXG4gICAgJiBCcmFuZGVkU3RydWN0PFwiRXJyb3JcIj5cclxuICAgICYge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBlcnJvci5cclxuICAgICAqL1xyXG4gICAgY29kZTogVDE7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogQSBodW1hbi1yZWFkYWJsZSBtZXNzYWdlIHRoYXQgZXhwbGFpbnMgdGhlIG5hdHVyZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIG1lc3NhZ2U6IE9wdGlvbjxzdHJpbmc+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIEFuIG9wdGlvbmFsIHZhbHVlIHRoYXQgY2FuIGhvbGQgYWRkaXRpb25hbCBkYXRhIG9yIGNvbnRleHQgcmVsYXRlZCB0byB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHBheWxvYWQ6IE9wdGlvbjxUMj47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogVGhlIHN0YWNrIHRyYWNlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHN0YWNrOiBzdHJpbmc7XHJcbn07XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogQSBjdXN0b20gZXJyb3Igd2l0aCBhbiBvcHRpb25hbCBtZXNzYWdlIGFuZCBwYXlsb2FkIGZvciBzdHJvbmdseS10eXBlZCBlcnJvcnMuXHJcbiAqIFxyXG4gKiAqKipOb3RlKioqXHJcbiAqIFRoaXMgaXMgYSBnZW5lcmFsLXB1cnBvc2UgZXJyb3Igc3RydWN0dXJlIHRvIG1hbmFnZSBkb21haW4tc3BlY2lmaWMgZXJyb3IgY29kZXMgYW5kIHByb3ZpZGUgYmV0dGVyIGNvbnRleHQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gRXJyb3I8VDEgZXh0ZW5kcyBzdHJpbmcsIFQyID0gdW5rbm93bj4oX2NvbmZpZ3VyYXRpb246IHtcclxuICAgIGNvZGU6IFQxO1xyXG4gICAgbWVzc2FnZT86IHN0cmluZztcclxuICAgIHBheWxvYWQ/OiBUMjtcclxuICAgIHN0YWNrPzogc3RyaW5nO1xyXG4gICAgaGFuZGxlcj86IEVycm9ySGFuZGxlcjtcclxufSk6IEVycm9yPFQxLCBUMj47XHJcbmV4cG9ydCBmdW5jdGlvbiBFcnJvcjxUMSBleHRlbmRzIHN0cmluZywgVDIgPSB1bmtub3duPihfY29kZTogVDEsIF9tZXNzYWdlPzogc3RyaW5nLCBfcGF5bG9hZD86IFQyKTogRXJyb3I8VDEsIFQyPjtcclxuZXhwb3J0IGZ1bmN0aW9uIEVycm9yPFQxIGV4dGVuZHMgc3RyaW5nLCBUMiA9IHVua25vd24+KFxyXG4gICAgX3AwOiB7XHJcbiAgICAgICAgY29kZTogVDE7XHJcbiAgICAgICAgbWVzc2FnZT86IHN0cmluZztcclxuICAgICAgICBwYXlsb2FkPzogVDI7XHJcbiAgICAgICAgc3RhY2s/OiBzdHJpbmc7XHJcbiAgICAgICAgaGFuZGxlcj86IEVycm9ySGFuZGxlcjtcclxuICAgIH0gfCBUMSxcclxuICAgIF9wMT86IHN0cmluZyxcclxuICAgIF9wMj86IFQyXHJcbik6IEVycm9yPFQxLCBUMj4ge1xyXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqLyB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBfcDAgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgbGV0IGNvbmZpZ3VyYXRpb246IHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IFQxO1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZT86IHN0cmluZztcclxuICAgICAgICAgICAgICAgIHBheWxvYWQ/OiBUMjtcclxuICAgICAgICAgICAgICAgIHN0YWNrPzogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcj86IEVycm9ySGFuZGxlcjtcclxuICAgICAgICAgICAgfSA9IF9wMDtcclxuICAgICAgICAgICAgbGV0IGhhbmRsZXI6IEVycm9ySGFuZGxlciA9IGZsYWcoY29uZmlndXJhdGlvbi5oYW5kbGVyKS51bmxvY2tPcihFcnJvckhhbmRsZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJFcnJvclwiLFxyXG4gICAgICAgICAgICAgICAgY29kZTogY29uZmlndXJhdGlvbi5jb2RlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZmxhZyhjb25maWd1cmF0aW9uLm1lc3NhZ2UpLFxyXG4gICAgICAgICAgICAgICAgcGF5bG9hZDogZmxhZyhjb25maWd1cmF0aW9uLnBheWxvYWQpLFxyXG4gICAgICAgICAgICAgICAgc3RhY2s6IGZsYWcoY29uZmlndXJhdGlvbi5zdGFjaykudW5sb2NrT3IoaGFuZGxlci5wYXJzZVN0YWNrVHJhY2UoRXJyb3IpKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBcIkVycm9yXCIsXHJcbiAgICAgICAgICAgIGNvZGU6IF9wMCxcclxuICAgICAgICAgICAgbWVzc2FnZTogZmxhZyhfcDEpLFxyXG4gICAgICAgICAgICBwYXlsb2FkOiBmbGFnKF9wMiksXHJcbiAgICAgICAgICAgIHN0YWNrOiBFcnJvckhhbmRsZXIucGFyc2VTdGFja1RyYWNlKEVycm9yKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHR5cGUgeyBEb21FeGNlcHRpb25OYW1lIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgRG9tRXJyb3JDb2RlIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgY29uc3QgRG9tRXJyb3JOYW1lVG9Db2RlTWFwOiBSZWNvcmQ8RG9tRXhjZXB0aW9uTmFtZSwgRG9tRXJyb3JDb2RlPiA9IHtcclxuICAgIFwiRW5jb2RpbmdFcnJvclwiOiBcIkRPTS5FUlJfRU5DT0RJTkdcIixcclxuICAgIFwiTm90UmVhZGFibGVFcnJvclwiOiBcIkRPTS5FUlJfTk9UX1JFQURBQkxFXCIsXHJcbiAgICBcIlVua25vd25FcnJvclwiOiBcIkRPTS5FUlJfVU5LTk9XTlwiLFxyXG4gICAgXCJDb25zdHJhaW50RXJyb3JcIjogXCJET00uRVJSX0NPTlNUUkFJTlRcIixcclxuICAgIFwiRGF0YUVycm9yXCI6IFwiRE9NLkVSUl9EQVRBXCIsXHJcbiAgICBcIlRyYW5zYWN0aW9uSW5hY3RpdmVFcnJvclwiOiBcIkRPTS5FUlJfVFJBTlNBQ1RJT05fSU5BQ1RJVkVcIixcclxuICAgIFwiUmVhZE9ubHlFcnJvclwiOiBcIkRPTS5FUlJfUkVBRF9PTkxZXCIsXHJcbiAgICBcIlZlcnNpb25FcnJvclwiOiBcIkRPTS5FUlJfVkVSU0lPTlwiLFxyXG4gICAgXCJPcGVyYXRpb25FcnJvclwiOiBcIkRPTS5FUlJfT1BFUkFUSU9OXCIsXHJcbiAgICBcIk5vdEFsbG93ZWRFcnJvclwiOiBcIkRPTS5FUlJfTk9UX0FMTE9XRURcIlxyXG59OyIsICJpbXBvcnQgdHlwZSB7IERvbUV4Y2VwdGlvbkNvZGUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBEb21FcnJvckNvZGUgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBEb21FeGNlcHRpb25Db2RlVG9Eb21FcnJvckNvZGVNYXA6IFJlY29yZDxEb21FeGNlcHRpb25Db2RlLCBEb21FcnJvckNvZGU+ID0ge1xyXG4gICAgMTogXCJET00uRVJSX0lOREVYX1NJWkVcIixcclxuICAgIDM6IFwiRE9NLkVSUl9ISUVSQVJDSFlfUkVRVUVTVFwiLFxyXG4gICAgNDogXCJET00uRVJSX1dST05HX0RPQ1VNRU5UXCIsXHJcbiAgICA1OiBcIkRPTS5FUlJfSU5WQUxJRF9DSEFSQUNURVJcIixcclxuICAgIDc6IFwiRE9NLkVSUl9OT19NT0RJRklDQVRJT05fQUxMT1dFRFwiLFxyXG4gICAgODogXCJET00uRVJSX05PVF9GT1VORFwiLFxyXG4gICAgOTogXCJET00uRVJSX05PVF9TVVBQT1JURURcIixcclxuICAgIDExOiBcIkRPTS5FUlJfSU5WQUxJRF9TVEFURVwiLFxyXG4gICAgMTI6IFwiRE9NLkVSUl9TWU5UQVhcIixcclxuICAgIDEzOiBcIkRPTS5FUlJfSU5WQUxJRF9NT0RJRklDQVRJT05cIixcclxuICAgIDE0OiBcIkRPTS5FUlJfTkFNRVNQQUNFXCIsXHJcbiAgICAxNzogXCJET00uRVJSX1RZUEVfTUlTTUFUQ0hcIixcclxuICAgIDE4OiBcIkRPTS5FUlJfU0VDVVJJVFlcIixcclxuICAgIDE5OiBcIkRPTS5FUlJfTkVUV09SS1wiLFxyXG4gICAgMjA6IFwiRE9NLkVSUl9BQk9SVFwiLFxyXG4gICAgMjE6IFwiRE9NLkVSUl9VUkxfTUlTTUFUQ0hcIixcclxuICAgIDIyOiBcIkRPTS5FUlJfUVVPVEFfRVhDRUVERURcIixcclxuICAgIDIzOiBcIkRPTS5FUlJfVElNRU9VVFwiLFxyXG4gICAgMjQ6IFwiRE9NLkVSUl9JTlZBTElEX05PREVfVFlQRVwiLFxyXG4gICAgMjU6IFwiRE9NLkVSUl9EQVRBX0NMT05FXCJcclxufTsiLCAiaW1wb3J0IHR5cGUgeyBEb21FcnJvckNvZGUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRG9tRXhjZXB0aW9uQ29kZVRvRG9tRXJyb3JDb2RlTWFwIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IERvbUVycm9yTmFtZVRvQ29kZU1hcCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBFcnJvciB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRG9tRXJyb3IgPSBFcnJvcjxEb21FcnJvckNvZGU+O1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIEEgZG9tYWluLXNwZWNpZmljIGVycm9yIHRoYXQgcHJvdmlkZXMgdGhlIGVycm9yIGNvZGUgZm9yIERPTSBleGNlcHRpb25zLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIERvbUVycm9yKCk6IERvbUVycm9yO1xyXG5leHBvcnQgZnVuY3Rpb24gRG9tRXJyb3IoX2U6IERPTUV4Y2VwdGlvbik6IERvbUVycm9yO1xyXG5leHBvcnQgZnVuY3Rpb24gRG9tRXJyb3IoXHJcbiAgICBfYXJnczA/OiBET01FeGNlcHRpb25cclxuKTogRG9tRXJyb3Ige1xyXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqLyB7XHJcbiAgICAgICAgbGV0IGU6IERPTUV4Y2VwdGlvbiB8IHVuZGVmaW5lZCA9IF9hcmdzMDtcclxuICAgICAgICBpZiAoZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gRXJyb3IoXCJET00uRVJSX1VOS05PV05cIik7XHJcbiAgICAgICAgcmV0dXJuIEVycm9yKF9tYXRjaChlKSwgZS5tZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfbWF0Y2goZTogRE9NRXhjZXB0aW9uKTogRG9tRXJyb3JDb2RlIHtcclxuICAgICAgICBsZXQgY29kZTogRG9tRXJyb3JDb2RlID0gXCJET00uRVJSX1VOS05PV05cIjtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGUuY29kZSA9PT0gMVxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDNcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSA0XHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gNVxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDdcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSA4XHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gOVxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDExXHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gMTJcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSAxM1xyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDE0XHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gMTdcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSAxOFxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDE5XHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gMjBcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSAyMVxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDIyXHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gMjNcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSAyNFxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDI1XHJcbiAgICAgICAgKSBjb2RlID0gRG9tRXhjZXB0aW9uQ29kZVRvRG9tRXJyb3JDb2RlTWFwW2UuY29kZV07XHJcbiAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgICAgIGUubmFtZSA9PT0gXCJFbmNvZGluZ0Vycm9yXCJcclxuICAgICAgICAgICAgfHwgZS5uYW1lID09PSBcIk5vdFJlYWRhYmxlRXJyb3JcIlxyXG4gICAgICAgICAgICB8fCBlLm5hbWUgPT09IFwiVW5rbm93bkVycm9yXCJcclxuICAgICAgICAgICAgfHwgZS5uYW1lID09PSBcIkNvbnN0cmFpbnRFcnJvclwiXHJcbiAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gXCJEYXRhRXJyb3JcIlxyXG4gICAgICAgICAgICB8fCBlLm5hbWUgPT09IFwiVHJhbnNhY3Rpb25JbmFjdGl2ZUVycm9yXCJcclxuICAgICAgICAgICAgfHwgZS5uYW1lID09PSBcIlJlYWRPbmx5RXJyb3JcIlxyXG4gICAgICAgICAgICB8fCBlLm5hbWUgPT09IFwiVmVyc2lvbkVycm9yXCJcclxuICAgICAgICAgICAgfHwgZS5uYW1lID09PSBcIk9wZXJhdGlvbkVycm9yXCJcclxuICAgICAgICAgICAgfHwgZS5uYW1lID09PSBcIk5vdEFsbG93ZWRFcnJvclwiXHJcbiAgICAgICAgKSBjb2RlID0gRG9tRXJyb3JOYW1lVG9Db2RlTWFwW2UubmFtZV07XHJcbiAgICAgICAgcmV0dXJuIGNvZGU7XHJcbiAgICB9XHJcbn0iLCAiZXhwb3J0IGNvbnN0IElOVEVSTkFMX0VSUk9SX01FU1NBR0U6IHN0cmluZyA9XHJcbiAgICBcIlxcblwiICsgXCJVaC1vaCwgbG9va3MgbGlrZSBSZWxpcSB0b29rIGEgd3JvbmcgdHVybiFcIiArIFxyXG4gICAgXCJcXG5cIiArIFwiRG9uJ3Qgd29ycnksIGl0J3Mgbm90IHlvdS1pdCdzIHVzLlwiICsgXHJcbiAgICBcIlxcblwiICsgXCJQbGVhc2UgcmVwb3J0IHRoaXMgYXQgZHJlYW1jYXRjaGVyX2ZvdW5kYXRpb25AcHJvdG9uLm1lXCIgK1xyXG4gICAgXCJcXG5cIjsiXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsZUFBQUE7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQUFBQztBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQytCTyxJQUFNLFVBQXlCLE1BQU07QUFDcEI7QUFDaEIsV0FBTyxFQUFFLEtBQUssS0FBSyxNQUFBQyxPQUFNLFdBQUFDLFdBQVU7QUFBQSxFQUN2QztBQUVBLFdBQVMsSUFBZ0QsU0FBOEQ7QUFDbkgsUUFBSSxNQUFzQixDQUFDO0FBQzNCLFFBQUksSUFBWTtBQUNoQixXQUFPLElBQUksUUFBUSxRQUFRO0FBQ3ZCLFVBQUksU0FBbUMsUUFBUSxHQUFHLENBQUM7QUFDbkQsVUFBSSxPQUFPLEdBQUcsRUFBRyxLQUFJLEtBQUssT0FBTyxPQUFPLENBQUM7QUFBQSxVQUNwQyxRQUFPO0FBQ1o7QUFBQSxJQUNKO0FBQ0EsV0FBTyxHQUFJLEdBQXNCO0FBQUEsRUFDckM7QUFFQSxXQUFTLElBQWdELFNBQThEO0FBQ25ILFFBQUksTUFBc0IsQ0FBQztBQUMzQixRQUFJLElBQVk7QUFDaEIsV0FBTyxJQUFJLFFBQVEsUUFBUTtBQUN2QixVQUFJLFVBQW9DLFFBQVEsR0FBRyxDQUFDO0FBQ3BELFVBQUksUUFBUSxHQUFHLEVBQUcsUUFBTztBQUFBLFVBQ3BCLEtBQUksS0FBSyxRQUFRLFFBQVEsQ0FBQztBQUMvQjtBQUFBLElBQ0o7QUFDQSxXQUFPLElBQUssR0FBdUI7QUFBQSxFQUN2QztBQUVBLFdBQVNELE1BQW1DLFNBQTBCLFNBQWlDO0FBQ25HLFFBQUk7QUFDQSxhQUFPLEdBQUcsS0FBSyxHQUFH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LFFBQUksTUFBTSxPQUFXLFFBQU9DLE9BQU0saUJBQWlCO0FBQ25ELFdBQU9BLE9BQU0sT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPO0FBQUEsRUFDckM7QUFFQSxXQUFTLE9BQU8sR0FBK0I7QUFDM0MsUUFBSSxPQUFxQjtBQUN6QixRQUNJLEVBQUUsU0FBUyxLQUNSLEVBQUUsU0FBUyxLQUNYLEVBQUUsU0FBUyxLQUNYLEVBQUUsU0FBUyxLQUNYLEVBQUUsU0FBUyxLQUNYLEVBQUUsU0FBUyxLQUNYLEVBQUUsU0FBUyxLQUNYLEVBQUUsU0FBUyxNQUNYLEVBQUUsU0FBUyxNQUNYLEVBQUUsU0FBUyxNQUNYLEVBQUUsU0FBUyxNQUNYLEVBQUUsU0FBUyxNQUNYLEVBQUUsU0FBUyxNQUNYLEVBQUUsU0FBUyxNQUNYLEVBQUUsU0FBUyxNQUNYLEVBQUUsU0FBUyxNQUNYLEVBQUUsU0FBUyxNQUNYLEVBQUUsU0FBUyxNQUNYLEVBQUUsU0FBUyxNQUNYLEVBQUUsU0FBUyxHQUNoQixRQUFPLGtDQUFrQyxFQUFFLElBQUk7QUFBQSxhQUU3QyxFQUFFLFNBQVMsbUJBQ1IsRUFBRSxTQUFTLHNCQUNYLEVBQUUsU0FBUyxrQkFDWCxFQUFFLFNBQVMscUJBQ1gsRUFBRSxTQUFTLGVBQ1gsRUFBRSxTQUFTLDhCQUNYLEVBQUUsU0FBUyxtQkFDWCxFQUFFLFNBQVMsa0JBQ1gsRUFBRSxTQUFTLG9CQUNYLEVBQUUsU0FBUyxrQkFDaEIsUUFBTyxzQkFBc0IsRUFBRSxJQUFJO0FBQ3JDLFdBQU87QUFBQSxFQUNYO0FBQ0o7OztBQzVETyxJQUFNLHlCQUNUOyIsCiAgIm5hbWVzIjogWyJFcnJvciIsICJpc0JyYW5kZWQiLCAid3JhcCIsICJ3cmFwQXN5bmMiLCAiZmxhZyIsICJFcnJvciIsICJFcnJvciIsICJlIiwgIkVycm9yIiwgIkVycm9yIiwgInVua25vd24iLCAiaXNCcmFuZGVkIiwgInVua25vd24iLCAibGluZSIsICJfcmVkIiwgIkVycm9yIiwgIkVycm9yIl0KfQo=