"use strict";var n,r=Object.defineProperty,t=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,u={};((n,t)=>{for(var e in t)r(n,e,{get:t[e],enumerable:!0})})(u,{Alloc:()=>_,DeAlloc:()=>m,DomError:()=>P,Dyn:()=>d,Err:()=>R,Error:()=>h,Fpv:()=>k,None:()=>g,Ok:()=>s,Ref:()=>O,Some:()=>N,Unsafe:()=>i,allO:()=>D,allR:()=>l,anyO:()=>A,anyR:()=>f,clone:()=>M,isBranded:()=>v,isBrandedStruct:()=>T,panic:()=>S,toString:()=>I,wrap:()=>p,wrapAsync:()=>E}),module.exports=(n=u,((n,u,c,a)=>{if(u&&"object"==typeof u||"function"==typeof u)for(let i of e(u))o.call(n,i)||i===c||r(n,i,{get:()=>u[i],enumerable:!(a=t(u,i))||a.enumerable});return n})(r({},"__esModule",{value:!0}),n));var c={all:function(n){let r=[],t=0;for(;t<n.length;){let e=n.at(t);if(!e.ok())return e;r.push(e.unlock()),t++}return s(r)},any:function(n){let r=[],t=0;for(;t<n.length;){let e=n.at(t);if(e.ok())return e;r.push(e.inspect()),t++}return R(r)},wrap:function(n,...r){try{return s(n(...r))}catch(n){return R(i(n))}},wrapAsync:async function(n,...r){try{return s(await n(...r))}catch(n){return R(i(n))}}},a={flag:function(n){return null==n?g:N(n)},all:function(...n){let r=[],t=0;for(;t<n.length;){let e=n.at(t);if(e.none())return e;r.push(e.unlock()),t++}return N(r)},any:function(...n){let r=0;for(;r<n.length;){let t=n.at(r);if(t.some())return t;r++}return g}};function i(n){return{unwrap:r,parse:function(n){return n(r())?N(r()):g}};function r(){return n}}var l=c.all,f=c.any,p=c.wrap,E=c.wrapAsync;function s(n){let r;return r={ok:function(){return!0},err:function(){return!1},expect:function(n){return t()},expectErr:function(n){S(h("PANIC",n))},unlock:t,unlockOr:function(n){return t()},and:function(n){return n(t())},map:function(n){return s(n(t()))},mapErr:function(n){return r},recover:function(n){return r},degrade:function(n){return R(n(t()))},toOption:function(){return N(t())}};function t(){return n}}function R(n,r=C){let t,e,o,u;return o=n,u=r,e=u.parseStackTrace(R),t={ok:function(){return!1},err:function(){return!0},inspect:c,stack:function(){return e},expect:function(n){let r=c(),t=g;if(r instanceof Error){let e=h({code:r.name.toUpperCase(),message:n});t=N(e)}t.none()&&u.matchError(r,(r=>{r.message=r.message.map((r=>r+"\n\n     Context\n     "+n)),t=N(r)}));S(t.toResult(void 0).recover((()=>h({code:"PANIC",message:n}))).unlock())},expectErr:function(n){return c()},unlockOr:function(n){return n},and:function(n){return t},map:function(n){return t},mapErr:function(n){return R(n(c()))},recover:function(n){return s(n(c()))},degrade:function(n){return t},toOption:function(){return g}};function c(){return o}}function O(n){let r,t,e;return t=0n,e=new Map,r={unwrap:o,mut:function(t){let u=o(),c=t;return n=t,e.values().toArray().forEach((n=>n(c,u))),r},onChange:function(n){let r=t+=1n;return e.set(r,n),()=>{e.delete(r)}}};function o(){return n}}function d(n,r,t,...e){let o,u;{o=new Map,u=0n;let a=0n;for(;a<t;){let r=c();o.set(r,n(...e)),a++}return function(...t){let e,u;return e=g,u=function(){let n=o.keys().toArray().at(0);return n?N(n):g}().toResult(void 0).map((n=>(e=N(n),_(function(n){let r=o.get(n);return o.delete(n),r}(n),{deAlloc:a})))).recover((()=>(e=N(c()),_(n(...t),{deAlloc:a})))).unlock();function a(){return e.toResult(void 0).map((n=>{e=g,function(n,r){o.set(n,r)}(n,r(u.expect("Dyn: Could not deallocate resource but the key was available."+U)))})),u=m({deAlloc:a})}}}function c(){return u+=1n}}function m(n){return{...g,...n}}function _(n,r){return{...N(n),...r}}var y=a.flag,D=a.all,A=a.any;function N(n){return{type:function(){return"Some"},some:function(){return!0},none:function(){return!1},expect:function(r){return n},unlock:function(){return n},unlockOr:function(r){return n},and:function(r){return r(n)},map:function(r){return N(r(n))},toResult:function(r){return s(n)}}}var g=(()=>{let n;return n={type:function(){return"None"},some:function(){return!1},none:function(){return!0},expect:function(n){S(h("ERR_VALUE_REQUIRED",n))},unlockOr:function(n){return n},and:function(r){return n},map:function(r){return n},toResult:function(n){return R(n)}}})();function k(n,r=2n){let t;return 0n===e()?R(h("FPV.ERR_PRECISION_IS_ZERO","Fpv: Does not support zero precision.")):e()<0n?R(h("FPV.ERR_PRECISION_IS_NEGATIVE","Fpv: Does not support negative precision.")):(t=c(n),s({unwrap:function(){return t},precision:e,representation:o,add:function(n){return u((()=>t+c(n)))},sub:function(n){return u((()=>t-c(n)))},mul:function(n){return u((()=>t*c(n)/o()))},div:function(n){let r=c(n);return 0n===r?R(h("FPV.ERR_DIVISION_BY_ZERO","Fpv: Cannot divide by zero.")):s(u((()=>t*o()/r)))}}));function e(){return r}function o(){return 10n**e()}function u(n){return k(n()).expect("Fpv: Failed to wrap the task result into an Fpv."+U)}function c(n){return"bigint"==typeof n?n:n.unwrap()}}function I(n){if(null==n||"object"!=typeof n)return String(n);try{return JSON.stringify(n)}catch{}return"[object Object]"}function M(n){return p((()=>structuredClone(n))).mapErr((n=>n.parse((n=>null!=n&&"object"==typeof n&&"name"in n&&"code"in n&&"message"in n&&"string"==typeof n.name&&"number"==typeof n.code&&"string"==typeof n.message)).map((n=>P(n))).unlockOr(P())))}function T(n,r){return(n=>{let t=null!=n&&"object"==typeof n&&"type"in n&&"string"==typeof n.type;if(!1===t)return!1;if(void 0!==r){let e=r;t=t&&n.type===e}return t})(n)}function v(n,r){return(n=>{let t=null!=n&&"object"==typeof n&&"type"in n&&"function"==typeof n.type&&"string"==typeof n.type();if(!1===t)return!1;if(void 0!==r){let e=r;t=t&&n.type()===e}return t})(n)}function S(n,r,t){if("object"==typeof n){let t=n;y(r).unlockOr(C);throw["","",`     ${e=t.code,"[31m"+e+"[0m"} ${t.message.unlockOr("<<< UNAVAILABLE >>>")}`,"","     STACK_TRACE"+t.stack].join("\n")}{let e=n,o=y(r).unlockOr(S),u=y(t).unlockOr(C);throw Error().name="PANIC","PANIC "+e+"\n"+u.parseStackTrace(o)}var e}var C=(()=>{return{matchError:function(n,r,t){let e=n,o=null!=e&&"object"==typeof e&&T(e,"Error");if(!o)return!1;if(void 0!==r&&"string"==typeof r){let n=r;o=o&&"code"in e&&"string"==typeof e.code&&e.code===n}if(!o)return!1;let u=g;void 0!==r&&"function"==typeof r&&(u=N(r));void 0!==t&&(u=N(t));return u.map((n=>{n(e)})),!0},localStackTrace:n,parseStackTrace:function(t){return function(n){let t="";return n.split("\n").map((n=>function(n,r,t){return"Error"===n?t(n):r(n)}(n,(n=>n.trim()),(n=>"")))).filter((n=>n.length>0)).map((n=>function(n){let r=g,t=g,e=g,o=g,u=/at (?<location>.*?) \((?<path>.*?):(?<line>\d+):(?<column>\d+)\)/.exec(n);u&&u.groups&&(r=u.groups.location?N(u.groups.location):g,t=u.groups.path?N(u.groups.path):g,e=u.groups.line?N(BigInt(u.groups.line)):g,o=u.groups.column?N(BigInt(u.groups.column)):g);return[r,t,e,o]}(n))).map((([n,t,e,o])=>function(n,t,e,o){let u="at",c="<<< UNAVAILABLE >>>";return D(n,t,e,o).map((([n,t,e,o])=>`     ${r(u)} ${t} ${r(n)} ${e} ${o}`)).unlockOr("     "+r(c))}(n,t,e,o))).forEach((n=>{t+="\n"+n})),t}((e=t,"string"==typeof e?e:n(e).unlockOr("")));var e},convertToStandardError:function(n){let r=Error();return r.name=n.code,r.message=n.message.unlockOr(""),r.stack=n.stack.toString(),r.cause=void 0,r}};function n(n){let r=Error();return Error.captureStackTrace(r,n),r.stack?N(r.stack):g}function r(n){return"[31m"+n+"[0m"}})();function h(n,r,t){if("object"==typeof n){let r=n,t=y(r.handler).unlockOr(C);return{type:"Error",code:r.code,message:y(r.message),payload:y(r.payload),stack:y(r.stack).unlockOr(t.parseStackTrace(h))}}return{type:"Error",code:n,message:y(r),payload:y(t),stack:C.parseStackTrace(h)}}var w={EncodingError:"DOM.ERR_ENCODING",NotReadableError:"DOM.ERR_NOT_READABLE",UnknownError:"DOM.ERR_UNKNOWN",ConstraintError:"DOM.ERR_CONSTRAINT",DataError:"DOM.ERR_DATA",TransactionInactiveError:"DOM.ERR_TRANSACTION_INACTIVE",ReadOnlyError:"DOM.ERR_READ_ONLY",VersionError:"DOM.ERR_VERSION",OperationError:"DOM.ERR_OPERATION",NotAllowedError:"DOM.ERR_NOT_ALLOWED"},b={1:"DOM.ERR_INDEX_SIZE",3:"DOM.ERR_HIERARCHY_REQUEST",4:"DOM.ERR_WRONG_DOCUMENT",5:"DOM.ERR_INVALID_CHARACTER",7:"DOM.ERR_NO_MODIFICATION_ALLOWED",8:"DOM.ERR_NOT_FOUND",9:"DOM.ERR_NOT_SUPPORTED",11:"DOM.ERR_INVALID_STATE",12:"DOM.ERR_SYNTAX",13:"DOM.ERR_INVALID_MODIFICATION",14:"DOM.ERR_NAMESPACE",17:"DOM.ERR_TYPE_MISMATCH",18:"DOM.ERR_SECURITY",19:"DOM.ERR_NETWORK",20:"DOM.ERR_ABORT",21:"DOM.ERR_URL_MISMATCH",22:"DOM.ERR_QUOTA_EXCEEDED",23:"DOM.ERR_TIMEOUT",24:"DOM.ERR_INVALID_NODE_TYPE",25:"DOM.ERR_DATA_CLONE"};function P(n){{let r=n;return void 0===r?h("DOM.ERR_UNKNOWN"):h(function(n){let r="DOM.ERR_UNKNOWN";1===n.code||3===n.code||4===n.code||5===n.code||7===n.code||8===n.code||9===n.code||11===n.code||12===n.code||13===n.code||14===n.code||17===n.code||18===n.code||19===n.code||20===n.code||21===n.code||22===n.code||23===n.code||24===n.code||25===n.code?r=b[n.code]:"EncodingError"!==n.name&&"NotReadableError"!==n.name&&"UnknownError"!==n.name&&"ConstraintError"!==n.name&&"DataError"!==n.name&&"TransactionInactiveError"!==n.name&&"ReadOnlyError"!==n.name&&"VersionError"!==n.name&&"OperationError"!==n.name&&"NotAllowedError"!==n.name||(r=w[n.name]);return r}(r),r.message)}}var U="\nUh-oh, looks like Reliq took a wrong turn!\nDon't worry, it's not you-it's us.\nPlease report this at dreamcatcher_foundation@proton.me\n";//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc3JjL21vZC50cyIsICIuLi8uLi9zcmMvd3JhcHBlci9yZXN1bHQvcmVzdWx0LnRzIiwgIi4uLy4uL3NyYy93cmFwcGVyL29wdGlvbi9vcHRpb24udHMiLCAiLi4vLi4vc3JjL3dyYXBwZXIvdW5zYWZlL3Vuc2FmZS50cyIsICIuLi8uLi9zcmMvd3JhcHBlci9yZXN1bHQvdXRpbC9zaG9ydGhhbmQudHMiLCAiLi4vLi4vc3JjL3dyYXBwZXIvcmVzdWx0L29rL29rLnRzIiwgIi4uLy4uL3NyYy93cmFwcGVyL3Jlc3VsdC9lcnIvZXJyLnRzIiwgIi4uLy4uL3NyYy93cmFwcGVyL3JlZi9yZWYudHMiLCAiLi4vLi4vc3JjL3dyYXBwZXIvcGVyZm9ybWFuY2UvZHluL2R5bi50cyIsICIuLi8uLi9zcmMvd3JhcHBlci9wZXJmb3JtYW5jZS9keW4vZGVfYWxsb2MudHMiLCAiLi4vLi4vc3JjL3dyYXBwZXIvcGVyZm9ybWFuY2UvZHluL2FsbG9jLnRzIiwgIi4uLy4uL3NyYy93cmFwcGVyL29wdGlvbi91dGlsL3Nob3J0aGFuZC50cyIsICIuLi8uLi9zcmMvd3JhcHBlci9vcHRpb24vc29tZS9zb21lLnRzIiwgIi4uLy4uL3NyYy93cmFwcGVyL29wdGlvbi9ub25lL25vbmUudHMiLCAiLi4vLi4vc3JjL3dyYXBwZXIvZnB2L2Zwdi50cyIsICIuLi8uLi9zcmMvdXRpbC90b19zdHJpbmcudHMiLCAiLi4vLi4vc3JjL3V0aWwvY2xvbmUudHMiLCAiLi4vLi4vc3JjL3R5cGUvdHJhaXQvZ3VhcmQvaXNfYnJhbmRlZF9zdHJ1Y3QudHMiLCAiLi4vLi4vc3JjL3R5cGUvdHJhaXQvZ3VhcmQvaXNfYnJhbmRlZC50cyIsICIuLi8uLi9zcmMvZXJyb3IvcGFuaWMudHMiLCAiLi4vLi4vc3JjL2Vycm9yL2Vycm9yX2hhbmRsZXIudHMiLCAiLi4vLi4vc3JjL2Vycm9yL2Vycm9yLnRzIiwgIi4uLy4uL3NyYy9lcnJvci9kb20tZXJyb3IvZXhjZXB0aW9uL2RvbV9leGNlcHRpb25fbmFtZV90b19kb21fZXJyb3JfY29kZV9tYXAudHMiLCAiLi4vLi4vc3JjL2Vycm9yL2RvbS1lcnJvci9leGNlcHRpb24vZG9tX2V4Y2VwdGlvbl9jb2RlX3RvX2RvbV9lcnJvcl9jb2RlX21hcC50cyIsICIuLi8uLi9zcmMvZXJyb3IvZG9tLWVycm9yL2RvbV9lcnJvci50cyIsICIuLi8uLi9zcmMvY29uc3RhbnQvaW50ZXJuYWxfZXJyb3JfbWVzc2FnZS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiZXhwb3J0IHR5cGUgeyBBc3luY0Nsb3N1cmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBBc3luY0Z1bmN0aW9uIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB0eXBlIHsgQ2xvc3VyZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IEZ1bmN0aW9uIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB0eXBlIHsgTWF5YmVBc3luYyB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IFR5cGVHdWFyZCB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IEJyYW5kZWQgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBCcmFuZGVkU3RydWN0IH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB0eXBlIHsgUGFyc2FibGUgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBTZXJpYWxpemFibGUgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB7IEVycm9yIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IHBhbmljIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgdHlwZSB7IERvbUVycm9yQ29kZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgeyBEb21FcnJvciB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHsgY2xvbmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgdG9TdHJpbmcgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB7IGlzQnJhbmRlZCB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgeyBpc0JyYW5kZWRTdHJ1Y3QgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB0eXBlIHsgUmVzdWx0SGFuZGxlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IFJlc3VsdCB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IE9wdGlvbkhhbmRsZXIgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBPcHRpb24gfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBFcnJPZkFsbCB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IEVyck9mIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB0eXBlIHsgRXJyVmFsT2ZBbGwgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBFcnJWYWxPZiB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IE9rT2ZBbGwgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBPa09mIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB0eXBlIHsgT2tWYWxPZkFsbCB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IE9rVmFsT2YgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBTb21lT2ZBbGwgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBTb21lT2YgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBTb21lVmFsT2ZBbGwgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBTb21lVmFsT2YgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgRXJyIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IE9rIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IE5vbmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgU29tZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgeyBVbnNhZmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgYWxsUiB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgeyBhbnlSIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IHdyYXAgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgd3JhcEFzeW5jIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IGFsbE8gfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgYW55TyB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgeyBGcHZFcnJvckNvZGUgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBGcHZFcnJvciB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IEZwdklzaCB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgeyBGcHYgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB0eXBlIHsgRHluQ29uc3RydWN0b3IgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBEeW5XcmFwcGVyIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IEFsbG9jIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IERlQWxsb2MgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgRHluIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgdHlwZSB7IFJlZkRlbFRhc2sgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBSZWZUYXNrIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IFJlZiB9IGZyb20gXCJAcm9vdFwiOyIsICJcInJhaXNlIDFcIjtcclxuXHJcbmltcG9ydCB0eXBlIHsgRXJyVmFsT2ZBbGwgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBPa1ZhbE9mQWxsIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgUmVzdWx0SGFuZGxlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IENsb3N1cmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBBc3luY0Nsb3N1cmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgT2sgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IFVuc2FmZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIEEgd3JhcHBlciB0aGF0IGVuY2Fwc3VsYXRlcyBlaXRoZXIgYSBzdWNjZXNzZnVsIG91dGNvbWUgYE9rPFQxPmAgb3IgYSBmYWlsdXJlIGBFcnI8VDI+YC5cclxuICogXHJcbiAqICoqKkV4YW1wbGUqKipcclxuICogYGBgdHNcclxuICogIGZ1bmN0aW9uIGZvbygpOiBSZXN1bHQ8MjAwbiwgNDA0bj4ge1xyXG4gKiAgICAgIGlmICgpIHJldHVybiBPaygyMDBuKTtcclxuICogICAgICByZXR1cm4gRXJyKDQwNG4pO1xyXG4gKiAgfVxyXG4gKiBcclxuICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPiA9IGZvbygpO1xyXG4gKiAgaWYgKHJlc3VsdC5vaygpKSB7XHJcbiAqICAgICAgbGV0IHZhbHVlOiAyMDBuID0gcmVzdWx0LnVubG9jaygpO1xyXG4gKiAgICAgIC8vLyAuLi5cclxuICogIH1cclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgdHlwZSBSZXN1bHQ8VDEsIFQyPiA9IE9rPFQxPiB8IEVycjxUMj47XHJcblxyXG5leHBvcnQgY29uc3QgUmVzdWx0OiBSZXN1bHRIYW5kbGVyID0gKCgpID0+IHtcclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIHJldHVybiB7IGFsbCwgYW55LCB3cmFwLCB3cmFwQXN5bmMgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhbGw8VDEgZXh0ZW5kcyBBcnJheTxSZXN1bHQ8dW5rbm93biwgdW5rbm93bj4+PihyZXN1bHRzOiBUMSk6IFJlc3VsdDxPa1ZhbE9mQWxsPFQxPiwgRXJyVmFsT2ZBbGw8VDE+W251bWJlcl0+IHtcclxuICAgICAgICBsZXQgb3V0OiBBcnJheTx1bmtub3duPiA9IFtdO1xyXG4gICAgICAgIGxldCBpOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHdoaWxlIChpIDwgcmVzdWx0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdDogUmVzdWx0PHVua25vd24sIHVua25vd24+ID0gcmVzdWx0cy5hdChpKSE7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQub2soKSkgb3V0LnB1c2gocmVzdWx0LnVubG9jaygpKTtcclxuICAgICAgICAgICAgZWxzZSByZXR1cm4gcmVzdWx0IGFzIEVycjxFcnJWYWxPZkFsbDxUMT5bbnVtYmVyXT47XHJcbiAgICAgICAgICAgIGkgKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBPaygob3V0IGFzIE9rVmFsT2ZBbGw8VDE+KSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYW55PFQxIGV4dGVuZHMgQXJyYXk8UmVzdWx0PHVua25vd24sIHVua25vd24+Pj4ocmVzdWx0czogVDEpOiBSZXN1bHQ8T2tWYWxPZkFsbDxUMT5bbnVtYmVyXSwgRXJyVmFsT2ZBbGw8VDE+PiB7XHJcbiAgICAgICAgbGV0IG91dDogQXJyYXk8dW5rbm93bj4gPSBbXTtcclxuICAgICAgICBsZXQgaTogbnVtYmVyID0gMDtcclxuICAgICAgICB3aGlsZSAoaSA8IHJlc3VsdHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGxldCB3cmFwcGVyOiBSZXN1bHQ8dW5rbm93biwgdW5rbm93bj4gPSByZXN1bHRzLmF0KGkpITtcclxuICAgICAgICAgICAgaWYgKHdyYXBwZXIub2soKSkgcmV0dXJuIHdyYXBwZXIgYXMgT2s8T2tWYWxPZkFsbDxUMT5bbnVtYmVyXT47XHJcbiAgICAgICAgICAgIGVsc2Ugb3V0LnB1c2god3JhcHBlci5pbnNwZWN0KCkpO1xyXG4gICAgICAgICAgICBpICsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gRXJyKChvdXQgYXMgRXJyVmFsT2ZBbGw8VDE+KSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHdyYXA8VDEsIFQyLCBUMyBleHRlbmRzIEFycmF5PFQyPj4odGFzazogQ2xvc3VyZTxUMywgVDE+LCAuLi5wYXlsb2FkOiBUMyk6IFJlc3VsdDxUMSwgVW5zYWZlPiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIE9rKHRhc2soLi4ucGF5bG9hZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gRXJyKFVuc2FmZShlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGZ1bmN0aW9uIHdyYXBBc3luYzxUMSwgVDIsIFQzIGV4dGVuZHMgQXJyYXk8VDI+Pih0YXNrOiBBc3luY0Nsb3N1cmU8VDMsIFQxPiwgLi4ucGF5bG9hZDogVDMpOiBQcm9taXNlPFJlc3VsdDxUMSwgVW5zYWZlPj4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBPaygoYXdhaXQgdGFzayguLi5wYXlsb2FkKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gRXJyKFVuc2FmZShlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpOyIsICJcInJhaXNlIDFcIjtcclxuXHJcbmltcG9ydCB0eXBlIHsgT3B0aW9uSGFuZGxlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IFNvbWVWYWxPZkFsbCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBTb21lIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IE5vbmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgaXNCcmFuZGVkIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogQSB0eXBlIHRoYXQgcmVwcmVzZW50cyBhbiBvcHRpb25hbCB2YWx1ZSwgZW5jYXBzdWxhdGluZyBlaXRoZXIgYSB2YWx1ZSBgU29tZWAgXHJcbiAqIG9yIHRoZSBhYnNlbmNlIG9mIGEgdmFsdWUgYE5vbmVgLlxyXG4gKi9cclxuZXhwb3J0IHR5cGUgT3B0aW9uPFQxPiA9IFNvbWU8VDE+IHwgTm9uZTtcclxuXHJcbmV4cG9ydCBjb25zdCBPcHRpb246IE9wdGlvbkhhbmRsZXIgPSAoKCkgPT4ge1xyXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqLyB7XHJcbiAgICAgICAgcmV0dXJuIHsgZmxhZywgYWxsLCBhbnkgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmbGFnPFQxPih2YWx1ZTogVDEgfCBudWxsIHwgdW5kZWZpbmVkKTogT3B0aW9uPFQxPiB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gTm9uZTtcclxuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIE5vbmU7XHJcbiAgICAgICAgcmV0dXJuIFNvbWUoKHZhbHVlIGFzIFQxKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWxsPFQxIGV4dGVuZHMgQXJyYXk8T3B0aW9uPHVua25vd24+Pj4oLi4ub3B0aW9uczogVDEpOiBPcHRpb248U29tZVZhbE9mQWxsPFQxPj4ge1xyXG4gICAgICAgIGxldCBvdXQ6IEFycmF5PHVua25vd24+ID0gW107XHJcbiAgICAgICAgbGV0IGk6IG51bWJlciA9IDA7XHJcbiAgICAgICAgd2hpbGUgKGkgPCBvcHRpb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBsZXQgb3B0aW9uOiBPcHRpb248dW5rbm93bj4gPSBvcHRpb25zLmF0KGkpITtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbi5ub25lKCkpIHJldHVybiBvcHRpb24gYXMgTm9uZTtcclxuICAgICAgICAgICAgb3V0LnB1c2gob3B0aW9uLnVubG9jaygpKTtcclxuICAgICAgICAgICAgaSArKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFNvbWUob3V0IGFzIFNvbWVWYWxPZkFsbDxUMT4pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFueTxUMSBleHRlbmRzIEFycmF5PE9wdGlvbjx1bmtub3duPj4+KC4uLm9wdGlvbnM6IFQxKTogT3B0aW9uPFNvbWVWYWxPZkFsbDxUMT5bbnVtYmVyXT4ge1xyXG4gICAgICAgIGxldCBpOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHdoaWxlIChpIDwgb3B0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbGV0IG9wdGlvbjogT3B0aW9uPHVua25vd24+ID0gb3B0aW9ucy5hdChpKSE7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb24uc29tZSgpKSByZXR1cm4gb3B0aW9uIGFzIFNvbWU8U29tZVZhbE9mQWxsPFQxPltudW1iZXJdPjtcclxuICAgICAgICAgICAgaSArKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE5vbmU7XHJcbiAgICB9XHJcbn0pKCk7IiwgImltcG9ydCB0eXBlIHsgV3JhcHBlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IFBhcnNhYmxlIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgVHlwZUd1YXJkIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgT3B0aW9uIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IFNvbWUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgTm9uZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgVW5zYWZlID1cclxuICAgICYgV3JhcHBlcjx1bmtub3duPlxyXG4gICAgJiBQYXJzYWJsZTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBVbnNhZmUoX3ZhbHVlOiB1bmtub3duKTogVW5zYWZlIHtcclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVud3JhcCxcclxuICAgICAgICAgICAgcGFyc2UsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1bndyYXAoKTogdW5rbm93biB7XHJcbiAgICAgICAgcmV0dXJuIF92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZTxUMT4oZ3VhcmQ6IFR5cGVHdWFyZDxUMT4pOiBPcHRpb248VDE+IHtcclxuICAgICAgICBpZiAoIWd1YXJkKHVud3JhcCgpKSkgcmV0dXJuIE5vbmU7XHJcbiAgICAgICAgcmV0dXJuIFNvbWUoKHVud3JhcCgpIGFzIFQxKSk7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgY29uc3QgYWxsUiA9IFJlc3VsdC5hbGw7XHJcbmV4cG9ydCBjb25zdCBhbnlSID0gUmVzdWx0LmFueTtcclxuZXhwb3J0IGNvbnN0IHdyYXAgPSBSZXN1bHQud3JhcDtcclxuZXhwb3J0IGNvbnN0IHdyYXBBc3luYyA9IFJlc3VsdC53cmFwQXN5bmM7IiwgImltcG9ydCB0eXBlIHsgRnVuY3Rpb24gfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBVbmxvY2tlZFdyYXBwZXIgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBPcHRpb24gfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBSZXN1bHQgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyb3IgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IFNvbWUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgcGFuaWMgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB0eXBlIE9rPFQxPiA9IFxyXG4gICAgJiBVbmxvY2tlZFdyYXBwZXI8VDE+XHJcbiAgICAmIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBgb2tgIGNoZWNrcyBpZiB0aGUgY3VycmVudCBpbnN0YW5jZSBpcyBgT2tgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPjtcclxuICAgICAqICBpZiAocmVzdWx0Lm9rKCkpIHtcclxuICAgICAqICAgICAgbGV0IHZhbHVlOiAyMDBuID0gcmVzdWx0LnVubG9jaygpO1xyXG4gICAgICogICAgICAvLy8gLi4uXHJcbiAgICAgKiAgfVxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIG9rKCk6IHRoaXMgaXMgT2s8VDE+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIGBlcnJgIGNoZWNrcyBpZiB0aGUgY3VycmVudCBpbnN0YW5jZSBpcyBgRXJyYC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj47XHJcbiAgICAgKiAgaWYgKHJlc3VsdC5lcnIoKSkge1xyXG4gICAgICogICAgICBsZXQgZTogNDA0biA9IHJlc3VsdC5pbnNwZWN0KCk7XHJcbiAgICAgKiAgICAgIC8vLyAuLi5cclxuICAgICAqICB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgZXJyKCk6IHRoaXMgaXMgRXJyPHVua25vd24+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIGBleHBlY3RgIHRlcm1pbmF0ZXMgd2l0aCBgcGFuaWNgIGlmIHRoZSBgUmVzdWx0YCBpcyBgRXJyYC5cclxuICAgICAqIFxyXG4gICAgICogKioqV2FybmluZyoqKlxyXG4gICAgICogUmVzZXJ2ZWQgZm9yIGRlYnVnZ2luZyBvciB1bnJlY292ZXJhYmxlIGVycm9ycy5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj47XHJcbiAgICAgKiAgbGV0IHN0YXR1czogMjAwbiA9IHJlc3VsdC5leHBlY3QoXCJUaGlzIGlzIHVuZXhwZWN0ZWQgYW5kIHVucmVjb3ZlcmFibGUuXCIpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGV4cGVjdChfXzogdW5rbm93bik6IFQxO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIEVuc3VyZXMgdGhhdCB0aGUgYFJlc3VsdGAgaXMgYW4gYEVycmAgYW5kIHJldHJpZXZlcyB0aGUgZXJyb3IgdmFsdWUgaW5zaWRlLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipXYXJuaW5nKioqXHJcbiAgICAgKiBSZXNlcnZlZCBmb3IgZGVidWdnaW5nIG9yIHVucmVjb3ZlcmFibGUgZXJyb3JzLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPjtcclxuICAgICAqICBsZXQgc3RhdHVzOiA0MDRuID0gcmVzdWx0LmV4cGVjdEVycihcIlRoaXMgaXMgdW5leHBlY3RlZCBhbmQgdW5yZWNvdmVyYWJsZS5cIik7XHJcbiAgICAgKiBgYGBcclxuICAgICovXHJcbiAgICBleHBlY3RFcnIobWVzc2FnZTogc3RyaW5nKTogbmV2ZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogUmV0cmlldmVzIHRoZSB2YWx1ZSBvZiBhbiBgT2tgLCBvciBmYWxscyBiYWNrIHRvIHRoZSBwcm92aWRlZCB2YWx1ZSBpZiBpdFx1MjAxOXMgYW4gYEVycmAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gRXJyKDQwNG4pO1xyXG4gICAgICogIGxldCBzdGF0dXM6IDIwMG4gPSByZXN1bHQudW5sb2NrT3IoMjAwbik7XHJcbiAgICAgKiAgY29uc29sZS5sb2coc3RhdHVzKTsgLy8vIDIwMG4uXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgdW5sb2NrT3IoX186IHVua25vd24pOiBUMTtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBSZWNvdmVycyBmcm9tIHRoZSBjdXJyZW50IGVycm9yIGJ5IGFwcGx5aW5nIGEgcmVjb3ZlcnkgZnVuY3Rpb24sIHRyYW5zZm9ybWluZyB0aGUgYEVycmAgaW50byBhbiBgT2tgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPiA9IEVycig0MDRuKTtcclxuICAgICAqICBsZXQgc3RhdHVzOiAyMDBuID0gcmVzdWx0XHJcbiAgICAgKiAgICAgIC5yZWNvdmVyKCgpID0+IHtcclxuICAgICAqICAgICAgICAgIHJldHVybiAyMDBuO1xyXG4gICAgICogICAgICB9KVxyXG4gICAgICogICAgICAudW5sb2NrKCk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgcmVjb3ZlcihfXzogdW5rbm93bik6IE9rPFQxPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBBcHBsaWVzIGEgdHJhbnNmb3JtYXRpb24gdG8gdGhlIGBPa2AgdmFsdWUgYW5kIHJldHVybnMgYW4gYEVycmAgaW5zdGFuY2Ugd2l0aCB0aGUgdHJhbnNmb3JtZWQgdmFsdWUuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gT2soMjAwbik7XHJcbiAgICAgKiAgbGV0IGU6IDQwNG4gPSByZXN1bHRcclxuICAgICAqICAgICAgLmRlZ3JhZGUoKCkgPT4ge1xyXG4gICAgICogICAgICAgICAgcmV0dXJuIDQwNG47XHJcbiAgICAgKiAgICAgIH0pXHJcbiAgICAgKiAgICAgIC5pbnNwZWN0KCk7XHJcbiAgICAgKiAgY29uc29sZS5sb2coZSk7IC8vLyA0MDRuLlxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGRlZ3JhZGU8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBUMj4pOiBFcnI8VDI+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIENoYWlucyBhbiB0YXNrIHVudGlsIHRoZSBmaXJzdCBgRXJyYCBpcyBlbmNvdW50ZXJlZC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj4gPSBFcnIoNDA0bik7XHJcbiAgICAgKiAgcmVzdWx0XHJcbiAgICAgKiAgICAgIC5hbmQodmFsdWUgPT4ge1xyXG4gICAgICogICAgICAgICAgLy8vIFRhc2sgaXMgc2tpcHBlZCBiZWNhdXNlIGBSZXN1bHRgIGlzIGFuIGBFcnJgLlxyXG4gICAgICogICAgICAgICAgLy8vIC4uLlxyXG4gICAgICogICAgICAgICAgcmV0dXJuIE9rKHZhbHVlICsgMW4pO1xyXG4gICAgICogICAgICB9KVxyXG4gICAgICogICAgICAuYW5kKHZhbHVlID0+IHtcclxuICAgICAqICAgICAgICAgIC8vLyBUYXNrIGlzIHNraXBwZWQgYmVjYXVzZSBgUmVzdWx0YCBpcyBhbiBgRXJyYC5cclxuICAgICAqICAgICAgICAgIC8vLyAuLi5cclxuICAgICAqICAgICAgfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgYW5kPFQyPih0YXNrOiBGdW5jdGlvbjxUMSwgT2s8VDI+Pik6IE9rPFQyPjtcclxuICAgIGFuZDxUMj4odGFzazogRnVuY3Rpb248VDEsIEVycjxUMj4+KTogUmVzdWx0PFQxLCBUMj47XHJcbiAgICBhbmQ8VDIsIFQzPih0YXNrOiBGdW5jdGlvbjxUMSwgUmVzdWx0PFQyLCBUMz4+KTogUmVzdWx0PFQyLCBUMz47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogVHJhbnNmb3JtcyB0aGUgYE9rYCB2YWx1ZSBpZiBwcmVzZW50LCBidXQgaWYgdGhpcyBpcyBhbHJlYWR5IGFuIGBFcnJgLCBpdCByZW1haW5zIHVuY2hhbmdlZC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0MDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gT2soMjAwbik7XHJcbiAgICAgKiAgbGV0IHJlc3VsdDE6IFJlc3VsdDwyMDFuLCA0MDRuPiA9IHJlc3VsdC5tYXAodmFsdWUgPT4ge1xyXG4gICAgICogICAgICAvLy8gVGFzayBpcyBydW4gYmVjYXVzZSBgUmVzdWx0YCBpcyBgT2tgLlxyXG4gICAgICogICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgIHJldHVybiB2YWx1ZSArIDFuO1xyXG4gICAgICogIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIG1hcDxUMj4odGFzazogRnVuY3Rpb248VDEsIFQyPik6IE9rPFQyPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBUcmFuc2Zvcm1zIHRoZSBlcnJvciBjb250YWluZWQgaW4gdGhlIGBFcnJgIHVzaW5nIHRoZSBwcm92aWRlZCBgdGFza2AgZnVuY3Rpb24uXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gRXJyKDQwNG4pO1xyXG4gICAgICogIHJlc3VsdFxyXG4gICAgICogICAgICAubWFwRXJyKGUgPT4ge1xyXG4gICAgICogICAgICAgICAgcmV0dXJuIGUgKyAxbjtcclxuICAgICAqICAgICAgfSlcclxuICAgICAqICAgICAgLmluc3BlY3QoKTsgLy8vIDQwNW4uXHJcbiAgICAgKiBgYGBcclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj4gPSBPaygyMDBuKTtcclxuICAgICAqICByZXN1bHRcclxuICAgICAqICAgICAgLm1hcEVycihlID0+IHtcclxuICAgICAqICAgICAgICAgIC8vLyBUYXNrIGlzIHJ1biBiZWNhdXNlIGBSZXN1bHRgIGlzIGBPa2AuXHJcbiAgICAgKiAgICAgICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIG1hcEVycihfXzogdW5rbm93bik6IE9rPFQxPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBDb252ZXJ0cyBhIGBSZXN1bHQ8VDEsIFQyPmAgdG8gYW4gYE9wdGlvbjxUMT5gLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPjtcclxuICAgICAqICBsZXQgb3B0aW9uOiBPcHRpb248MjAwbj4gPSByZXN1bHQudG9PcHRpb24oKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICB0b09wdGlvbigpOiBPcHRpb248VDE+O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIFRoZSBzdWNjZXNzZnVsIHZhbHVlIHdpdGhpbiBhIGBSZXN1bHRgLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIE9rPFQxPihfdmFsdWU6IFQxKTogT2s8VDE+IHtcclxuICAgIGxldCBfdGhpczogT2s8VDE+O1xyXG5cclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIHJldHVybiBfdGhpcyA9IHtcclxuICAgICAgICAgICAgb2ssXHJcbiAgICAgICAgICAgIGVycixcclxuICAgICAgICAgICAgZXhwZWN0LFxyXG4gICAgICAgICAgICBleHBlY3RFcnIsXHJcbiAgICAgICAgICAgIHVubG9jayxcclxuICAgICAgICAgICAgdW5sb2NrT3IsXHJcbiAgICAgICAgICAgIGFuZCxcclxuICAgICAgICAgICAgbWFwLFxyXG4gICAgICAgICAgICBtYXBFcnIsXHJcbiAgICAgICAgICAgIHJlY292ZXIsXHJcbiAgICAgICAgICAgIGRlZ3JhZGUsXHJcbiAgICAgICAgICAgIHRvT3B0aW9uXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvaygpOiB0aGlzIGlzIE9rPFQxPiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXJyKCk6IHRoaXMgaXMgRXJyPHVua25vd24+IHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXhwZWN0KF9fOiB1bmtub3duKTogVDEge1xyXG4gICAgICAgIHJldHVybiB1bmxvY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBleHBlY3RFcnIobWVzc2FnZTogc3RyaW5nKTogbmV2ZXIge1xyXG4gICAgICAgIHBhbmljKEVycm9yKFwiUEFOSUNcIiwgbWVzc2FnZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVubG9jaygpOiBUMSB7XHJcbiAgICAgICAgcmV0dXJuIF92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1bmxvY2tPcihfXzogdW5rbm93bik6IFQxIHtcclxuICAgICAgICByZXR1cm4gdW5sb2NrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYW5kPFQyPih0YXNrOiBGdW5jdGlvbjxUMSwgT2s8VDI+Pik6IE9rPFQyPjtcclxuICAgIGZ1bmN0aW9uIGFuZDxUMj4odGFzazogRnVuY3Rpb248VDEsIEVycjxUMj4+KTogUmVzdWx0PFQxLCBUMj47XHJcbiAgICBmdW5jdGlvbiBhbmQ8VDIsIFQzPih0YXNrOiBGdW5jdGlvbjxUMSwgUmVzdWx0PFQyLCBUMz4+KTogUmVzdWx0PFQyLCBUMz47XHJcbiAgICBmdW5jdGlvbiBhbmQ8VDIsIFQzPih0YXNrOiBGdW5jdGlvbjxUMSwgUmVzdWx0PFQyLCBUMz4+KTogUmVzdWx0PFQyLCBUMz4ge1xyXG4gICAgICAgIHJldHVybiB0YXNrKHVubG9jaygpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYXA8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBUMj4pOiBPazxUMj4ge1xyXG4gICAgICAgIHJldHVybiBPayh0YXNrKHVubG9jaygpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbWFwRXJyKF9fOiB1bmtub3duKTogT2s8VDE+IHtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVjb3ZlcihfXzogdW5rbm93bik6IE9rPFQxPiB7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRlZ3JhZGU8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBUMj4pOiBFcnI8VDI+IHtcclxuICAgICAgICByZXR1cm4gRXJyKHRhc2sodW5sb2NrKCkpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b09wdGlvbigpOiBPcHRpb248VDE+IHtcclxuICAgICAgICByZXR1cm4gU29tZSh1bmxvY2soKSk7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHR5cGUgeyBGdW5jdGlvbiB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IE9wdGlvbiB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBFcnJvckhhbmRsZXIgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyb3IgYXMgRXJyb3IwIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IE9rIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IE5vbmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgU29tZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBwYW5pYyB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRXJyPFQxPiA9IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBgb2tgIGNoZWNrcyBpZiB0aGUgY3VycmVudCBpbnN0YW5jZSBpcyBgT2tgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPjtcclxuICAgICAqICBpZiAocmVzdWx0Lm9rKCkpIHtcclxuICAgICAqICAgICAgbGV0IHZhbHVlOiAyMDBuID0gcmVzdWx0LnVubG9jaygpO1xyXG4gICAgICogICAgICAvLy8gLi4uXHJcbiAgICAgKiAgfVxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIG9rKCk6IHRoaXMgaXMgT2s8dW5rbm93bj47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogYGVycmAgY2hlY2tzIGlmIHRoZSBjdXJyZW50IGluc3RhbmNlIGlzIGBFcnJgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPjtcclxuICAgICAqICBpZiAocmVzdWx0LmVycigpKSB7XHJcbiAgICAgKiAgICAgIGxldCBlOiA0MDRuID0gcmVzdWx0Lmluc3BlY3QoKTtcclxuICAgICAqICAgICAgLy8vIC4uLlxyXG4gICAgICogIH1cclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBlcnIoKTogdGhpcyBpcyBFcnI8VDE+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFJldHJpZXZlcyB0aGUgZXJyb3IgdmFsdWUgZW5jYXBzdWxhdGVkIGJ5IHRoZSBgRXJyYCBpbnN0YW5jZS5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj47XHJcbiAgICAgKiAgaWYgKHJlc3VsdC5lcnIoKSkge1xyXG4gICAgICogICAgICBsZXQgZTogNDA0biA9IHJlc3VsdC5pbnNwZWN0KCk7XHJcbiAgICAgKiAgICAgIC8vLyAuLi5cclxuICAgICAqICB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgaW5zcGVjdCgpOiBUMTtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIHN0YWNrIHRyYWNlIG9mIHRoZSBlcnJvciwgZ2VuZXJhdGVkIGF0IHRoZSB0aW1lIHRoZSBgRXJyYCBpbnN0YW5jZSB3YXMgY3JlYXRlZC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj47XHJcbiAgICAgKiAgaWYgKHJlc3VsdC5lcnIoKSkge1xyXG4gICAgICogICAgICByZXN1bHRcclxuICAgICAqICAgICAgICAgIC5zdGFjaygpXHJcbiAgICAgKiAgICAgICAgICAubGluZXMoKVxyXG4gICAgICogICAgICAgICAgLmZvckVhY2gobGluZSA9PiB7XHJcbiAgICAgKiAgICAgICAgICAgICAgbGV0IGxpbmVSZXByZXNlbnRhdGlvbjogc3RyaW5nID0gbGluZS50b1N0cmluZygpO1xyXG4gICAgICogICAgICAgICAgICAgIC8vLyAuLi5cclxuICAgICAqICAgICAgICAgICAgICByZXR1cm47IFxyXG4gICAgICogICAgICAgICAgfSk7XHJcbiAgICAgKiAgfVxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHN0YWNrKCk6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBgZXhwZWN0YCB0ZXJtaW5hdGVzIHdpdGggYHBhbmljYCBpZiB0aGUgYFJlc3VsdGAgaXMgYEVycmAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKldhcm5pbmcqKipcclxuICAgICAqIFJlc2VydmVkIGZvciBkZWJ1Z2dpbmcgb3IgdW5yZWNvdmVyYWJsZSBlcnJvcnMuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+O1xyXG4gICAgICogIGxldCBzdGF0dXM6IDIwMG4gPSByZXN1bHQuZXhwZWN0KFwiVGhpcyBpcyB1bmV4cGVjdGVkIGFuZCB1bnJlY292ZXJhYmxlLlwiKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBleHBlY3QobWVzc2FnZTogc3RyaW5nKTogbmV2ZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogRW5zdXJlcyB0aGF0IHRoZSBgUmVzdWx0YCBpcyBhbiBgRXJyYCBhbmQgcmV0cmlldmVzIHRoZSBlcnJvciB2YWx1ZSBpbnNpZGUuXHJcbiAgICAgKiBcclxuICAgICAqICoqKldhcm5pbmcqKipcclxuICAgICAqIFJlc2VydmVkIGZvciBkZWJ1Z2dpbmcgb3IgdW5yZWNvdmVyYWJsZSBlcnJvcnMuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+O1xyXG4gICAgICogIGxldCBzdGF0dXM6IDQwNG4gPSByZXN1bHQuZXhwZWN0RXJyKFwiVGhpcyBpcyB1bmV4cGVjdGVkIGFuZCB1bnJlY292ZXJhYmxlLlwiKTtcclxuICAgICAqIGBgYFxyXG4gICAgKi9cclxuICAgIGV4cGVjdEVycihfXzogdW5rbm93bik6IFQxO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFJldHJpZXZlcyB0aGUgdmFsdWUgb2YgYW4gYE9rYCwgb3IgZmFsbHMgYmFjayB0byB0aGUgcHJvdmlkZWQgdmFsdWUgaWYgaXRcdTIwMTlzIGFuIGBFcnJgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPiA9IEVycig0MDRuKTtcclxuICAgICAqICBsZXQgc3RhdHVzOiAyMDBuID0gcmVzdWx0LnVubG9ja09yKDIwMG4pO1xyXG4gICAgICogIGNvbnNvbGUubG9nKHN0YXR1cyk7IC8vLyAyMDBuLlxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHVubG9ja09yPFQyPihmYWxsYmFjazogVDIpOiBUMjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBDaGFpbnMgYW4gdGFzayB1bnRpbCB0aGUgZmlyc3QgYEVycmAgaXMgZW5jb3VudGVyZWQuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gRXJyKDQwNG4pO1xyXG4gICAgICogIHJlc3VsdFxyXG4gICAgICogICAgICAuYW5kKHZhbHVlID0+IHtcclxuICAgICAqICAgICAgICAgIC8vLyBUYXNrIGlzIHNraXBwZWQgYmVjYXVzZSBgUmVzdWx0YCBpcyBhbiBgRXJyYC5cclxuICAgICAqICAgICAgICAgIC8vLyAuLi5cclxuICAgICAqICAgICAgICAgIHJldHVybiBPayh2YWx1ZSArIDFuKTtcclxuICAgICAqICAgICAgfSlcclxuICAgICAqICAgICAgLmFuZCh2YWx1ZSA9PiB7XHJcbiAgICAgKiAgICAgICAgICAvLy8gVGFzayBpcyBza2lwcGVkIGJlY2F1c2UgYFJlc3VsdGAgaXMgYW4gYEVycmAuXHJcbiAgICAgKiAgICAgICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGFuZChfXzogdW5rbm93bik6IEVycjxUMT47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogVHJhbnNmb3JtcyB0aGUgYE9rYCB2YWx1ZSBpZiBwcmVzZW50LCBidXQgaWYgdGhpcyBpcyBhbHJlYWR5IGFuIGBFcnJgLCBpdCByZW1haW5zIHVuY2hhbmdlZC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0MDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gT2soMjAwbik7XHJcbiAgICAgKiAgbGV0IHJlc3VsdDE6IFJlc3VsdDwyMDFuLCA0MDRuPiA9IHJlc3VsdC5tYXAodmFsdWUgPT4ge1xyXG4gICAgICogICAgICAvLy8gVGFzayBpcyBydW4gYmVjYXVzZSBgUmVzdWx0YCBpcyBgT2tgLlxyXG4gICAgICogICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgIHJldHVybiB2YWx1ZSArIDFuO1xyXG4gICAgICogIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIG1hcChfXzogdW5rbm93bik6IEVycjxUMT47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogVHJhbnNmb3JtcyB0aGUgZXJyb3IgY29udGFpbmVkIGluIHRoZSBgRXJyYCB1c2luZyB0aGUgcHJvdmlkZWQgYHRhc2tgIGZ1bmN0aW9uLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPiA9IEVycig0MDRuKTtcclxuICAgICAqICByZXN1bHRcclxuICAgICAqICAgICAgLm1hcEVycihlID0+IHtcclxuICAgICAqICAgICAgICAgIHJldHVybiBlICsgMW47XHJcbiAgICAgKiAgICAgIH0pXHJcbiAgICAgKiAgICAgIC5pbnNwZWN0KCk7IC8vLyA0MDVuLlxyXG4gICAgICogYGBgXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gT2soMjAwbik7XHJcbiAgICAgKiAgcmVzdWx0XHJcbiAgICAgKiAgICAgIC5tYXBFcnIoZSA9PiB7XHJcbiAgICAgKiAgICAgICAgICAvLy8gVGFzayBpcyBydW4gYmVjYXVzZSBgUmVzdWx0YCBpcyBgT2tgLlxyXG4gICAgICogICAgICAgICAgLy8vIC4uLlxyXG4gICAgICogICAgICB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBtYXBFcnI8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBUMj4pOiBFcnI8VDI+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFJlY292ZXJzIGZyb20gdGhlIGN1cnJlbnQgZXJyb3IgYnkgYXBwbHlpbmcgYSByZWNvdmVyeSBmdW5jdGlvbiwgdHJhbnNmb3JtaW5nIHRoZSBgRXJyYCBpbnRvIGFuIGBPa2AuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gRXJyKDQwNG4pO1xyXG4gICAgICogIGxldCBzdGF0dXM6IDIwMG4gPSByZXN1bHRcclxuICAgICAqICAgICAgLnJlY292ZXIoKCkgPT4ge1xyXG4gICAgICogICAgICAgICAgcmV0dXJuIDIwMG47XHJcbiAgICAgKiAgICAgIH0pXHJcbiAgICAgKiAgICAgIC51bmxvY2soKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICByZWNvdmVyPFQyPih0YXNrOiBGdW5jdGlvbjxUMSwgVDI+KTogT2s8VDI+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIEFwcGxpZXMgYSB0cmFuc2Zvcm1hdGlvbiB0byB0aGUgYE9rYCB2YWx1ZSBhbmQgcmV0dXJucyBhbiBgRXJyYCBpbnN0YW5jZSB3aXRoIHRoZSB0cmFuc2Zvcm1lZCB2YWx1ZS5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj4gPSBPaygyMDBuKTtcclxuICAgICAqICBsZXQgZTogNDA0biA9IHJlc3VsdFxyXG4gICAgICogICAgICAuZGVncmFkZSgoKSA9PiB7XHJcbiAgICAgKiAgICAgICAgICByZXR1cm4gNDA0bjtcclxuICAgICAqICAgICAgfSlcclxuICAgICAqICAgICAgLmluc3BlY3QoKTtcclxuICAgICAqICBjb25zb2xlLmxvZyhlKTsgLy8vIDQwNG4uXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgZGVncmFkZShfXzogdW5rbm93bik6IEVycjxUMT47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogQ29udmVydHMgYSBgUmVzdWx0PFQxLCBUMj5gIHRvIGFuIGBPcHRpb248VDE+YC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj47XHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+ID0gcmVzdWx0LnRvT3B0aW9uKCk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgdG9PcHRpb24oKTogT3B0aW9uPG5ldmVyPjtcclxufTtcclxuXHJcbi8qKlxyXG4gKiAqKipCcmllZioqKlxyXG4gKiBUaGUgZmFpbGVkIHN0YXRlIG9mIGEgYFJlc3VsdGAuXHJcbiAqIFxyXG4gKiAqKipXYXJuaW5nKioqXHJcbiAqIEFueSBvcGVyYXRpb24gYXR0ZW1wdGluZyB0byBhY2Nlc3MgYSBgUmVzdWx0YCBtdXN0IHNhZmVseSBoYW5kbGUgdGhlIGBFcnJgIHN0YXRlIG9yIHRlcm1pbmF0ZSB3aXRoIGFuIGVycm9yLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIEVycjxUMT4oX3ZhbHVlOiBUMSk6IEVycjxUMT47XHJcbmV4cG9ydCBmdW5jdGlvbiBFcnI8VDE+KF92YWx1ZTogVDEsIF9oYW5kbGVyOiBFcnJvckhhbmRsZXIpOiBFcnI8VDE+O1xyXG5leHBvcnQgZnVuY3Rpb24gRXJyPFQxPihcclxuICAgIF9wMDogVDEsXHJcbiAgICBfcDE6IEVycm9ySGFuZGxlciA9IEVycm9ySGFuZGxlclxyXG4pOiBFcnI8VDE+IHtcclxuICAgIGxldCBfdGhpczogRXJyPFQxPjtcclxuICAgIGxldCBfc3RhY2s6IHN0cmluZztcclxuICAgIGxldCBfdmFsdWU6IFQxO1xyXG4gICAgbGV0IF9oYW5kbGVyOiBFcnJvckhhbmRsZXI7XHJcbiAgICBcclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIF92YWx1ZSA9IF9wMDtcclxuICAgICAgICBfaGFuZGxlciA9IF9wMTtcclxuICAgICAgICBfc3RhY2sgPSBfaGFuZGxlci5wYXJzZVN0YWNrVHJhY2UoRXJyKTtcclxuICAgICAgICByZXR1cm4gX3RoaXMgPSB7XHJcbiAgICAgICAgICAgIG9rLFxyXG4gICAgICAgICAgICBlcnIsXHJcbiAgICAgICAgICAgIGluc3BlY3QsXHJcbiAgICAgICAgICAgIHN0YWNrLFxyXG4gICAgICAgICAgICBleHBlY3QsXHJcbiAgICAgICAgICAgIGV4cGVjdEVycixcclxuICAgICAgICAgICAgdW5sb2NrT3IsXHJcbiAgICAgICAgICAgIGFuZCxcclxuICAgICAgICAgICAgbWFwLFxyXG4gICAgICAgICAgICBtYXBFcnIsXHJcbiAgICAgICAgICAgIHJlY292ZXIsXHJcbiAgICAgICAgICAgIGRlZ3JhZGUsXHJcbiAgICAgICAgICAgIHRvT3B0aW9uXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvaygpOiB0aGlzIGlzIE9rPHVua25vd24+IHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXJyKCk6IHRoaXMgaXMgRXJyPFQxPiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5zcGVjdCgpOiBUMSB7XHJcbiAgICAgICAgcmV0dXJuIF92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzdGFjaygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBfc3RhY2s7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXhwZWN0KG1lc3NhZ2U6IHN0cmluZyk6IG5ldmVyIHtcclxuICAgICAgICBsZXQgZTogVDEgPSBpbnNwZWN0KCk7XHJcbiAgICAgICAgbGV0IHRyYW5zaWVudEVPOiBPcHRpb248RXJyb3IwPGFueSwgdW5rbm93bj4+ID0gTm9uZTtcclxuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgIGxldCBjdXN0b21FOiBFcnJvcjA8YW55LCB1bmtub3duPiA9IEVycm9yMCh7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiBlLm5hbWUudG9VcHBlckNhc2UoKSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRyYW5zaWVudEVPID0gU29tZShjdXN0b21FKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRyYW5zaWVudEVPLm5vbmUoKSkgX2hhbmRsZXIubWF0Y2hFcnJvcihlLCBlID0+IHtcclxuICAgICAgICAgICAgZS5tZXNzYWdlID0gZS5tZXNzYWdlLm1hcChtZXNzYWdlMCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTAgKyBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgXCJcXG5cIiArIFxyXG4gICAgICAgICAgICAgICAgXCJcXG4gICAgIFwiICsgXCJDb250ZXh0XCIgKyBcclxuICAgICAgICAgICAgICAgIFwiXFxuICAgICBcIiArIG1lc3NhZ2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0cmFuc2llbnRFTyA9IFNvbWUoZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgdHJhbnNpZW50RTogRXJyb3IwPGFueSwgdW5rbm93bj4gPSB0cmFuc2llbnRFT1xyXG4gICAgICAgICAgICAudG9SZXN1bHQodW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAucmVjb3ZlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gRXJyb3IwKHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiBcIlBBTklDXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC51bmxvY2soKTtcclxuICAgICAgICBwYW5pYyh0cmFuc2llbnRFKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBleHBlY3RFcnIoX186IHVua25vd24pOiBUMSB7XHJcbiAgICAgICAgcmV0dXJuIGluc3BlY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1bmxvY2tPcjxUMj4oZmFsbGJhY2s6IFQyKTogVDIge1xyXG4gICAgICAgIHJldHVybiBmYWxsYmFjaztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhbmQoX186IHVua25vd24pOiBFcnI8VDE+IHtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbWFwKF9fOiB1bmtub3duKTogRXJyPFQxPiB7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1hcEVycjxUMj4odGFzazogRnVuY3Rpb248VDEsIFQyPik6IEVycjxUMj4ge1xyXG4gICAgICAgIHJldHVybiBFcnIodGFzayhpbnNwZWN0KCkpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZWNvdmVyPFQyPih0YXNrOiBGdW5jdGlvbjxUMSwgVDI+KTogT2s8VDI+IHtcclxuICAgICAgICByZXR1cm4gT2sodGFzayhpbnNwZWN0KCkpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZWdyYWRlKF9fOiB1bmtub3duKTogRXJyPFQxPiB7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvT3B0aW9uKCk6IE9wdGlvbjxuZXZlcj4ge1xyXG4gICAgICAgIHJldHVybiBOb25lO1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB0eXBlIHsgUmVmRGVsVGFzayB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IFJlZlRhc2sgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBXcmFwcGVyIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgdHlwZSBSZWY8VDE+ID0gXHJcbiAgICAmIFdyYXBwZXI8VDE+IFxyXG4gICAgJiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogTXV0YXRlcyB0aGUgaW50ZXJuYWwgdmFsdWUgb2YgdGhlIGBSZWZgIGluc3RhbmNlLlxyXG4gICAgICovXHJcbiAgICBtdXQodmFsdWU6IFQxKTogUmVmPFQxPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBSZWdpc3RlcnMgYSBjYWxsYmFjayB0aGF0IGlzIGludm9rZWQgd2hlbmV2ZXIgdGhlIHZhbHVlIGNoYW5nZXMuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlZjogUmVmPGJpZ2ludD4gPSBSZWYoMjAwbik7XHJcbiAgICAgKiAgcmVmLm9uQ2hhbmdlKHZhbHVlID0+IHtcclxuICAgICAqICAgICAgLy8vIC4uLlxyXG4gICAgICogICAgICByZXR1cm47XHJcbiAgICAgKiAgfSk7XHJcbiAgICAgKiAgcmVmLm11dCg0MDRuKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBvbkNoYW5nZSh0YXNrOiBSZWZUYXNrPFQxPik6IFJlZkRlbFRhc2s7XHJcbn07XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogV3JhcHBlciB0aGF0IHN1cHBvcnRzIG11dGF0aW9uIGFuZCBjaGFuZ2UgdHJhY2tpbmcuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gUmVmPFQxPihfdmFsdWU6IFQxKTogUmVmPFQxPiB7XHJcbiAgICBsZXQgX3RoaXM6IFJlZjxUMT47XHJcbiAgICBsZXQgX2NvdW50OiBiaWdpbnQ7XHJcbiAgICBsZXQgX3Rhc2tNYXA6IE1hcDxiaWdpbnQsIFJlZlRhc2s8VDE+PjtcclxuXHJcbiAgICAvKiogQGNvbnN0cnVjdG9yICovIHtcclxuICAgICAgICBfY291bnQgPSAwbjtcclxuICAgICAgICBfdGFza01hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICByZXR1cm4gX3RoaXMgPSB7IHVud3JhcCwgbXV0LCBvbkNoYW5nZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVud3JhcCgpOiBUMSB7XHJcbiAgICAgICAgcmV0dXJuIF92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtdXQodmFsdWU6IFQxKTogUmVmPFQxPiB7XHJcbiAgICAgICAgbGV0IG9sZFZhbHVlOiBUMSA9IHVud3JhcCgpO1xyXG4gICAgICAgIGxldCBuZXdWYWx1ZTogVDEgPSB2YWx1ZTtcclxuICAgICAgICBfdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBfdGFza01hcFxyXG4gICAgICAgICAgICAudmFsdWVzKClcclxuICAgICAgICAgICAgLnRvQXJyYXkoKVxyXG4gICAgICAgICAgICAuZm9yRWFjaCh0YXNrID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrKG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbkNoYW5nZSh0YXNrOiBSZWZUYXNrPFQxPik6IFJlZkRlbFRhc2sge1xyXG4gICAgICAgIGxldCBrZXk6IGJpZ2ludCA9IF9nZW5LZXkoKTtcclxuICAgICAgICBfdGFza01hcC5zZXQoa2V5LCB0YXNrKTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBfdGFza01hcC5kZWxldGUoa2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfZ2VuS2V5KCk6IGJpZ2ludCB7XHJcbiAgICAgICAgcmV0dXJuIF9jb3VudCArPSAxbjtcclxuICAgIH1cclxufSIsICJpbXBvcnQgdHlwZSB7IENsb3N1cmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBPcHRpb24gfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgSU5URVJOQUxfRVJST1JfTUVTU0FHRSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBBbGxvYyB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBEZUFsbG9jIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IFNvbWUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgTm9uZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRHluPFQxPiA9IEFsbG9jPFQxPiB8IERlQWxsb2M8VDE+O1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIEEgZHluYW1pYyByZXNvdXJjZSBtYW5hZ2VtZW50IHBhdHRlcm4sIGFsbG93aW5nIGZvclxyXG4gKiBhbGxvY2F0aW9uIGFuZCBkZWFsbG9jYXRpb24gb2YgcmVzb3VyY2VzIHdpdGggcHJvcGVyIGxpZmVjeWNsZSBoYW5kbGluZy5cclxuICogXHJcbiAqICoqKldhcm5pbmcqKipcclxuICogVGhlIGBEeW5gIHdyYXBwZXIgbXVzdCBiZSBwcm9wZXJseSBtYW5hZ2VkIHRvIGF2b2lkIG1lbW9yeSBsZWFrcy4gSWYgdGhlIHdyYXBwZXIgaXRzZWxmIGlzIGdhcmJhZ2UgY29sbGVjdGVkIFxyXG4gKiB3aXRob3V0IGl0cyBjb250ZW50IGJlaW5nIGV4cGxpY2l0bHkgZGVhbGxvY2F0ZWQsIHRoZSByZXNvdXJjZXMgaXQgbWFuYWdlcyB3aWxsIG5vdCBiZSByZWN5Y2xlZCBcclxuICogYW5kIG1hZGUgYXZhaWxhYmxlIGZvciByZXVzZS4gRW5zdXJlIGFsbCBhbGxvY2F0ZWQgcmVzb3VyY2VzIGFyZSBkZWFsbG9jYXRlZCBiZWZvcmUgdGhlIGBEeW5gIGluc3RhbmNlIGdvZXMgb3V0IG9mIHNjb3BlLlxyXG4gKiBcclxuICogKioqRXhhbXBsZSoqKlxyXG4gKiBgYGB0c1xyXG4gKiAgdHlwZSBDYXIgPSB7XHJcbiAqICAgICAgZHJpdmUoKTogdm9pZDtcclxuICogIH07XHJcbiAqIFxyXG4gKiAgY29uc3QgQ2FyOiBEeW5Db25zdHJ1Y3RvcjxDYXIsIFtfbW9kZWw6IHN0cmluZ10+ID0gRHluKFxyXG4gKiAgICAgIChfbW9kZWw6IHN0cmluZykgPT4ge1xyXG4gKiAgICAgICAgICBjb25zdHJ1Y3RvciB7XHJcbiAqICAgICAgICAgICAgICByZXR1cm4geyBkcml2ZSB9O1xyXG4gKiAgICAgICAgICB9XHJcbiAqIFxyXG4gKiAgICAgICAgICBmdW5jdGlvbiBkcml2ZSgpOiB2b2lkIHtcclxuICogICAgICAgICAgICAgIHJldHVybiBcIlZyb29tLlwiO1xyXG4gKiAgICAgICAgICB9XHJcbiAqICAgICAgfSxcclxuICogICAgICBjYXIgPT4ge1xyXG4gKiAgICAgICAgICAvLy8gUmVzZXQgY2FyIG9yIGFueSB0YXNrcyBiZWZvcmUgaXQgaXMgbWFkZSBhdmFpbGFibGUgYWdhaW4uXHJcbiAqICAgICAgICAgIC8vLyAuLi5cclxuICogICAgICAgICAgcmV0dXJuIGNhcjtcclxuICogICAgICB9LCAzMm4sIFwiTW9kZWxUXCJcclxuICogICk7XHJcbiAqIFxyXG4gKiAgbGV0IGNhcjogRHluPENhcj4gPSBDYXIoXCJNb2RlbEZcIik7XHJcbiAqICBjYXIgPSBjYXIuZGVBbGxvYygpO1xyXG4gKiAgY2FyLm1hcChjYXIgPT4ge1xyXG4gKiAgICAgIC8vLyBXaWxsIG5vdCBydW4gYmVjYXVzZSBgY2FyYCBoYXMgYmVlbiBkZWFsbG9jYXRlZC5cclxuICogICAgICAvLy8gLi4uXHJcbiAqICB9KTtcclxuICogYGBgXHJcbiAqIFxyXG4gKiAqKipFeGFtcGxlKioqXHJcbiAqIGBgYHRzXHJcbiAqICAvLy8gV2FybmluZy5cclxuICogIGxldCBjYXI6IER5bjxDYXI+ID0gQ2FyKFwiTW9kZWxCXCIpO1xyXG4gKiAgY2FyLmRlQWxsb2MoKTtcclxuICogIGNhci5tYXAoY2FyID0+IHtcclxuICogICAgICAvLy8gV2lsbCBydW4gYmVjYXVzZSB0aGUgY2FyIG11c3QgYmUgdXBkYXRlZCB0byB0aGUgbmV3IHN0YXRlLlxyXG4gKiAgICAgIC8vLyBBbHdheXMgYXNzaWduIHRoZSBgZGVBbGxvY2AgcmVzdWx0IGEgbmV3IGBEeW5gIHdyYXBwZXIgb3JcclxuICogICAgICAvLy8gaXRzZWxmLlxyXG4gKiAgICAgIC8vLyAuLi5cclxuICogIH0pO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBEeW48VDEsIFQyIGV4dGVuZHMgQXJyYXk8dW5rbm93bj4+KF9jb25zdHJ1Y3RvcjogQ2xvc3VyZTxUMiwgVDE+LCBfb25EZUFsbG9jOiBDbG9zdXJlPFtUMV0sIFQxPiwgX2xvYWQ6IGJpZ2ludCwgLi4uX29uTG9hZFBheWxvYWQ6IFQyKTogQ2xvc3VyZTxUMiwgRHluPFQxPj4ge1xyXG4gICAgbGV0IF9hdmFpbGFibGU6IE1hcDxiaWdpbnQsIFQxPjtcclxuICAgIGxldCBfY291bnQ6IGJpZ2ludDtcclxuXHJcbiAgICAvKiogQGNvbnN0cnVjdG9yICovIHtcclxuICAgICAgICBfYXZhaWxhYmxlID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIF9jb3VudCA9IDBuO1xyXG4gICAgICAgIGxldCBpOiBiaWdpbnQgPSAwbjtcclxuICAgICAgICB3aGlsZSAoaSA8IF9sb2FkKSB7XHJcbiAgICAgICAgICAgIGxldCBrZXk6IGJpZ2ludCA9IF9nZW5LZXkoKTtcclxuICAgICAgICAgICAgX2F2YWlsYWJsZS5zZXQoa2V5LCBfY29uc3RydWN0b3IoLi4uX29uTG9hZFBheWxvYWQpKTtcclxuICAgICAgICAgICAgaSArKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5wYXlsb2FkOiBUMik6IER5bjxUMT4ge1xyXG4gICAgICAgICAgICBsZXQgX2tleTogT3B0aW9uPGJpZ2ludD47XHJcbiAgICAgICAgICAgIGxldCBfdGhpczogRHluPFQxPjtcclxuICAgIFxyXG4gICAgICAgICAgICAvKiogQGNvbnN0cnVjdG9yICovIHtcclxuICAgICAgICAgICAgICAgIF9rZXkgPSBOb25lO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzID0gYWxsb2MoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gYWxsb2MoKTogQWxsb2M8VDE+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfcmVjeWNsZWRLZXkoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50b1Jlc3VsdCh1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfa2V5ID0gU29tZShrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQWxsb2MoX3JlY3lsZWQoa2V5KSwgeyBkZUFsbG9jIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlY292ZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfa2V5ID0gU29tZShfZ2VuS2V5KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQWxsb2MoX2NvbnN0cnVjdG9yKC4uLnBheWxvYWQpLCB7IGRlQWxsb2MgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAudW5sb2NrKCk7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkZUFsbG9jKCk6IERlQWxsb2M8VDE+IHtcclxuICAgICAgICAgICAgICAgIF9rZXlcclxuICAgICAgICAgICAgICAgICAgICAudG9SZXN1bHQodW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8vIElmIHRoZSBrZXkgaXMgYXZhaWxhYmxlIHRoZW4gaXQgaXMgYWxsb2NhdGVkLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfa2V5ID0gTm9uZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlY3lsZShrZXksIF9vbkRlQWxsb2MoX3RoaXMuZXhwZWN0KFwiRHluOiBDb3VsZCBub3QgZGVhbGxvY2F0ZSByZXNvdXJjZSBidXQgdGhlIGtleSB3YXMgYXZhaWxhYmxlLlwiICsgSU5URVJOQUxfRVJST1JfTUVTU0FHRSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzID0gRGVBbGxvYyh7IGRlQWxsb2MgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9nZW5LZXkoKTogYmlnaW50IHtcclxuICAgICAgICByZXR1cm4gX2NvdW50ICs9IDFuO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9yZWN5Y2xlZEtleSgpOiBPcHRpb248YmlnaW50PiB7XHJcbiAgICAgICAgbGV0IGtleTogYmlnaW50IHwgdW5kZWZpbmVkID0gX2F2YWlsYWJsZVxyXG4gICAgICAgICAgICAua2V5cygpXHJcbiAgICAgICAgICAgIC50b0FycmF5KClcclxuICAgICAgICAgICAgLmF0KDApO1xyXG4gICAgICAgIGlmICgha2V5KSByZXR1cm4gTm9uZTtcclxuICAgICAgICByZXR1cm4gU29tZShrZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9yZWN5bGVkKGtleTogYmlnaW50KTogVDEge1xyXG4gICAgICAgIGxldCB2YWx1ZTogVDEgPSBfYXZhaWxhYmxlLmdldChrZXkpITtcclxuICAgICAgICBfYXZhaWxhYmxlLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfcmVjeWxlKGtleTogYmlnaW50LCB2YWx1ZTogVDEpOiB2b2lkIHtcclxuICAgICAgICBfYXZhaWxhYmxlLnNldChrZXksIHZhbHVlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHR5cGUgeyBEeW5XcmFwcGVyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IE5vbmUgfSBmcm9tIFwiQHJvb3RcIlxyXG5cclxuZXhwb3J0IHR5cGUgRGVBbGxvYzxUMT4gPSBcclxuICAgICYgRHluV3JhcHBlcjxUMT5cclxuICAgICYgTm9uZTtcclxuXHJcbi8qKlxyXG4gKiAqKipCcmllZioqKlxyXG4gKiBUaGUgZGVhbGxvY2F0ZWQgc3RhdGUgb2YgYW4gYWxsb2NhdGVkIHJlc291cmNlLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIERlQWxsb2M8VDE+KF9keW46IER5bldyYXBwZXI8VDE+KTogRGVBbGxvYzxUMT4ge1xyXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqLyB7XHJcbiAgICAgICAgcmV0dXJuIHsgLi4uIE5vbmUsIC4uLiBfZHluIH07XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHR5cGUgeyBEeW5XcmFwcGVyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgVW5sb2NrZWRXcmFwcGVyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IFNvbWUgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB0eXBlIEFsbG9jPFQxPiA9XHJcbiAgICAmIER5bldyYXBwZXI8VDE+XHJcbiAgICAmIFVubG9ja2VkV3JhcHBlcjxUMT5cclxuICAgICYgU29tZTxUMT47XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogVGhlIGFsbG9jYXRlZCBzdGF0ZSBvZiBhbiBhbGxvY2F0ZWQgcmVzb3VyY2UuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gQWxsb2M8VDE+KF92YWx1ZTogVDEsIF9keW46IER5bldyYXBwZXI8VDE+KTogQWxsb2M8VDE+IHtcclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIHJldHVybiB7IC4uLiBTb21lKF92YWx1ZSksIC4uLiBfZHluIH07XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgT3B0aW9uIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgY29uc3QgZmxhZzogdHlwZW9mIE9wdGlvbi5mbGFnID0gT3B0aW9uLmZsYWc7XHJcblxyXG5leHBvcnQgY29uc3QgYWxsTzogdHlwZW9mIE9wdGlvbi5hbGwgPSBPcHRpb24uYWxsO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFueU86IHR5cGVvZiBPcHRpb24uYW55ID0gT3B0aW9uLmFueTsiLCAiaW1wb3J0IHR5cGUgeyBGdW5jdGlvbiB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IE9wdGlvbiB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IFVubG9ja2VkV3JhcHBlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IEJyYW5kZWQgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgTm9uZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBPayB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgU29tZTxUMT4gPSBcclxuICAgICYgQnJhbmRlZDxcIlNvbWVcIj5cclxuICAgICYgVW5sb2NrZWRXcmFwcGVyPFQxPlxyXG4gICAgJiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogYHNvbWVgIGNoZWNrcyBpZiB0aGUgY3VycmVudCBpbnN0YW5jZSBpcyBgU29tZWAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+O1xyXG4gICAgICogIGlmIChvcHRpb24uc29tZSgpKSB7XHJcbiAgICAgKiAgICAgIGxldCB2YWx1ZTogMjAwbiA9IG9wdGlvbi51bmxvY2soKTtcclxuICAgICAqICAgICAgLy8vIC4uLlxyXG4gICAgICogIH1cclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBzb21lKCk6IHRoaXMgaXMgU29tZTxUMT47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogYG5vbmVgIGNoZWNrcyBpZiB0aGUgY3VycmVudCBpbnN0YW5jZSBpcyBgTm9uZWAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+O1xyXG4gICAgICogIGlmIChvcHRpb24ubm9uZSgpKSB7XHJcbiAgICAgKiAgICAgIC8vLyBgT3B0aW9uYCBjYW5ub3QgYHVubG9ja2AgYmVjYXVzZSBpdCBpcyBgTm9uZWAuXHJcbiAgICAgKiAgICAgIC8vLyAuLi5cclxuICAgICAqICB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgbm9uZSgpOiB0aGlzIGlzIE5vbmU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogYGV4cGVjdGAgdGVybWluYXRlcyB3aXRoIGBwYW5pY2AgaWYgdGhlIGBPcHRpb25gIGlzIGBOb25lYC5cclxuICAgICAqIFxyXG4gICAgICogKioqV2FybmluZyoqKlxyXG4gICAgICogUmVzZXJ2ZWQgZm9yIGRlYnVnZ2luZyBvciB1bnJlY292ZXJhYmxlIGVycm9ycy5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgb3B0aW9uOiBPcHRpb248MjAwbj47XHJcbiAgICAgKiAgbGV0IHN0YXR1czogMjAwbiA9IG9wdGlvbi5leHBlY3QoXCJUaGlzIGlzIHVuZXhwZWN0ZWQgYW5kIHVucmVjb3ZlcmFibGUuXCIpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGV4cGVjdChfXzogdW5rbm93bik6IFQxO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFJldHJpZXZlcyB0aGUgdmFsdWUgb2YgYSBgU29tZWAsIG9yIGZhbGxzIGJhY2sgdG8gdGhlIHByb3ZpZGVkIHZhbHVlIGlmIGl0XHUyMDE5cyBgTm9uZWAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+ID0gTm9uZTtcclxuICAgICAqICBsZXQgc3RhdHVzOiAyMDBuID0gb3B0aW9uLnVubG9ja09yKDIwMG4pO1xyXG4gICAgICogIGNvbnNvbGUubG9nKHN0YXR1cyk7IC8vLyAyMDBuLlxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHVubG9ja09yKF9fOiB1bmtub3duKTogVDE7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogQ2hhaW5zIGFuIHRhc2sgdW50aWwgdGhlIGZpcnN0IGBOb25lYCBpcyBlbmNvdW50ZXJlZC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgb3B0aW9uOiBPcHRpb248MjAwbj4gPSBOb25lO1xyXG4gICAgICogIG9wdGlvblxyXG4gICAgICogICAgICAuYW5kKHZhbHVlID0+IHtcclxuICAgICAqICAgICAgICAgIC8vLyBUYXNrIGlzIHNraXBwZWQgYmVjYXVzZSBgT3B0aW9uYCBpcyBgTm9uZWAuXHJcbiAgICAgKiAgICAgICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgICAgICByZXR1cm4gU29tZSh2YWx1ZSArIDFuKTtcclxuICAgICAqICAgICAgfSlcclxuICAgICAqICAgICAgLmFuZCh2YWx1ZSA9PiB7XHJcbiAgICAgKiAgICAgICAgICAvLy8gVGFzayBpcyBza2lwcGVkIGJlY2F1c2UgYE9wdGlvbmAgaXMgYE5vbmVgLlxyXG4gICAgICogICAgICAgICAgLy8vIC4uLlxyXG4gICAgICogICAgICB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBhbmQ8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBPcHRpb248VDI+Pik6IE9wdGlvbjxUMj47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogVHJhbnNmb3JtcyB0aGUgYFNvbWVgIHZhbHVlIGlmIHByZXNlbnQsIGJ1dCBpZiB0aGlzIGlzIGFscmVhZHkgYW4gYE5vbmVgLCBpdCByZW1haW5zIHVuY2hhbmdlZC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgb3B0aW9uMDogT3B0aW9uPDIwMG4+ID0gU29tZSgyMDBuKTtcclxuICAgICAqICBsZXQgb3B0aW9uMTogT3B0aW9uPDIwMW4+ID0gb3B0aW9uLm1hcCh2YWx1ZSA9PiB7XHJcbiAgICAgKiAgICAgIC8vLyBUYXNrIGlzIHJ1biBiZWNhdXNlIGBPcHRpb25gIGlzIGBTb21lYC5cclxuICAgICAqICAgICAgLy8vIC4uLlxyXG4gICAgICogICAgICByZXR1cm4gdmFsdWUgKyAxbjtcclxuICAgICAqICB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBtYXA8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBUMj4pOiBTb21lPFQyPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBDb252ZXJ0cyBhbiBgT3B0aW9uPFQxPmAgdG8gYSBgUmVzdWx0PFQxLCBUMj5gLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCBvcHRpb246IE9wdGlvbjwyMDBuPjtcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj4gPSBvcHRpb24udG9SZXN1bHQoNDA0bik7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgdG9SZXN1bHQoX186IHVua25vd24pOiBPazxUMT47XHJcbn07XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogVGhlIHZhbHVlIHdpdGhpbiBhbiBgT3B0aW9uYC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBTb21lPFQxPihfdmFsdWU6IFQxKTogU29tZTxUMT4ge1xyXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqLyB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgc29tZSxcclxuICAgICAgICAgICAgbm9uZSxcclxuICAgICAgICAgICAgZXhwZWN0LFxyXG4gICAgICAgICAgICB1bmxvY2ssXHJcbiAgICAgICAgICAgIHVubG9ja09yLFxyXG4gICAgICAgICAgICBhbmQsXHJcbiAgICAgICAgICAgIG1hcCxcclxuICAgICAgICAgICAgdG9SZXN1bHRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHR5cGUoKTogXCJTb21lXCIge1xyXG4gICAgICAgIHJldHVybiBcIlNvbWVcIjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzb21lKCk6IHRoaXMgaXMgU29tZTxUMT4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5vbmUoKTogdGhpcyBpcyBOb25lIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXhwZWN0KF9fOiB1bmtub3duKTogVDEge1xyXG4gICAgICAgIHJldHVybiBfdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdW5sb2NrKCk6IFQxIHtcclxuICAgICAgICByZXR1cm4gX3ZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVubG9ja09yKF9fOiB1bmtub3duKTogVDEge1xyXG4gICAgICAgIHJldHVybiBfdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYW5kPFQyPih0YXNrOiBGdW5jdGlvbjxUMSwgT3B0aW9uPFQyPj4pOiBPcHRpb248VDI+IHtcclxuICAgICAgICByZXR1cm4gdGFzayhfdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1hcDxUMj4odGFzazogRnVuY3Rpb248VDEsIFQyPik6IFNvbWU8VDI+IHtcclxuICAgICAgICByZXR1cm4gU29tZSh0YXNrKF92YWx1ZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvUmVzdWx0KF9fOiB1bmtub3duKTogT2s8VDE+IHtcclxuICAgICAgICByZXR1cm4gT2soX3ZhbHVlKTtcclxuICAgIH1cclxufSIsICJpbXBvcnQgdHlwZSB7IEJyYW5kZWQgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgU29tZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBFcnIgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyb3IgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgcGFuaWMgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB0eXBlIE5vbmUgPSBcclxuICAgICYgQnJhbmRlZDxcIk5vbmVcIj5cclxuICAgICYge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIGBzb21lYCBjaGVja3MgaWYgdGhlIGN1cnJlbnQgaW5zdGFuY2UgaXMgYFNvbWVgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCBvcHRpb246IE9wdGlvbjwyMDBuPjtcclxuICAgICAqICBpZiAob3B0aW9uLnNvbWUoKSkge1xyXG4gICAgICogICAgICBsZXQgdmFsdWU6IDIwMG4gPSBvcHRpb24udW5sb2NrKCk7XHJcbiAgICAgKiAgICAgIC8vLyAuLi5cclxuICAgICAqICB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgc29tZSgpOiB0aGlzIGlzIFNvbWU8dW5rbm93bj47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogYG5vbmVgIGNoZWNrcyBpZiB0aGUgY3VycmVudCBpbnN0YW5jZSBpcyBgTm9uZWAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+O1xyXG4gICAgICogIGlmIChvcHRpb24ubm9uZSgpKSB7XHJcbiAgICAgKiAgICAgIC8vLyBgT3B0aW9uYCBjYW5ub3QgYHVubG9ja2AgYmVjYXVzZSBpdCBpcyBgTm9uZWAuXHJcbiAgICAgKiAgICAgIC8vLyAuLi5cclxuICAgICAqICB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgbm9uZSgpOiB0aGlzIGlzIE5vbmU7XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIGBleHBlY3RgIHRlcm1pbmF0ZXMgd2l0aCBgcGFuaWNgIGlmIHRoZSBgT3B0aW9uYCBpcyBgTm9uZWAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKldhcm5pbmcqKipcclxuICAgICAqIFJlc2VydmVkIGZvciBkZWJ1Z2dpbmcgb3IgdW5yZWNvdmVyYWJsZSBlcnJvcnMuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+O1xyXG4gICAgICogIGxldCBzdGF0dXM6IDIwMG4gPSBvcHRpb24uZXhwZWN0KFwiVGhpcyBpcyB1bmV4cGVjdGVkIGFuZCB1bnJlY292ZXJhYmxlLlwiKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBleHBlY3QobWVzc2FnZTogc3RyaW5nKTogbmV2ZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogUmV0cmlldmVzIHRoZSB2YWx1ZSBvZiBhIGBTb21lYCwgb3IgZmFsbHMgYmFjayB0byB0aGUgcHJvdmlkZWQgdmFsdWUgaWYgaXRcdTIwMTlzIGBOb25lYC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgb3B0aW9uOiBPcHRpb248MjAwbj4gPSBOb25lO1xyXG4gICAgICogIGxldCBzdGF0dXM6IDIwMG4gPSBvcHRpb24udW5sb2NrT3IoMjAwbik7XHJcbiAgICAgKiAgY29uc29sZS5sb2coc3RhdHVzKTsgLy8vIDIwMG4uXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgdW5sb2NrT3I8VDI+KGZhbGxiYWNrOiBUMik6IFQyO1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBDaGFpbnMgYW4gdGFzayB1bnRpbCB0aGUgZmlyc3QgYE5vbmVgIGlzIGVuY291bnRlcmVkLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCBvcHRpb246IE9wdGlvbjwyMDBuPiA9IE5vbmU7XHJcbiAgICAgKiAgb3B0aW9uXHJcbiAgICAgKiAgICAgIC5hbmQodmFsdWUgPT4ge1xyXG4gICAgICogICAgICAgICAgLy8vIFRhc2sgaXMgc2tpcHBlZCBiZWNhdXNlIGBPcHRpb25gIGlzIGBOb25lYC5cclxuICAgICAqICAgICAgICAgIC8vLyAuLi5cclxuICAgICAqICAgICAgICAgIHJldHVybiBTb21lKHZhbHVlICsgMW4pO1xyXG4gICAgICogICAgICB9KVxyXG4gICAgICogICAgICAuYW5kKHZhbHVlID0+IHtcclxuICAgICAqICAgICAgICAgIC8vLyBUYXNrIGlzIHNraXBwZWQgYmVjYXVzZSBgT3B0aW9uYCBpcyBgTm9uZWAuXHJcbiAgICAgKiAgICAgICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGFuZChfXzogdW5rbm93bik6IE5vbmU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogVHJhbnNmb3JtcyB0aGUgYFNvbWVgIHZhbHVlIGlmIHByZXNlbnQsIGJ1dCBpZiB0aGlzIGlzIGFscmVhZHkgYW4gYE5vbmVgLCBpdCByZW1haW5zIHVuY2hhbmdlZC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgb3B0aW9uMDogT3B0aW9uPDIwMG4+ID0gU29tZSgyMDBuKTtcclxuICAgICAqICBsZXQgb3B0aW9uMTogT3B0aW9uPDIwMW4+ID0gb3B0aW9uLm1hcCh2YWx1ZSA9PiB7XHJcbiAgICAgKiAgICAgIC8vLyBUYXNrIGlzIHJ1biBiZWNhdXNlIGBPcHRpb25gIGlzIGBTb21lYC5cclxuICAgICAqICAgICAgLy8vIC4uLlxyXG4gICAgICogICAgICByZXR1cm4gdmFsdWUgKyAxbjtcclxuICAgICAqICB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBtYXAoX186IHVua25vd24pOiBOb25lO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIENvbnZlcnRzIGFuIGBPcHRpb248VDE+YCB0byBhIGBSZXN1bHQ8VDEsIFQyPmAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+O1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPiA9IG9wdGlvbi50b1Jlc3VsdCg0MDRuKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICB0b1Jlc3VsdDxUMT4oZTogVDEpOiBFcnI8VDE+O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIFRoZSBhYnNlbmNlIG9mIGEgdmFsdWUgb3IgYW4gXCJlbXB0eVwiIHN0YXRlLlxyXG4gKiBcclxuICogKioqV2FybmluZyoqKlxyXG4gKiBBbnkgb3BlcmF0aW9uIGF0dGVtcHRpbmcgdG8gYWNjZXNzIGFuIGBPcHRpb25gIG11c3Qgc2FmZWx5IGhhbmRsZSB0aGUgYE5vbmVgIHN0YXRlIG9yIHRlcm1pbmF0ZSB3aXRoIGFuIGVycm9yLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IE5vbmU6IE5vbmUgPSAoKCkgPT4ge1xyXG4gICAgbGV0IF90aGlzOiBOb25lO1xyXG5cclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIHJldHVybiBfdGhpcyA9IHtcclxuICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgc29tZSxcclxuICAgICAgICAgICAgbm9uZSxcclxuICAgICAgICAgICAgZXhwZWN0LFxyXG4gICAgICAgICAgICB1bmxvY2tPcixcclxuICAgICAgICAgICAgYW5kLFxyXG4gICAgICAgICAgICBtYXAsXHJcbiAgICAgICAgICAgIHRvUmVzdWx0XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0eXBlKCk6IFwiTm9uZVwiIHtcclxuICAgICAgICByZXR1cm4gXCJOb25lXCI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHNvbWUoKTogdGhpcyBpcyBTb21lPHVua25vd24+IHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbm9uZSgpOiB0aGlzIGlzIE5vbmUge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGV4cGVjdChtZXNzYWdlOiBzdHJpbmcpOiBuZXZlciB7XHJcbiAgICAgICAgcGFuaWMoRXJyb3IoXCJFUlJfVkFMVUVfUkVRVUlSRURcIiwgbWVzc2FnZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVubG9ja09yPFQxPihmYWxsYmFjazogVDEpOiBUMSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFuZChfXzogdW5rbm93bik6IE5vbmUge1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYXAoX186IHVua25vd24pOiBOb25lIHtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdG9SZXN1bHQ8VDE+KGU6IFQxKTogRXJyPFQxPiB7XHJcbiAgICAgICAgcmV0dXJuIEVycihlKTtcclxuICAgIH1cclxufSkoKTtcclxuXHJcblxyXG5cclxuIiwgImltcG9ydCB0eXBlIHsgUmVzdWx0IH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgV3JhcHBlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IENsb3N1cmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBGcHZJc2ggfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBGcHZFcnJvciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBJTlRFUk5BTF9FUlJPUl9NRVNTQUdFIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IEVycm9yIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IE9rIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IEVyciB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRnB2PFQxIGV4dGVuZHMgYmlnaW50ID0gMm4+ID0gXHJcbiAgICAmIFdyYXBwZXI8YmlnaW50PlxyXG4gICAgJiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogUmV0dXJucyB0aGUgcHJlY2lzaW9uIG9mIHRoZSBgRnB2YC5cclxuICAgICAqL1xyXG4gICAgcHJlY2lzaW9uKCk6IFQxO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFJldHVybnMgdGhlIHJlcHJlc2VudGF0aW9uIGZhY3RvciBvZiB0aGUgYEZwdmAsIGJhc2VkIG9uIGl0cyBwcmVjaXNpb24uXHJcbiAgICAgKi9cclxuICAgIHJlcHJlc2VudGF0aW9uKCk6IGJpZ2ludDtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBBZGRzIGEgZ2l2ZW4gYEZwdklzaGAgdmFsdWUgdG8gdGhlIGN1cnJlbnQgYEZwdmAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKldhcm5pbmcqKipcclxuICAgICAqIEV4dHJlbWVseSBsYXJnZSB2YWx1ZXMgbWF5IGNhdXNlIHRoZSBwcm9ncmFtIHRvIHBhbmljIGR1ZSB0byBpbnN1ZmZpY2llbnQgbWVtb3J5LlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCB2YWx1ZTogYmlnaW50ID0gRnB2KDIwMG4pXHJcbiAgICAgKiAgICAgIC5leHBlY3QoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBGcHYuXCIpXHJcbiAgICAgKiAgICAgIC5hZGQoMTAwbilcclxuICAgICAqICAgICAgLnVud3JhcCgpO1xyXG4gICAgICogIGNvbnNvbGUubG9nKHZhbHVlKTsgLy8vIDMwMG4gPT09IDMuMDBcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBhZGQodmFsdWU6IEZwdklzaDxUMT4pOiBGcHY8VDE+O1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBTdWJ0cmFjdHMgYSBnaXZlbiBgRnB2SXNoYCB2YWx1ZSBmcm9tIHRoZSBjdXJyZW50IGBGcHZgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipXYXJuaW5nKioqXHJcbiAgICAgKiBFeHRyZW1lbHkgbGFyZ2UgdmFsdWVzIG1heSBjYXVzZSB0aGUgcHJvZ3JhbSB0byBwYW5pYyBkdWUgdG8gaW5zdWZmaWNpZW50IG1lbW9yeS5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgdmFsdWU6IGJpZ2ludCA9IEZwdigyMDBuKVxyXG4gICAgICogICAgICAuZXhwZWN0KFwiRmFpbGVkIHRvIGluaXRpYWxpemUgRnB2LlwiKVxyXG4gICAgICogICAgICAuc3ViKDEwMG4pXHJcbiAgICAgKiAgICAgIC51bndyYXAoKTtcclxuICAgICAqICBjb25zb2xlLmxvZyh2YWx1ZSk7IC8vLyAxMDBuID09PSAxLjAwXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgc3ViKHZhbHVlOiBGcHZJc2g8VDE+KTogRnB2PFQxPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBNdWx0aXBsaWVzIHRoZSBjdXJyZW50IGBGcHZgIGJ5IGEgZ2l2ZW4gYEZwdklzaGAgdmFsdWUuXHJcbiAgICAgKiBcclxuICAgICAqICoqKldhcm5pbmcqKipcclxuICAgICAqIEV4dHJlbWVseSBsYXJnZSB2YWx1ZXMgbWF5IGNhdXNlIHRoZSBwcm9ncmFtIHRvIHBhbmljIGR1ZSB0byBpbnN1ZmZpY2llbnQgbWVtb3J5LlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCB2YWx1ZTogYmlnaW50ID0gRnB2KDIwMG4pXHJcbiAgICAgKiAgICAgIC5leHBlY3QoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBGcHYuXCIpXHJcbiAgICAgKiAgICAgIC5tdWwoNTBuKSAvLy8gMC41MFxyXG4gICAgICogICAgICAudW53cmFwKCk7XHJcbiAgICAgKiAgY29uc29sZS5sb2codmFsdWUpOyAvLy8gMTAwbiA9PT0gMS4wMFxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIG11bCh2YWx1ZTogRnB2SXNoPFQxPik6IEZwdjxUMT47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogRGl2aWRlcyB0aGUgY3VycmVudCBgRnB2YCBieSBhIGdpdmVuIGBGcHZJc2hgIHZhbHVlLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipXYXJuaW5nKioqXHJcbiAgICAgKiBFeHRyZW1lbHkgbGFyZ2UgdmFsdWVzIG1heSBjYXVzZSB0aGUgcHJvZ3JhbSB0byBwYW5pYyBkdWUgdG8gaW5zdWZmaWNpZW50IG1lbW9yeS5cclxuICAgICAqIFxyXG4gICAgICogKioqV2FybmluZyoqKlxyXG4gICAgICogSWYgZGl2aWRpbmcgYnkgemVybywgYW4gZXJyb3Igd2lsbCBiZSByZXR1cm5lZC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgdmFsdWU6IGJpZ2ludCA9IEZwdigyMDBuKVxyXG4gICAgICogICAgICAuZXhwZWN0KFwiRmFpbGVkIHRvIGluaXRpYWxpemUgRnB2LlwiKVxyXG4gICAgICogICAgICAuZGl2KDUwbikgLy8vIDAuNTBcclxuICAgICAqICAgICAgLnVud3JhcCgpO1xyXG4gICAgICogIGNvbnNvbGUubG9nKHZhbHVlKTsgLy8vIDQwMG4gPT09IDQuMDBcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBkaXYodmFsdWU6IEZwdklzaDxUMT4pOiBSZXN1bHQ8RnB2PFQxPiwgRnB2RXJyb3I+O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIENyZWF0ZXMgYSBuZXcgYEZwdmAgd2l0aCB0aGUgcHJvdmlkZWQgdmFsdWUgYW5kIHByZWNpc2lvbi5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBGcHY8VDEgZXh0ZW5kcyBiaWdpbnQgPSAybj4oX2ZwdjogRnB2SXNoPFQxPiwgX3ByZWNpc2lvbjogVDEgPSAoMm4gYXMgYW55KSk6IFJlc3VsdDxGcHY8VDE+LCBGcHZFcnJvcj4ge1xyXG4gICAgbGV0IF92YWx1ZTogYmlnaW50O1xyXG4gICAgXHJcbiAgICAvKiogQGNvbnN0cnVjdG9yICovIHtcclxuICAgICAgICBpZiAocHJlY2lzaW9uKCkgPT09IDBuKSByZXR1cm4gRXJyKEVycm9yKFwiRlBWLkVSUl9QUkVDSVNJT05fSVNfWkVST1wiLCBcIkZwdjogRG9lcyBub3Qgc3VwcG9ydCB6ZXJvIHByZWNpc2lvbi5cIikpO1xyXG4gICAgICAgIGlmIChwcmVjaXNpb24oKSA8IDBuKSByZXR1cm4gRXJyKEVycm9yKFwiRlBWLkVSUl9QUkVDSVNJT05fSVNfTkVHQVRJVkVcIiwgXCJGcHY6IERvZXMgbm90IHN1cHBvcnQgbmVnYXRpdmUgcHJlY2lzaW9uLlwiKSk7XHJcbiAgICAgICAgX3ZhbHVlID0gX3Vud3JhcChfZnB2KTtcclxuICAgICAgICByZXR1cm4gT2soe1xyXG4gICAgICAgICAgICB1bndyYXAsXHJcbiAgICAgICAgICAgIHByZWNpc2lvbixcclxuICAgICAgICAgICAgcmVwcmVzZW50YXRpb24sXHJcbiAgICAgICAgICAgIGFkZCxcclxuICAgICAgICAgICAgc3ViLFxyXG4gICAgICAgICAgICBtdWwsXHJcbiAgICAgICAgICAgIGRpdlxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiB1bndyYXAoKTogYmlnaW50IHtcclxuICAgICAgICByZXR1cm4gX3ZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHByZWNpc2lvbigpOiBUMSB7XHJcbiAgICAgICAgcmV0dXJuIF9wcmVjaXNpb247XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVwcmVzZW50YXRpb24oKTogYmlnaW50IHtcclxuICAgICAgICByZXR1cm4gMTBuKipwcmVjaXNpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGQodmFsdWU6IEZwdklzaDxUMT4pOiBGcHY8VDE+IHtcclxuICAgICAgICByZXR1cm4gX3dyYXAoKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gX3ZhbHVlICsgX3Vud3JhcCh2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc3ViKHZhbHVlOiBGcHZJc2g8VDE+KTogRnB2PFQxPiB7XHJcbiAgICAgICAgcmV0dXJuIF93cmFwKCgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIF92YWx1ZSAtIF91bndyYXAodmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG11bCh2YWx1ZTogRnB2SXNoPFQxPik6IEZwdjxUMT4ge1xyXG4gICAgICAgIHJldHVybiBfd3JhcCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB6OiBiaWdpbnQgPSBfdmFsdWUgKiBfdW53cmFwKHZhbHVlKTtcclxuICAgICAgICAgICAgbGV0IHE6IGJpZ2ludCA9IHogLyByZXByZXNlbnRhdGlvbigpO1xyXG4gICAgICAgICAgICByZXR1cm4gcTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkaXYodmFsdWU6IEZwdklzaDxUMT4pOiBSZXN1bHQ8RnB2PFQxPiwgRnB2RXJyb3I+IHtcclxuICAgICAgICBsZXQgbjogYmlnaW50ID0gX3Vud3JhcCh2YWx1ZSk7XHJcbiAgICAgICAgaWYgKG4gPT09IDBuKSByZXR1cm4gRXJyKEVycm9yKFwiRlBWLkVSUl9ESVZJU0lPTl9CWV9aRVJPXCIsIFwiRnB2OiBDYW5ub3QgZGl2aWRlIGJ5IHplcm8uXCIpKTtcclxuICAgICAgICByZXR1cm4gT2soX3dyYXAoKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgejogYmlnaW50ID0gX3ZhbHVlICogcmVwcmVzZW50YXRpb24oKTtcclxuICAgICAgICAgICAgbGV0IHE6IGJpZ2ludCA9IHogLyBuO1xyXG4gICAgICAgICAgICByZXR1cm4gcTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX3dyYXAodGFzazogQ2xvc3VyZTxbXSwgYmlnaW50Pik6IEZwdjxUMT4ge1xyXG4gICAgICAgIHJldHVybiBGcHY8VDE+KHRhc2soKSkuZXhwZWN0KFwiRnB2OiBGYWlsZWQgdG8gd3JhcCB0aGUgdGFzayByZXN1bHQgaW50byBhbiBGcHYuXCIgKyBJTlRFUk5BTF9FUlJPUl9NRVNTQUdFKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfdW53cmFwKGZwdjogRnB2SXNoPFQxPik6IGJpZ2ludCB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmcHYgPT09IFwiYmlnaW50XCIpIHJldHVybiBmcHY7XHJcbiAgICAgICAgcmV0dXJuIGZwdi51bndyYXAoKTtcclxuICAgIH1cclxufSIsICIvKiogXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIENvbnZlcnRzIGB1bmtub3duYCB0byBgc3RyaW5nYC5cclxuICogXHJcbiAqICoqKldhcm5pbmcqKipcclxuICogRG9lcyBub3Qgc3VwcG9ydCBjaXJjdWxhciByZWZlcmVuY2VzIGFuZCBjaXJjdWxhciBvYmplY3RzIHdpbGwgcmVzdWx0IGluIGBbb2JqZWN0IE9iamVjdF1gLlxyXG4gKiBcclxuICogKioqRXhhbXBsZSoqKlxyXG4gKiAgYGBgdHNcclxuICogIGNvbnNvbGUubG9nKHRvU3RyaW5nKDQyKSk7ICAgICAgICAgIC8vLyA0MlxyXG4gKiAgY29uc29sZS5sb2codG9TdHJpbmcodHJ1ZSkpOyAgICAgICAgLy8vIHRydWVcclxuICogIGNvbnNvbGUubG9nKHRvU3RyaW5nKG51bGwpKTsgICAgICAgIC8vLyBudWxsXHJcbiAqICBjb25zb2xlLmxvZyh0b1N0cmluZyh1bmRlZmluZWQpKTsgICAvLy8gdW5kZWZpbmVkXHJcbiAqIFxyXG4gKiAgY29uc29sZS5sb2codG9TdHJpbmcoXCJleGFtcGxlXCIpKTsgICAvLy8gZXhhbXBsZVxyXG4gKiBcclxuICogIGxldCBvYmplY3Q6IHtcclxuICogICAgICBjb2xvcjogc3RyaW5nO1xyXG4gKiAgICAgIHNwZWVkOiB7XHJcbiAqICAgICAgICAgIG1pbjogbnVtYmVyLFxyXG4gKiAgICAgICAgICBtYXg6IG51bWJlclxyXG4gKiAgICAgIH1cclxuICogIH0gPSB7XHJcbiAqICAgICAgY29sb3I6IFwiQmx1ZVwiLFxyXG4gKiAgICAgIHNwZWVkOiB7XHJcbiAqICAgICAgICAgIG1pbjogMCxcclxuICogICAgICAgICAgbWF4OiA1MDBcclxuICogICAgICB9XHJcbiAqICB9O1xyXG4gKiAgY29uc29sZS5sb2cob2JqZWN0KTsgICAgICAgICAgICAgICAgLy8vIHtcImNvbG9yXCI6XCJCbHVlXCIsXCJzcGVlZFwiOntcIm1pblwiOjAsXCJtYXhcIjo1MDB9fVxyXG4gKiBcclxuICogIGZ1bmN0aW9uIGZvbygpOiB2b2lkIHtcclxuICogICAgICBsZXQgeDogc3RyaW5nID0gNTAwO1xyXG4gKiAgICAgIHJldHVybiB4O1xyXG4gKiAgfVxyXG4gKiAgY29uc29sZS5sb2coZm9vKTsgICAgICAgICAgICAgICAgICAgLy8vIGZ1bmN0aW9uIGZvbygpIHtcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLyAgICAgeCA9IDUwMDtcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLyAgICAgcmV0dXJuIHg7XHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8gfVxyXG4gKiAgYGBgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmcodW5rbm93bjogdW5rbm93bik6IHN0cmluZyB7XHJcbiAgICBpZiAodW5rbm93biA9PT0gbnVsbCB8fCB1bmtub3duID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHVua25vd24gIT09IFwib2JqZWN0XCIpIHJldHVybiBTdHJpbmcodW5rbm93bik7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh1bmtub3duKTtcclxuICAgIH1cclxuICAgIGNhdGNoIHt9XHJcbiAgICByZXR1cm4gXCJbb2JqZWN0IE9iamVjdF1cIjtcclxufSIsICJpbXBvcnQgdHlwZSB7IFJlc3VsdCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBEb21FcnJvciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyB3cmFwIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogQ3JlYXRlcyBhIGRlZXAgY2xvbmUgb2YgdGhlIHByb3ZpZGVkIHZhbHVlIHVzaW5nIHRoZSBzdHJ1Y3R1cmVkQ2xvbmUgQVBJLlxyXG4gKiBcclxuICogKioqRXhhbXBsZSoqKlxyXG4gKiBgYGB0c1xyXG4gKiAgY2xvbmUoKVxyXG4gKiAgICAgIC5yZXNvbHZlKGUgPT4ge1xyXG4gKiAgICAgICAgICBpZiAoZS5jb2RlID09PSBcIkRPTS5FUlJfREFUQV9DTE9ORVwiKSB7XHJcbiAqICAgICAgICAgICAgICAvLy8gLi4uXHJcbiAqICAgICAgICAgIH1cclxuICogICAgICB9KVxyXG4gKiAgICAgIC51bmxvY2soKTtcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2xvbmU8VDE+KHZhbHVlOiBUMSk6IFJlc3VsdDxUMSwgRG9tRXJyb3I+IHtcclxuICAgIHJldHVybiB3cmFwKCgpID0+IHtcclxuICAgICAgICByZXR1cm4gc3RydWN0dXJlZENsb25lKHZhbHVlKTtcclxuICAgIH0pLm1hcEVycih1bnNhZmUgPT4ge1xyXG4gICAgICAgIHJldHVybiB1bnNhZmVcclxuICAgICAgICAgICAgLnBhcnNlKChzZWxmKTogc2VsZiBpcyBET01FeGNlcHRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYgIT09IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAmJiBzZWxmICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAmJiB0eXBlb2Ygc2VsZiA9PT0gXCJvYmplY3RcIlxyXG4gICAgICAgICAgICAgICAgICAgICYmIFwibmFtZVwiIGluIHNlbGZcclxuICAgICAgICAgICAgICAgICAgICAmJiBcImNvZGVcIiBpbiBzZWxmXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgXCJtZXNzYWdlXCIgaW4gc2VsZlxyXG4gICAgICAgICAgICAgICAgICAgICYmIHR5cGVvZiBzZWxmLm5hbWUgPT09IFwic3RyaW5nXCJcclxuICAgICAgICAgICAgICAgICAgICAmJiB0eXBlb2Ygc2VsZi5jb2RlID09PSBcIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgdHlwZW9mIHNlbGYubWVzc2FnZSA9PT0gXCJzdHJpbmdcIjtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm1hcChleGNlcHRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIERvbUVycm9yKGV4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC51bmxvY2tPcihEb21FcnJvcigpKTtcclxuICAgIH0pO1xyXG59IiwgImltcG9ydCB0eXBlIHsgQnJhbmRlZFN0cnVjdCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IFR5cGVHdWFyZCB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIEEgdXRpbGl0eSBmdW5jdGlvbiB0byBjaGVjayBpZiBhbiBgdW5rbm93bmAgdmFsdWUgY29uZm9ybXMgdG8gYSBzcGVjaWZpYyBicmFuZGVkIHR5cGUuXHJcbiAqIFxyXG4gKiAqKipXYXJuaW5nKioqXHJcbiAqIEJlIGNhdXRpb3VzIGFib3V0IGJyYW5kIGNvbGxpc2lvbnMgdGhhdCBtYXkgb2NjdXIgaWYgbXVsdGlwbGUgbW9kdWxlcyBcclxuICogb3IgY29udGV4dHMgZGVmaW5lIHNpbWlsYXIgYnJhbmRlZCB0eXBlcy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0JyYW5kZWRTdHJ1Y3Q8VDEgZXh0ZW5kcyBzdHJpbmc+KHVua25vd246IHVua25vd24pOiB1bmtub3duIGlzIEJyYW5kZWRTdHJ1Y3Q8YW55PjtcclxuZXhwb3J0IGZ1bmN0aW9uIGlzQnJhbmRlZFN0cnVjdDxUMSBleHRlbmRzIHN0cmluZz4odW5rbm93bjogdW5rbm93biwgdHlwZTogVDEpOiB1bmtub3duIGlzIEJyYW5kZWRTdHJ1Y3Q8VDE+O1xyXG5leHBvcnQgZnVuY3Rpb24gaXNCcmFuZGVkU3RydWN0PFQxIGV4dGVuZHMgc3RyaW5nPihcclxuICAgIHAwOiB1bmtub3duLFxyXG4gICAgcDE/OiBUMVxyXG4pOiBwMCBpcyBCcmFuZGVkU3RydWN0PFQxPiB7XHJcbiAgICBsZXQgdW5rbm93bjogdW5rbm93biA9IHAwO1xyXG4gICAgbGV0IGd1YXJkOiBUeXBlR3VhcmQ8QnJhbmRlZFN0cnVjdDxUMT4+ID0gKHVua25vd246IHVua25vd24pOiB1bmtub3duIGlzIEJyYW5kZWRTdHJ1Y3Q8VDE+ID0+IHtcclxuICAgICAgICBsZXQgbWF0Y2g6IGJvb2xlYW4gPVxyXG4gICAgICAgICAgICB1bmtub3duICE9PSBudWxsXHJcbiAgICAgICAgICAgICYmIHVua25vd24gIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAmJiB0eXBlb2YgdW5rbm93biA9PT0gXCJvYmplY3RcIlxyXG4gICAgICAgICAgICAmJiBcInR5cGVcIiBpbiB1bmtub3duXHJcbiAgICAgICAgICAgICYmIHR5cGVvZiB1bmtub3duLnR5cGUgPT09IFwic3RyaW5nXCI7XHJcbiAgICAgICAgaWYgKG1hdGNoID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChwMSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGxldCB0eXBlOiBUMSA9IHAxO1xyXG4gICAgICAgICAgICBtYXRjaCA9XHJcbiAgICAgICAgICAgICAgICBtYXRjaFxyXG4gICAgICAgICAgICAgICAgJiYgKHVua25vd24gYXMgYW55KS50eXBlID09PSB0eXBlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWF0Y2g7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGd1YXJkKHVua25vd24pO1xyXG59IiwgImltcG9ydCB0eXBlIHsgQnJhbmRlZCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IFR5cGVHdWFyZCB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIEEgdXRpbGl0eSBmdW5jdGlvbiB0byBjaGVjayBpZiBhbiBgdW5rbm93bmAgdmFsdWUgY29uZm9ybXMgdG8gYSBzcGVjaWZpYyBicmFuZGVkIHR5cGUuXHJcbiAqIFxyXG4gKiAqKipXYXJuaW5nKioqXHJcbiAqIEJlIGNhdXRpb3VzIGFib3V0IGJyYW5kIGNvbGxpc2lvbnMgdGhhdCBtYXkgb2NjdXIgaWYgbXVsdGlwbGUgbW9kdWxlcyBcclxuICogb3IgY29udGV4dHMgZGVmaW5lIHNpbWlsYXIgYnJhbmRlZCB0eXBlcy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0JyYW5kZWQ8VDEgZXh0ZW5kcyBzdHJpbmc+KHVua25vd246IHVua25vd24pOiB1bmtub3duIGlzIEJyYW5kZWQ8YW55PjtcclxuZXhwb3J0IGZ1bmN0aW9uIGlzQnJhbmRlZDxUMSBleHRlbmRzIHN0cmluZz4odW5rbm93bjogdW5rbm93biwgdHlwZTogVDEpOiB1bmtub3duIGlzIEJyYW5kZWQ8VDE+O1xyXG5leHBvcnQgZnVuY3Rpb24gaXNCcmFuZGVkPFQxIGV4dGVuZHMgc3RyaW5nPihcclxuICAgIHAwOiB1bmtub3duLFxyXG4gICAgcDE/OiBUMVxyXG4pOiBwMCBpcyBCcmFuZGVkPFQxPiB7XHJcbiAgICBsZXQgdW5rbm93bjogdW5rbm93biA9IHAwO1xyXG4gICAgbGV0IGd1YXJkOiBUeXBlR3VhcmQ8QnJhbmRlZDxUMT4+ID0gKHVua25vd246IHVua25vd24pOiB1bmtub3duIGlzIEJyYW5kZWQ8VDE+ID0+IHtcclxuICAgICAgICBsZXQgbWF0Y2g6IGJvb2xlYW4gPVxyXG4gICAgICAgICAgICB1bmtub3duICE9PSBudWxsXHJcbiAgICAgICAgICAgICYmIHVua25vd24gIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAmJiB0eXBlb2YgdW5rbm93biA9PT0gXCJvYmplY3RcIlxyXG4gICAgICAgICAgICAmJiBcInR5cGVcIiBpbiB1bmtub3duXHJcbiAgICAgICAgICAgICYmIHR5cGVvZiB1bmtub3duLnR5cGUgPT09IFwiZnVuY3Rpb25cIlxyXG4gICAgICAgICAgICAmJiB0eXBlb2YgdW5rbm93bi50eXBlKCkgPT09IFwic3RyaW5nXCI7XHJcbiAgICAgICAgaWYgKG1hdGNoID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChwMSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGxldCB0eXBlOiBUMSA9IHAxO1xyXG4gICAgICAgICAgICBtYXRjaCA9XHJcbiAgICAgICAgICAgICAgICBtYXRjaFxyXG4gICAgICAgICAgICAgICAgJiYgKHVua25vd24gYXMgYW55KS50eXBlKCkgPT09IHR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtYXRjaDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZ3VhcmQodW5rbm93bik7XHJcbn0iLCAiaW1wb3J0IHsgRXJyb3IgYXMgRXJyb3IwIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBmbGFnIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogYHBhbmljYCB0aHJvd3MgYW4gZXJyb3Igd2l0aCBvcHRpb25hbCBtZXNzYWdlIGFuZCBzdGFjayB0cmFjZSBsb2NhdGlvbi5cclxuICogXHJcbiAqICoqKkV4YW1wbGUqKipcclxuICogYGBgdHNcclxuICogIHBhbmljKEVycm9yKFwiTUFUSC5FUlJfRElWSVNJT05fQllfWkVST1wiKSk7XHJcbiAqICBwYW5pYyhFcnJvcih7XHJcbiAqICAgICAgY29kZTogXCJNQVRILkVSUl9ESVZJU0lPTl9CWV9aRVJPXCIsXHJcbiAqICAgICAgbWVzc2FnZTogU29tZShcIk1hdGg6IENhbm5vdCBkaXZpZGUgYnkgemVyby5cIiksXHJcbiAqICAgICAgcGF5bG9hZDogTm9uZSxcclxuICogICAgICBzdGFjazogU3RhY2tUcmFjZSguLi4pXHJcbiAqICB9KSk7XHJcbiAqICBwYW5pYyhcIkFuIHVucmVjb3ZlcmFibGUgZXJyb3IgaGFzIG9jY3VyZWQuXCIpO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwYW5pYzxUMSBleHRlbmRzIHN0cmluZz4oZTogRXJyb3IwPFQxPiwgaGFuZGxlcj86IEVycm9ySGFuZGxlcik6IG5ldmVyO1xyXG5leHBvcnQgZnVuY3Rpb24gcGFuaWM8VDEgZXh0ZW5kcyBzdHJpbmc+KG1lc3NhZ2U6IFQxLCBsb2NhdGlvbj86IEZ1bmN0aW9uLCBoYW5kbGVyPzogRXJyb3JIYW5kbGVyKTogbmV2ZXI7XHJcbmV4cG9ydCBmdW5jdGlvbiBwYW5pYzxUMSBleHRlbmRzIHN0cmluZz4oXHJcbiAgICBwMDogRXJyb3IwPFQxPiB8IFQxLFxyXG4gICAgcDE/OiBFcnJvckhhbmRsZXIgfCBGdW5jdGlvbixcclxuICAgIHAyPzogRXJyb3JIYW5kbGVyXHJcbik6IG5ldmVyIHtcclxuICAgIGlmICh0eXBlb2YgcDAgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICBsZXQgZTogRXJyb3IwPFQxPiA9IHAwO1xyXG4gICAgICAgIGxldCBoYW5kbGVyOiBFcnJvckhhbmRsZXIgPSBmbGFnKChwMSBhcyBFcnJvckhhbmRsZXIgfCB1bmRlZmluZWQpKS51bmxvY2tPcihFcnJvckhhbmRsZXIpO1xyXG4gICAgICAgIHRocm93IFtcclxuICAgICAgICAgICAgXCJcIixcclxuICAgICAgICAgICAgXCJcIixcclxuICAgICAgICAgICAgXCIgICAgIFwiICsgYCR7IF9yZWQoZS5jb2RlKSB9ICR7IGUubWVzc2FnZS51bmxvY2tPcihcIjw8PCBVTkFWQUlMQUJMRSA+Pj5cIikgfWAsXHJcbiAgICAgICAgICAgIFwiXCIsXHJcbiAgICAgICAgICAgIFwiICAgICBTVEFDS19UUkFDRVwiICsgXHJcbiAgICAgICAgICAgIGUuc3RhY2tcclxuICAgICAgICBdLmpvaW4oXCJcXG5cIikgYXMgc3RyaW5nO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2U6IFQxID0gcDA7XHJcbiAgICAgICAgbGV0IGxvY2F0aW9uOiBGdW5jdGlvbiA9IGZsYWcoKHAxIGFzIEZ1bmN0aW9uIHwgdW5kZWZpbmVkKSkudW5sb2NrT3IocGFuaWMpO1xyXG4gICAgICAgIGxldCBoYW5kbGVyOiBFcnJvckhhbmRsZXIgPSBmbGFnKHAyKS51bmxvY2tPcihFcnJvckhhbmRsZXIpO1xyXG4gICAgICAgIGxldCBlU3RhbmRhcmQ6IEVycm9yID0gRXJyb3IoKTtcclxuICAgICAgICBlU3RhbmRhcmQubmFtZSA9IFwiUEFOSUNcIjtcclxuICAgICAgICB0aHJvdyBcIlBBTklDIFwiICsgbWVzc2FnZSArIFwiXFxuXCIgKyBoYW5kbGVyLnBhcnNlU3RhY2tUcmFjZShsb2NhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9yZWQoc3RyaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIFwiXFx4MWJbMzFtXCIgKyBzdHJpbmcgKyBcIlxceDFiWzBtXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9ncmVlbihzdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gXCJcXHgxYlszMm1cIiArIHN0cmluZyArIFwiXFx4MWJbMG1cIjtcclxufSIsICJpbXBvcnQgdHlwZSB7IE9wdGlvbiB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IENsb3N1cmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgU29tZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBOb25lIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IEVycm9yIGFzIEN1c3RvbUVycm9yIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IGlzQnJhbmRlZFN0cnVjdCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBhbGxPIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgdHlwZSBFcnJvckhhbmRsZXIgPSB7XHJcbiAgICBtYXRjaEVycm9yKHVua25vd246IHVua25vd24pOiB1bmtub3duIGlzIEN1c3RvbUVycm9yPGFueSwgdW5rbm93bj47XHJcbiAgICBtYXRjaEVycm9yKHVua25vd246IHVua25vd24sIHRhc2s6IENsb3N1cmU8W2U6IEN1c3RvbUVycm9yPGFueSwgdW5rbm93bj5dLCB2b2lkPik6IHVua25vd24gaXMgQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPjtcclxuICAgIG1hdGNoRXJyb3I8VDEgZXh0ZW5kcyBzdHJpbmc+KHVua25vd246IHVua25vd24sIGNvZGU6IFQxKTogdW5rbm93biBpcyBDdXN0b21FcnJvcjxUMSwgdW5rbm93bj47XHJcbiAgICBtYXRjaEVycm9yPFQxIGV4dGVuZHMgc3RyaW5nPih1bmtub3duOiB1bmtub3duLCBjb2RlOiBUMSwgdGFzazogQ2xvc3VyZTxbZTogQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPl0sIHZvaWQ+KTogdW5rbm93biBpcyBDdXN0b21FcnJvcjxUMSwgdW5rbm93bj47XHJcbiAgICBsb2NhbFN0YWNrVHJhY2UobG9jYXRpb246IEZ1bmN0aW9uKTogT3B0aW9uPHN0cmluZz47XHJcbiAgICBwYXJzZVN0YWNrVHJhY2UobG9jYXRpb25PclN0YWNrOiBGdW5jdGlvbiB8IHN0cmluZyk6IHN0cmluZztcclxuICAgIGNvbnZlcnRUb1N0YW5kYXJkRXJyb3I8VDEgZXh0ZW5kcyBzdHJpbmcsIFQyID0gdW5rbm93bj4oZTogQ3VzdG9tRXJyb3I8VDEsIFQyPik6IEVycm9yO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IEVycm9ySGFuZGxlcjogRXJyb3JIYW5kbGVyID0gKCgpID0+IHtcclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1hdGNoRXJyb3IsXHJcbiAgICAgICAgICAgIGxvY2FsU3RhY2tUcmFjZSxcclxuICAgICAgICAgICAgcGFyc2VTdGFja1RyYWNlLFxyXG4gICAgICAgICAgICBjb252ZXJ0VG9TdGFuZGFyZEVycm9yXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYXRjaEVycm9yKHVua25vd246IHVua25vd24pOiB1bmtub3duIGlzIEN1c3RvbUVycm9yPGFueSwgdW5rbm93bj47XHJcbiAgICBmdW5jdGlvbiBtYXRjaEVycm9yKHVua25vd246IHVua25vd24sIHRhc2s6IENsb3N1cmU8W2U6IEN1c3RvbUVycm9yPGFueSwgdW5rbm93bj5dLCB2b2lkPik6IHVua25vd24gaXMgQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPjtcclxuICAgIGZ1bmN0aW9uIG1hdGNoRXJyb3I8VDEgZXh0ZW5kcyBzdHJpbmc+KHVua25vd246IHVua25vd24sIGNvZGU6IFQxKTogdW5rbm93biBpcyBDdXN0b21FcnJvcjxUMSwgdW5rbm93bj47XHJcbiAgICBmdW5jdGlvbiBtYXRjaEVycm9yPFQxIGV4dGVuZHMgc3RyaW5nPih1bmtub3duOiB1bmtub3duLCBjb2RlOiBUMSwgdGFzazogQ2xvc3VyZTxbZTogQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPl0sIHZvaWQ+KTogdW5rbm93biBpcyBDdXN0b21FcnJvcjxUMSwgdW5rbm93bj47XHJcbiAgICBmdW5jdGlvbiBtYXRjaEVycm9yPFQxIGV4dGVuZHMgc3RyaW5nPihcclxuICAgICAgICBwMDogdW5rbm93bixcclxuICAgICAgICBwMT86IFQxIHwgQ2xvc3VyZTxbZTogQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPl0sIHZvaWQ+LFxyXG4gICAgICAgIHAyPzogQ2xvc3VyZTxbZTogQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPl0sIHZvaWQ+XHJcbiAgICApOiBwMCBpcyBDdXN0b21FcnJvcjxUMSwgdW5rbm93bj4ge1xyXG4gICAgICAgIGxldCB1bmtub3duOiB1bmtub3duID0gcDA7XHJcbiAgICAgICAgbGV0IG1hdGNoOiBib29sZWFuID1cclxuICAgICAgICAgICAgdW5rbm93biAhPT0gbnVsbFxyXG4gICAgICAgICAgICAmJiB1bmtub3duICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgJiYgdHlwZW9mIHVua25vd24gPT09IFwib2JqZWN0XCJcclxuICAgICAgICAgICAgJiYgaXNCcmFuZGVkU3RydWN0KHVua25vd24sIFwiRXJyb3JcIik7XHJcbiAgICAgICAgaWYgKCFtYXRjaCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChwMSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBwMSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBsZXQgY29kZTogc3RyaW5nID0gcDE7XHJcbiAgICAgICAgICAgIG1hdGNoID1cclxuICAgICAgICAgICAgICAgIG1hdGNoXHJcbiAgICAgICAgICAgICAgICAmJiBcImNvZGVcIiBpbiAodW5rbm93biBhcyBhbnkpXHJcbiAgICAgICAgICAgICAgICAmJiB0eXBlb2YgKHVua25vd24gYXMgYW55KS5jb2RlID09PSBcInN0cmluZ1wiXHJcbiAgICAgICAgICAgICAgICAmJiAodW5rbm93biBhcyBhbnkpLmNvZGUgPT09IGNvZGU7ICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbWF0Y2gpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBsZXQgdGFza086IE9wdGlvbjxDbG9zdXJlPFtlOiBDdXN0b21FcnJvcjxhbnksIHVua25vd24+XSwgdm9pZD4+ID0gTm9uZTtcclxuICAgICAgICBpZiAocDEgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgcDEgPT09IFwiZnVuY3Rpb25cIikgdGFza08gPSBTb21lKHAxKTtcclxuICAgICAgICBpZiAocDIgIT09IHVuZGVmaW5lZCkgdGFza08gPSBTb21lKHAyKTtcclxuICAgICAgICB0YXNrTy5tYXAodGFzayA9PiB7XHJcbiAgICAgICAgICAgIHRhc2soKHVua25vd24gYXMgQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPikpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbG9jYWxTdGFja1RyYWNlKGxvY2F0aW9uOiBGdW5jdGlvbik6IE9wdGlvbjxzdHJpbmc+IHtcclxuICAgICAgICBsZXQgZTogRXJyb3IgPSBFcnJvcigpO1xyXG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGUsIGxvY2F0aW9uKTtcclxuICAgICAgICBpZiAoZS5zdGFjaykgcmV0dXJuIFNvbWUoZS5zdGFjayk7XHJcbiAgICAgICAgcmV0dXJuIE5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGFyc2VTdGFja1RyYWNlKGxvY2F0aW9uT3JTdGFjazogRnVuY3Rpb24gfCBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBfcGFyc2VTdGFjayhfcGFyc2VQYXlsb2FkKGxvY2F0aW9uT3JTdGFjaykpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnZlcnRUb1N0YW5kYXJkRXJyb3I8VDEgZXh0ZW5kcyBzdHJpbmcsIFQyID0gdW5rbm93bj4oZTogQ3VzdG9tRXJyb3I8VDEsIFQyPik6IEVycm9yIHtcclxuICAgICAgICBsZXQgZVN0YW5kYXJkOiBFcnJvciA9IEVycm9yKCk7XHJcbiAgICAgICAgZVN0YW5kYXJkLm5hbWUgPSBlLmNvZGU7XHJcbiAgICAgICAgZVN0YW5kYXJkLm1lc3NhZ2UgPSBlLm1lc3NhZ2UudW5sb2NrT3IoXCJcIik7XHJcbiAgICAgICAgZVN0YW5kYXJkLnN0YWNrID0gZS5zdGFjay50b1N0cmluZygpO1xyXG4gICAgICAgIGVTdGFuZGFyZC5jYXVzZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICByZXR1cm4gZVN0YW5kYXJkO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9wYXJzZVBheWxvYWQocGF5bG9hZDogRnVuY3Rpb24gfCBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICh0eXBlb2YgcGF5bG9hZCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHBheWxvYWQ7XHJcbiAgICAgICAgcmV0dXJuIGxvY2FsU3RhY2tUcmFjZShwYXlsb2FkKS51bmxvY2tPcihcIlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfcGFyc2VTdGFjayhzdGFjazogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgcmVzdWx0OiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIHN0YWNrXHJcbiAgICAgICAgICAgIC5zcGxpdChcIlxcblwiKVxyXG4gICAgICAgICAgICAubWFwKGxpbmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9tYXRjaExpbmU8c3RyaW5nPihcclxuICAgICAgICAgICAgICAgICAgICBsaW5lLCBcclxuICAgICAgICAgICAgICAgICAgICBsaW5lID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpbmUudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgX18gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmlsdGVyKGxpbmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpbmUubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm1hcChsaW5lID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfcGFyc2VMaW5lKGxpbmUpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAubWFwKChbbG9jYXRpb25PLCBwYXRoTywgbGluZU8sIGNvbHVtbk9dKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlcHJlc2VudExpbmUobG9jYXRpb25PLCBwYXRoTywgbGluZU8sIGNvbHVtbk8pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZm9yRWFjaChsaW5lID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIlxcblwiICsgbGluZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfcGFyc2VMaW5lKGxpbmU6IHN0cmluZyk6IFtsb2NhdGlvbjogT3B0aW9uPHN0cmluZz4sIHBhdGg6IE9wdGlvbjxzdHJpbmc+LCBsaW5lOiBPcHRpb248YmlnaW50PiwgY29sdW1uOiBPcHRpb248YmlnaW50Pl0ge1xyXG4gICAgICAgIGxldCBsb2NhdGlvbk86IE9wdGlvbjxzdHJpbmc+ID0gTm9uZTtcclxuICAgICAgICBsZXQgcGF0aE86IE9wdGlvbjxzdHJpbmc+ID0gTm9uZTtcclxuICAgICAgICBsZXQgbGluZU86IE9wdGlvbjxiaWdpbnQ+ID0gTm9uZTtcclxuICAgICAgICBsZXQgY29sdW1uTzogT3B0aW9uPGJpZ2ludD4gPSBOb25lO1xyXG4gICAgICAgIGxldCBwYXR0ZXJuOiBSZWdFeHAgPSAvYXQgKD88bG9jYXRpb24+Lio/KSBcXCgoPzxwYXRoPi4qPyk6KD88bGluZT5cXGQrKTooPzxjb2x1bW4+XFxkKylcXCkvO1xyXG4gICAgICAgIGxldCBtYXRjaDogUmVnRXhwRXhlY0FycmF5IHwgbnVsbCA9IHBhdHRlcm4uZXhlYyhsaW5lKTtcclxuICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2guZ3JvdXBzKSB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uTyA9IG1hdGNoLmdyb3Vwcy5sb2NhdGlvbiA/IFNvbWUobWF0Y2guZ3JvdXBzLmxvY2F0aW9uKSA6IE5vbmU7XHJcbiAgICAgICAgICAgIHBhdGhPID0gbWF0Y2guZ3JvdXBzLnBhdGggPyBTb21lKG1hdGNoLmdyb3Vwcy5wYXRoKSA6IE5vbmU7XHJcbiAgICAgICAgICAgIGxpbmVPID0gbWF0Y2guZ3JvdXBzLmxpbmUgPyBTb21lKEJpZ0ludChtYXRjaC5ncm91cHMubGluZSkpIDogTm9uZTtcclxuICAgICAgICAgICAgY29sdW1uTyA9IG1hdGNoLmdyb3Vwcy5jb2x1bW4gPyBTb21lKEJpZ0ludChtYXRjaC5ncm91cHMuY29sdW1uKSkgOiBOb25lO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW2xvY2F0aW9uTywgcGF0aE8sIGxpbmVPLCBjb2x1bW5PXTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfcmVwcmVzZW50TGluZShsb2NhdGlvbk86IE9wdGlvbjxzdHJpbmc+LCBwYXRoTzogT3B0aW9uPHN0cmluZz4sIGxpbmVPOiBPcHRpb248YmlnaW50PiwgY29sdW1uTzogT3B0aW9uPGJpZ2ludD4pOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBzeW1ib2w6IHN0cmluZyA9IFwiYXRcIjtcclxuICAgICAgICBsZXQgbWlzc2luZzogc3RyaW5nID0gXCI8PDwgVU5BVkFJTEFCTEUgPj4+XCI7XHJcbiAgICAgICAgcmV0dXJuIGFsbE8obG9jYXRpb25PLCBwYXRoTywgbGluZU8sIGNvbHVtbk8pXHJcbiAgICAgICAgICAgIC5tYXAoKFtsb2NhdGlvbiwgcGF0aCwgbGluZSwgY29sdW1uXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGAgICAgICR7IF9yZWQoc3ltYm9sKSB9ICR7IHBhdGggfSAkeyBfcmVkKGxvY2F0aW9uKSB9ICR7IGxpbmUgfSAkeyBjb2x1bW4gfWA7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC51bmxvY2tPcihcIiAgICAgXCIgKyBfcmVkKG1pc3NpbmcpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfbWF0Y2hMaW5lPFQxPihsaW5lOiBzdHJpbmcsIG9uVmFsaWQ6IENsb3N1cmU8W2xpbmU6IHN0cmluZ10sIFQxPiwgb25JbnZhbGlkOiBDbG9zdXJlPFtsaW5lOiBzdHJpbmddLCBUMT4pOiBUMSB7XHJcbiAgICAgICAgaWYgKGxpbmUgPT09IFwiRXJyb3JcIikgcmV0dXJuIG9uSW52YWxpZChsaW5lKTtcclxuICAgICAgICByZXR1cm4gb25WYWxpZChsaW5lKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfcmVkKHN0cmluZzogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gXCJcXHgxYlszMW1cIiArIHN0cmluZyArIFwiXFx4MWJbMG1cIjtcclxuICAgIH1cclxufSkoKTsiLCAiaW1wb3J0IHR5cGUgeyBCcmFuZGVkU3RydWN0IH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBPcHRpb24gfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgZmxhZyB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRXJyb3I8VDEgZXh0ZW5kcyBzdHJpbmcsIFQyID0gdW5rbm93bj4gPSBcclxuICAgICYgQnJhbmRlZFN0cnVjdDxcIkVycm9yXCI+XHJcbiAgICAmIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIGNvZGU6IFQxO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIEEgaHVtYW4tcmVhZGFibGUgbWVzc2FnZSB0aGF0IGV4cGxhaW5zIHRoZSBuYXR1cmUgb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBtZXNzYWdlOiBPcHRpb248c3RyaW5nPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBBbiBvcHRpb25hbCB2YWx1ZSB0aGF0IGNhbiBob2xkIGFkZGl0aW9uYWwgZGF0YSBvciBjb250ZXh0IHJlbGF0ZWQgdG8gdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwYXlsb2FkOiBPcHRpb248VDI+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFRoZSBzdGFjayB0cmFjZSBhc3NvY2lhdGVkIHdpdGggdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBzdGFjazogc3RyaW5nO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIEEgY3VzdG9tIGVycm9yIHdpdGggYW4gb3B0aW9uYWwgbWVzc2FnZSBhbmQgcGF5bG9hZCBmb3Igc3Ryb25nbHktdHlwZWQgZXJyb3JzLlxyXG4gKiBcclxuICogKioqTm90ZSoqKlxyXG4gKiBUaGlzIGlzIGEgZ2VuZXJhbC1wdXJwb3NlIGVycm9yIHN0cnVjdHVyZSB0byBtYW5hZ2UgZG9tYWluLXNwZWNpZmljIGVycm9yIGNvZGVzIGFuZCBwcm92aWRlIGJldHRlciBjb250ZXh0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIEVycm9yPFQxIGV4dGVuZHMgc3RyaW5nLCBUMiA9IHVua25vd24+KF9jb25maWd1cmF0aW9uOiB7XHJcbiAgICBjb2RlOiBUMTtcclxuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XHJcbiAgICBwYXlsb2FkPzogVDI7XHJcbiAgICBzdGFjaz86IHN0cmluZztcclxuICAgIGhhbmRsZXI/OiBFcnJvckhhbmRsZXI7XHJcbn0pOiBFcnJvcjxUMSwgVDI+O1xyXG5leHBvcnQgZnVuY3Rpb24gRXJyb3I8VDEgZXh0ZW5kcyBzdHJpbmcsIFQyID0gdW5rbm93bj4oX2NvZGU6IFQxLCBfbWVzc2FnZT86IHN0cmluZywgX3BheWxvYWQ/OiBUMik6IEVycm9yPFQxLCBUMj47XHJcbmV4cG9ydCBmdW5jdGlvbiBFcnJvcjxUMSBleHRlbmRzIHN0cmluZywgVDIgPSB1bmtub3duPihcclxuICAgIF9wMDoge1xyXG4gICAgICAgIGNvZGU6IFQxO1xyXG4gICAgICAgIG1lc3NhZ2U/OiBzdHJpbmc7XHJcbiAgICAgICAgcGF5bG9hZD86IFQyO1xyXG4gICAgICAgIHN0YWNrPzogc3RyaW5nO1xyXG4gICAgICAgIGhhbmRsZXI/OiBFcnJvckhhbmRsZXI7XHJcbiAgICB9IHwgVDEsXHJcbiAgICBfcDE/OiBzdHJpbmcsXHJcbiAgICBfcDI/OiBUMlxyXG4pOiBFcnJvcjxUMSwgVDI+IHtcclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgX3AwID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIGxldCBjb25maWd1cmF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiBUMTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U/OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBwYXlsb2FkPzogVDI7XHJcbiAgICAgICAgICAgICAgICBzdGFjaz86IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI/OiBFcnJvckhhbmRsZXI7XHJcbiAgICAgICAgICAgIH0gPSBfcDA7XHJcbiAgICAgICAgICAgIGxldCBoYW5kbGVyOiBFcnJvckhhbmRsZXIgPSBmbGFnKGNvbmZpZ3VyYXRpb24uaGFuZGxlcikudW5sb2NrT3IoRXJyb3JIYW5kbGVyKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiRXJyb3JcIixcclxuICAgICAgICAgICAgICAgIGNvZGU6IGNvbmZpZ3VyYXRpb24uY29kZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGZsYWcoY29uZmlndXJhdGlvbi5tZXNzYWdlKSxcclxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IGZsYWcoY29uZmlndXJhdGlvbi5wYXlsb2FkKSxcclxuICAgICAgICAgICAgICAgIHN0YWNrOiBmbGFnKGNvbmZpZ3VyYXRpb24uc3RhY2spLnVubG9ja09yKGhhbmRsZXIucGFyc2VTdGFja1RyYWNlKEVycm9yKSlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogXCJFcnJvclwiLFxyXG4gICAgICAgICAgICBjb2RlOiBfcDAsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IGZsYWcoX3AxKSxcclxuICAgICAgICAgICAgcGF5bG9hZDogZmxhZyhfcDIpLFxyXG4gICAgICAgICAgICBzdGFjazogRXJyb3JIYW5kbGVyLnBhcnNlU3RhY2tUcmFjZShFcnJvcilcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB0eXBlIHsgRG9tRXhjZXB0aW9uTmFtZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IERvbUVycm9yQ29kZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IERvbUVycm9yTmFtZVRvQ29kZU1hcDogUmVjb3JkPERvbUV4Y2VwdGlvbk5hbWUsIERvbUVycm9yQ29kZT4gPSB7XHJcbiAgICBcIkVuY29kaW5nRXJyb3JcIjogXCJET00uRVJSX0VOQ09ESU5HXCIsXHJcbiAgICBcIk5vdFJlYWRhYmxlRXJyb3JcIjogXCJET00uRVJSX05PVF9SRUFEQUJMRVwiLFxyXG4gICAgXCJVbmtub3duRXJyb3JcIjogXCJET00uRVJSX1VOS05PV05cIixcclxuICAgIFwiQ29uc3RyYWludEVycm9yXCI6IFwiRE9NLkVSUl9DT05TVFJBSU5UXCIsXHJcbiAgICBcIkRhdGFFcnJvclwiOiBcIkRPTS5FUlJfREFUQVwiLFxyXG4gICAgXCJUcmFuc2FjdGlvbkluYWN0aXZlRXJyb3JcIjogXCJET00uRVJSX1RSQU5TQUNUSU9OX0lOQUNUSVZFXCIsXHJcbiAgICBcIlJlYWRPbmx5RXJyb3JcIjogXCJET00uRVJSX1JFQURfT05MWVwiLFxyXG4gICAgXCJWZXJzaW9uRXJyb3JcIjogXCJET00uRVJSX1ZFUlNJT05cIixcclxuICAgIFwiT3BlcmF0aW9uRXJyb3JcIjogXCJET00uRVJSX09QRVJBVElPTlwiLFxyXG4gICAgXCJOb3RBbGxvd2VkRXJyb3JcIjogXCJET00uRVJSX05PVF9BTExPV0VEXCJcclxufTsiLCAiaW1wb3J0IHR5cGUgeyBEb21FeGNlcHRpb25Db2RlIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgRG9tRXJyb3JDb2RlIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgY29uc3QgRG9tRXhjZXB0aW9uQ29kZVRvRG9tRXJyb3JDb2RlTWFwOiBSZWNvcmQ8RG9tRXhjZXB0aW9uQ29kZSwgRG9tRXJyb3JDb2RlPiA9IHtcclxuICAgIDE6IFwiRE9NLkVSUl9JTkRFWF9TSVpFXCIsXHJcbiAgICAzOiBcIkRPTS5FUlJfSElFUkFSQ0hZX1JFUVVFU1RcIixcclxuICAgIDQ6IFwiRE9NLkVSUl9XUk9OR19ET0NVTUVOVFwiLFxyXG4gICAgNTogXCJET00uRVJSX0lOVkFMSURfQ0hBUkFDVEVSXCIsXHJcbiAgICA3OiBcIkRPTS5FUlJfTk9fTU9ESUZJQ0FUSU9OX0FMTE9XRURcIixcclxuICAgIDg6IFwiRE9NLkVSUl9OT1RfRk9VTkRcIixcclxuICAgIDk6IFwiRE9NLkVSUl9OT1RfU1VQUE9SVEVEXCIsXHJcbiAgICAxMTogXCJET00uRVJSX0lOVkFMSURfU1RBVEVcIixcclxuICAgIDEyOiBcIkRPTS5FUlJfU1lOVEFYXCIsXHJcbiAgICAxMzogXCJET00uRVJSX0lOVkFMSURfTU9ESUZJQ0FUSU9OXCIsXHJcbiAgICAxNDogXCJET00uRVJSX05BTUVTUEFDRVwiLFxyXG4gICAgMTc6IFwiRE9NLkVSUl9UWVBFX01JU01BVENIXCIsXHJcbiAgICAxODogXCJET00uRVJSX1NFQ1VSSVRZXCIsXHJcbiAgICAxOTogXCJET00uRVJSX05FVFdPUktcIixcclxuICAgIDIwOiBcIkRPTS5FUlJfQUJPUlRcIixcclxuICAgIDIxOiBcIkRPTS5FUlJfVVJMX01JU01BVENIXCIsXHJcbiAgICAyMjogXCJET00uRVJSX1FVT1RBX0VYQ0VFREVEXCIsXHJcbiAgICAyMzogXCJET00uRVJSX1RJTUVPVVRcIixcclxuICAgIDI0OiBcIkRPTS5FUlJfSU5WQUxJRF9OT0RFX1RZUEVcIixcclxuICAgIDI1OiBcIkRPTS5FUlJfREFUQV9DTE9ORVwiXHJcbn07IiwgImltcG9ydCB0eXBlIHsgRG9tRXJyb3JDb2RlIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IERvbUV4Y2VwdGlvbkNvZGVUb0RvbUVycm9yQ29kZU1hcCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBEb21FcnJvck5hbWVUb0NvZGVNYXAgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyb3IgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB0eXBlIERvbUVycm9yID0gRXJyb3I8RG9tRXJyb3JDb2RlPjtcclxuXHJcbi8qKlxyXG4gKiAqKipCcmllZioqKlxyXG4gKiBBIGRvbWFpbi1zcGVjaWZpYyBlcnJvciB0aGF0IHByb3ZpZGVzIHRoZSBlcnJvciBjb2RlIGZvciBET00gZXhjZXB0aW9ucy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBEb21FcnJvcigpOiBEb21FcnJvcjtcclxuZXhwb3J0IGZ1bmN0aW9uIERvbUVycm9yKF9lOiBET01FeGNlcHRpb24pOiBEb21FcnJvcjtcclxuZXhwb3J0IGZ1bmN0aW9uIERvbUVycm9yKFxyXG4gICAgX2FyZ3MwPzogRE9NRXhjZXB0aW9uXHJcbik6IERvbUVycm9yIHtcclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIGxldCBlOiBET01FeGNlcHRpb24gfCB1bmRlZmluZWQgPSBfYXJnczA7XHJcbiAgICAgICAgaWYgKGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIEVycm9yKFwiRE9NLkVSUl9VTktOT1dOXCIpO1xyXG4gICAgICAgIHJldHVybiBFcnJvcihfbWF0Y2goZSksIGUubWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX21hdGNoKGU6IERPTUV4Y2VwdGlvbik6IERvbUVycm9yQ29kZSB7XHJcbiAgICAgICAgbGV0IGNvZGU6IERvbUVycm9yQ29kZSA9IFwiRE9NLkVSUl9VTktOT1dOXCI7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBlLmNvZGUgPT09IDFcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSAzXHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gNFxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDVcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSA3XHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gOFxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDlcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSAxMVxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDEyXHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gMTNcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSAxNFxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDE3XHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gMThcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSAxOVxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDIwXHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gMjFcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSAyMlxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDIzXHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gMjRcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSAyNVxyXG4gICAgICAgICkgY29kZSA9IERvbUV4Y2VwdGlvbkNvZGVUb0RvbUVycm9yQ29kZU1hcFtlLmNvZGVdO1xyXG4gICAgICAgIGVsc2UgaWYgKFxyXG4gICAgICAgICAgICBlLm5hbWUgPT09IFwiRW5jb2RpbmdFcnJvclwiXHJcbiAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gXCJOb3RSZWFkYWJsZUVycm9yXCJcclxuICAgICAgICAgICAgfHwgZS5uYW1lID09PSBcIlVua25vd25FcnJvclwiXHJcbiAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gXCJDb25zdHJhaW50RXJyb3JcIlxyXG4gICAgICAgICAgICB8fCBlLm5hbWUgPT09IFwiRGF0YUVycm9yXCJcclxuICAgICAgICAgICAgfHwgZS5uYW1lID09PSBcIlRyYW5zYWN0aW9uSW5hY3RpdmVFcnJvclwiXHJcbiAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gXCJSZWFkT25seUVycm9yXCJcclxuICAgICAgICAgICAgfHwgZS5uYW1lID09PSBcIlZlcnNpb25FcnJvclwiXHJcbiAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gXCJPcGVyYXRpb25FcnJvclwiXHJcbiAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gXCJOb3RBbGxvd2VkRXJyb3JcIlxyXG4gICAgICAgICkgY29kZSA9IERvbUVycm9yTmFtZVRvQ29kZU1hcFtlLm5hbWVdO1xyXG4gICAgICAgIHJldHVybiBjb2RlO1xyXG4gICAgfVxyXG59IiwgImV4cG9ydCBjb25zdCBJTlRFUk5BTF9FUlJPUl9NRVNTQUdFOiBzdHJpbmcgPVxyXG4gICAgXCJcXG5cIiArIFwiVWgtb2gsIGxvb2tzIGxpa2UgUmVsaXEgdG9vayBhIHdyb25nIHR1cm4hXCIgKyBcclxuICAgIFwiXFxuXCIgKyBcIkRvbid0IHdvcnJ5LCBpdCdzIG5vdCB5b3UtaXQncyB1cy5cIiArIFxyXG4gICAgXCJcXG5cIiArIFwiUGxlYXNlIHJlcG9ydCB0aGlzIGF0IGRyZWFtY2F0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V0FBT0EsT0FBTSxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU87QUFBQSxFQUNyQztBQUVBLFdBQVMsT0FBTyxHQUErQjtBQUMzQyxRQUFJLE9BQXFCO0FBQ3pCLFFBQ0ksRUFBRSxTQUFTLEtBQ1IsRUFBRSxTQUFTLEtBQ1gsRUFBRSxTQUFTLEtBQ1gsRUFBRSxTQUFTLEtBQ1gsRUFBRSxTQUFTLEtBQ1gsRUFBRSxTQUFTLEtBQ1gsRUFBRSxTQUFTLEtBQ1gsRUFBRSxTQUFTLE1BQ1gsRUFBRSxTQUFTLE1BQ1gsRUFBRSxTQUFTLE1BQ1gsRUFBRSxTQUFTLE1BQ1gsRUFBRSxTQUFTLE1BQ1gsRUFBRSxTQUFTLE1BQ1gsRUFBRSxTQUFTLE1BQ1gsRUFBRSxTQUFTLE1BQ1gsRUFBRSxTQUFTLE1BQ1gsRUFBRSxTQUFTLE1BQ1gsRUFBRSxTQUFTLE1BQ1gsRUFBRSxTQUFTLE1BQ1gsRUFBRSxTQUFTLEdBQ2hCLFFBQU8sa0NBQWtDLEVBQUUsSUFBSTtBQUFBLGFBRTdDLEVBQUUsU0FBUyxtQkFDUixFQUFFLFNBQVMsc0JBQ1gsRUFBRSxTQUFTLGtCQUNYLEVBQUUsU0FBUyxxQkFDWCxFQUFFLFNBQVMsZUFDWCxFQUFFLFNBQVMsOEJBQ1gsRUFBRSxTQUFTLG1CQUNYLEVBQUUsU0FBUyxrQkFDWCxFQUFFLFNBQVMsb0JBQ1gsRUFBRSxTQUFTLGtCQUNoQixRQUFPLHNCQUFzQixFQUFFLElBQUk7QUFDckMsV0FBTztBQUFBLEVBQ1g7QUFDSjs7O0FDNURPLElBQU0seUJBQ1Q7IiwKICAibmFtZXMiOiBbIkVycm9yIiwgImlzQnJhbmRlZCIsICJ3cmFwIiwgIndyYXBBc3luYyIsICJmbGFnIiwgIkVycm9yIiwgIkVycm9yIiwgImUiLCAiRXJyb3IiLCAiRXJyb3IiLCAidW5rbm93biIsICJpc0JyYW5kZWQiLCAidW5rbm93biIsICJsaW5lIiwgIl9yZWQiLCAiRXJyb3IiLCAiRXJyb3IiXQp9Cg==