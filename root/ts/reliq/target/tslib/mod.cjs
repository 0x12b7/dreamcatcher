"use strict";var n,r=Object.defineProperty,t=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,u={};((n,t)=>{for(var e in t)r(n,e,{get:t[e],enumerable:!0})})(u,{Alloc:()=>_,DeAlloc:()=>m,DomError:()=>P,Dyn:()=>d,Err:()=>R,Error:()=>h,Fpv:()=>k,None:()=>N,Ok:()=>s,Ref:()=>O,Some:()=>A,Unsafe:()=>i,allO:()=>D,allR:()=>l,anyO:()=>g,anyR:()=>f,clone:()=>M,flag:()=>y,isBranded:()=>v,isBrandedStruct:()=>T,panic:()=>S,toString:()=>I,wrap:()=>p,wrapAsync:()=>E}),module.exports=(n=u,((n,u,c,a)=>{if(u&&"object"==typeof u||"function"==typeof u)for(let i of e(u))o.call(n,i)||i===c||r(n,i,{get:()=>u[i],enumerable:!(a=t(u,i))||a.enumerable});return n})(r({},"__esModule",{value:!0}),n));var c={all:function(n){let r=[],t=0;for(;t<n.length;){let e=n.at(t);if(!e.ok())return e;r.push(e.unlock()),t++}return s(r)},any:function(n){let r=[],t=0;for(;t<n.length;){let e=n.at(t);if(e.ok())return e;r.push(e.inspect()),t++}return R(r)},wrap:function(n,...r){try{return s(n(...r))}catch(n){return R(i(n))}},wrapAsync:async function(n,...r){try{return s(await n(...r))}catch(n){return R(i(n))}}},a={flag:function(n){return null==n?N:A(n)},all:function(...n){let r=[],t=0;for(;t<n.length;){let e=n.at(t);if(e.none())return e;r.push(e.unlock()),t++}return A(r)},any:function(...n){let r=0;for(;r<n.length;){let t=n.at(r);if(t.some())return t;r++}return N}};function i(n){return{unwrap:r,parse:function(n){return n(r())?A(r()):N}};function r(){return n}}var l=c.all,f=c.any,p=c.wrap,E=c.wrapAsync;function s(n){let r;return r={ok:function(){return!0},err:function(){return!1},expect:function(n){return t()},expectErr:function(n){S(h("PANIC",n))},unlock:t,unlockOr:function(n){return t()},and:function(n){return n(t())},map:function(n){return s(n(t()))},mapErr:function(n){return r},recover:function(n){return r},degrade:function(n){return R(n(t()))},toOption:function(){return A(t())}};function t(){return n}}function R(n,r=C){let t,e,o,u;return o=n,u=r,e=u.parseStackTrace(R),t={ok:function(){return!1},err:function(){return!0},inspect:c,stack:function(){return e},expect:function(n){let r=c(),t=N;if(r instanceof Error){let e=h({code:r.name.toUpperCase(),message:n});t=A(e)}t.none()&&u.matchError(r,(r=>{r.message=r.message.map((r=>r+"\n\n     Context\n     "+n)),t=A(r)}));S(t.toResult(void 0).recover((()=>h({code:"PANIC",message:n}))).unlock())},expectErr:function(n){return c()},unlockOr:function(n){return n},and:function(n){return t},map:function(n){return t},mapErr:function(n){return R(n(c()))},recover:function(n){return s(n(c()))},degrade:function(n){return t},toOption:function(){return N}};function c(){return o}}function O(n){let r,t,e;return t=0n,e=new Map,r={unwrap:o,mut:function(t){let u=o(),c=t;return n=t,e.values().toArray().forEach((n=>n(c,u))),r},onChange:function(n){let r=t+=1n;return e.set(r,n),()=>{e.delete(r)}}};function o(){return n}}function d(n,r,t,...e){let o,u;{o=new Map,u=0n;let a=0n;for(;a<t;){let r=c();o.set(r,n(...e)),a++}return function(...t){let e,u;return e=N,u=function(){let n=o.keys().toArray().at(0);return n?A(n):N}().toResult(void 0).map((n=>(e=A(n),_(function(n){let r=o.get(n);return o.delete(n),r}(n),{deAlloc:a})))).recover((()=>(e=A(c()),_(n(...t),{deAlloc:a})))).unlock();function a(){return e.toResult(void 0).map((n=>{e=N,function(n,r){o.set(n,r)}(n,r(u.expect("Dyn: Could not deallocate resource but the key was available."+U)))})),u=m({deAlloc:a})}}}function c(){return u+=1n}}function m(n){return{...N,...n}}function _(n,r){return{...A(n),...r}}var y=a.flag,D=a.all,g=a.any;function A(n){return{type:function(){return"Some"},some:function(){return!0},none:function(){return!1},expect:function(r){return n},unlock:function(){return n},unlockOr:function(r){return n},and:function(r){return r(n)},map:function(r){return A(r(n))},toResult:function(r){return s(n)}}}var N=(()=>{let n;return n={type:function(){return"None"},some:function(){return!1},none:function(){return!0},expect:function(n){S(h("ERR_VALUE_REQUIRED",n))},unlockOr:function(n){return n},and:function(r){return n},map:function(r){return n},toResult:function(n){return R(n)}}})();function k(n,r=2n){let t;return 0n===e()?R(h("FPV.ERR_PRECISION_IS_ZERO","Fpv: Does not support zero precision.")):e()<0n?R(h("FPV.ERR_PRECISION_IS_NEGATIVE","Fpv: Does not support negative precision.")):(t=c(n),s({unwrap:function(){return t},precision:e,representation:o,eq:function(n){return t===c(n)},lt:function(n){return t<c(n)},lteq:function(n){return t<=c(n)},gt:function(n){return t>c(n)},gteq:function(n){return t>=c(n)},add:function(n){return u((()=>t+c(n)))},sub:function(n){return u((()=>t-c(n)))},mul:function(n){return u((()=>t*c(n)/o()))},div:function(n){let r=c(n);return 0n===r?R(h("FPV.ERR_DIVISION_BY_ZERO","Fpv: Cannot divide by zero.")):s(u((()=>t*o()/r)))}}));function e(){return r}function o(){return 10n**e()}function u(n){return k(n()).expect("Fpv: Failed to wrap the task result into an Fpv."+U)}function c(n){return"bigint"==typeof n?n:n.unwrap()}}function I(n){if(null==n||"object"!=typeof n)return String(n);try{return JSON.stringify(n)}catch{}return"[object Object]"}function M(n){return p((()=>structuredClone(n))).mapErr((n=>n.parse((n=>null!=n&&"object"==typeof n&&"name"in n&&"code"in n&&"message"in n&&"string"==typeof n.name&&"number"==typeof n.code&&"string"==typeof n.message)).map((n=>P(n))).unlockOr(P())))}function T(n,r){return(n=>{let t=null!=n&&"object"==typeof n&&"type"in n&&"string"==typeof n.type;if(!1===t)return!1;if(void 0!==r){let e=r;t=t&&n.type===e}return t})(n)}function v(n,r){return(n=>{let t=null!=n&&"object"==typeof n&&"type"in n&&"function"==typeof n.type&&"string"==typeof n.type();if(!1===t)return!1;if(void 0!==r){let e=r;t=t&&n.type()===e}return t})(n)}function S(n,r,t){if("object"==typeof n){let t=n;y(r).unlockOr(C);throw["","",`     ${e=t.code,"[31m"+e+"[0m"} ${t.message.unlockOr("<<< UNAVAILABLE >>>")}`,"","     STACK_TRACE"+t.stack].join("\n")}{let e=n,o=y(r).unlockOr(S),u=y(t).unlockOr(C);throw Error().name="PANIC","PANIC "+e+"\n"+u.parseStackTrace(o)}var e}var C=(()=>{return{matchError:function(n,r,t){let e=n,o=null!=e&&"object"==typeof e&&T(e,"Error");if(!o)return!1;if(void 0!==r&&"string"==typeof r){let n=r;o=o&&"code"in e&&"string"==typeof e.code&&e.code===n}if(!o)return!1;let u=N;void 0!==r&&"function"==typeof r&&(u=A(r));void 0!==t&&(u=A(t));return u.map((n=>{n(e)})),!0},localStackTrace:n,parseStackTrace:function(t){return function(n){let t="";return n.split("\n").map((n=>function(n,r,t){return"Error"===n?t(n):r(n)}(n,(n=>n.trim()),(n=>"")))).filter((n=>n.length>0)).map((n=>function(n){let r=N,t=N,e=N,o=N,u=/at (?<location>.*?) \((?<path>.*?):(?<line>\d+):(?<column>\d+)\)/.exec(n);u&&u.groups&&(r=u.groups.location?A(u.groups.location):N,t=u.groups.path?A(u.groups.path):N,e=u.groups.line?A(BigInt(u.groups.line)):N,o=u.groups.column?A(BigInt(u.groups.column)):N);return[r,t,e,o]}(n))).map((([n,t,e,o])=>function(n,t,e,o){let u="at",c="<<< UNAVAILABLE >>>";return D(n,t,e,o).map((([n,t,e,o])=>`     ${r(u)} ${t} ${r(n)} ${e} ${o}`)).unlockOr("     "+r(c))}(n,t,e,o))).forEach((n=>{t+="\n"+n})),t}((e=t,"string"==typeof e?e:n(e).unlockOr("")));var e},convertToStandardError:function(n){let r=Error();return r.name=n.code,r.message=n.message.unlockOr(""),r.stack=n.stack.toString(),r.cause=void 0,r}};function n(n){let r=Error();return Error.captureStackTrace(r,n),r.stack?A(r.stack):N}function r(n){return"[31m"+n+"[0m"}})();function h(n,r,t){if("object"==typeof n){let r=n,t=y(r.handler).unlockOr(C);return{type:"Error",code:r.code,message:y(r.message),payload:y(r.payload),stack:y(r.stack).unlockOr(t.parseStackTrace(h))}}return{type:"Error",code:n,message:y(r),payload:y(t),stack:C.parseStackTrace(h)}}var w={EncodingError:"DOM.ERR_ENCODING",NotReadableError:"DOM.ERR_NOT_READABLE",UnknownError:"DOM.ERR_UNKNOWN",ConstraintError:"DOM.ERR_CONSTRAINT",DataError:"DOM.ERR_DATA",TransactionInactiveError:"DOM.ERR_TRANSACTION_INACTIVE",ReadOnlyError:"DOM.ERR_READ_ONLY",VersionError:"DOM.ERR_VERSION",OperationError:"DOM.ERR_OPERATION",NotAllowedError:"DOM.ERR_NOT_ALLOWED"},b={1:"DOM.ERR_INDEX_SIZE",3:"DOM.ERR_HIERARCHY_REQUEST",4:"DOM.ERR_WRONG_DOCUMENT",5:"DOM.ERR_INVALID_CHARACTER",7:"DOM.ERR_NO_MODIFICATION_ALLOWED",8:"DOM.ERR_NOT_FOUND",9:"DOM.ERR_NOT_SUPPORTED",11:"DOM.ERR_INVALID_STATE",12:"DOM.ERR_SYNTAX",13:"DOM.ERR_INVALID_MODIFICATION",14:"DOM.ERR_NAMESPACE",17:"DOM.ERR_TYPE_MISMATCH",18:"DOM.ERR_SECURITY",19:"DOM.ERR_NETWORK",20:"DOM.ERR_ABORT",21:"DOM.ERR_URL_MISMATCH",22:"DOM.ERR_QUOTA_EXCEEDED",23:"DOM.ERR_TIMEOUT",24:"DOM.ERR_INVALID_NODE_TYPE",25:"DOM.ERR_DATA_CLONE"};function P(n){{let r=n;return void 0===r?h("DOM.ERR_UNKNOWN"):h(function(n){let r="DOM.ERR_UNKNOWN";1===n.code||3===n.code||4===n.code||5===n.code||7===n.code||8===n.code||9===n.code||11===n.code||12===n.code||13===n.code||14===n.code||17===n.code||18===n.code||19===n.code||20===n.code||21===n.code||22===n.code||23===n.code||24===n.code||25===n.code?r=b[n.code]:"EncodingError"!==n.name&&"NotReadableError"!==n.name&&"UnknownError"!==n.name&&"ConstraintError"!==n.name&&"DataError"!==n.name&&"TransactionInactiveError"!==n.name&&"ReadOnlyError"!==n.name&&"VersionError"!==n.name&&"OperationError"!==n.name&&"NotAllowedError"!==n.name||(r=w[n.name]);return r}(r),r.message)}}var U="\nUh-oh, looks like Reliq took a wrong turn!\nDon't worry, it's not you-it's us.\nPlease report this at dreamcatcher_foundation@proton.me\n";//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc3JjL21vZC50cyIsICIuLi8uLi9zcmMvd3JhcHBlci9yZXN1bHQvcmVzdWx0LnRzIiwgIi4uLy4uL3NyYy93cmFwcGVyL29wdGlvbi9vcHRpb24udHMiLCAiLi4vLi4vc3JjL3dyYXBwZXIvdW5zYWZlL3Vuc2FmZS50cyIsICIuLi8uLi9zcmMvd3JhcHBlci9yZXN1bHQvdXRpbC9zaG9ydGhhbmQudHMiLCAiLi4vLi4vc3JjL3dyYXBwZXIvcmVzdWx0L29rL29rLnRzIiwgIi4uLy4uL3NyYy93cmFwcGVyL3Jlc3VsdC9lcnIvZXJyLnRzIiwgIi4uLy4uL3NyYy93cmFwcGVyL3JlZi9yZWYudHMiLCAiLi4vLi4vc3JjL3dyYXBwZXIvcGVyZm9ybWFuY2UvZHluL2R5bi50cyIsICIuLi8uLi9zcmMvd3JhcHBlci9wZXJmb3JtYW5jZS9keW4vZGVfYWxsb2MudHMiLCAiLi4vLi4vc3JjL3dyYXBwZXIvcGVyZm9ybWFuY2UvZHluL2FsbG9jLnRzIiwgIi4uLy4uL3NyYy93cmFwcGVyL29wdGlvbi91dGlsL3Nob3J0aGFuZC50cyIsICIuLi8uLi9zcmMvd3JhcHBlci9vcHRpb24vc29tZS9zb21lLnRzIiwgIi4uLy4uL3NyYy93cmFwcGVyL29wdGlvbi9ub25lL25vbmUudHMiLCAiLi4vLi4vc3JjL3dyYXBwZXIvZnB2L2Zwdi50cyIsICIuLi8uLi9zcmMvdXRpbC90b19zdHJpbmcudHMiLCAiLi4vLi4vc3JjL3V0aWwvY2xvbmUudHMiLCAiLi4vLi4vc3JjL3R5cGUvdHJhaXQvZ3VhcmQvaXNfYnJhbmRlZF9zdHJ1Y3QudHMiLCAiLi4vLi4vc3JjL3R5cGUvdHJhaXQvZ3VhcmQvaXNfYnJhbmRlZC50cyIsICIuLi8uLi9zcmMvZXJyb3IvcGFuaWMudHMiLCAiLi4vLi4vc3JjL2Vycm9yL2Vycm9yX2hhbmRsZXIudHMiLCAiLi4vLi4vc3JjL2Vycm9yL2Vycm9yLnRzIiwgIi4uLy4uL3NyYy9lcnJvci9kb20tZXJyb3IvZXhjZXB0aW9uL2RvbV9leGNlcHRpb25fbmFtZV90b19kb21fZXJyb3JfY29kZV9tYXAudHMiLCAiLi4vLi4vc3JjL2Vycm9yL2RvbS1lcnJvci9leGNlcHRpb24vZG9tX2V4Y2VwdGlvbl9jb2RlX3RvX2RvbV9lcnJvcl9jb2RlX21hcC50cyIsICIuLi8uLi9zcmMvZXJyb3IvZG9tLWVycm9yL2RvbV9lcnJvci50cyIsICIuLi8uLi9zcmMvY29uc3RhbnQvaW50ZXJuYWxfZXJyb3JfbWVzc2FnZS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiZXhwb3J0IHR5cGUgeyBBc3luY0Nsb3N1cmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBBc3luY0Z1bmN0aW9uIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB0eXBlIHsgQ2xvc3VyZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IEZ1bmN0aW9uIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB0eXBlIHsgTWF5YmVBc3luYyB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IFR5cGVHdWFyZCB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IEJyYW5kZWQgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBCcmFuZGVkU3RydWN0IH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB0eXBlIHsgUGFyc2FibGUgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBTZXJpYWxpemFibGUgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB7IEVycm9yIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IHBhbmljIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgdHlwZSB7IERvbUVycm9yQ29kZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgeyBEb21FcnJvciB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHsgY2xvbmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgdG9TdHJpbmcgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB7IGlzQnJhbmRlZCB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgeyBpc0JyYW5kZWRTdHJ1Y3QgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB0eXBlIHsgUmVzdWx0SGFuZGxlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IFJlc3VsdCB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IE9wdGlvbkhhbmRsZXIgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBPcHRpb24gfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBFcnJPZkFsbCB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IEVyck9mIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB0eXBlIHsgRXJyVmFsT2ZBbGwgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBFcnJWYWxPZiB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IE9rT2ZBbGwgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBPa09mIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB0eXBlIHsgT2tWYWxPZkFsbCB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgdHlwZSB7IE9rVmFsT2YgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBTb21lT2ZBbGwgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBTb21lT2YgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBTb21lVmFsT2ZBbGwgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBTb21lVmFsT2YgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgRXJyIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IE9rIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IE5vbmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgU29tZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgeyBVbnNhZmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgYWxsUiB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgeyBhbnlSIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IHdyYXAgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgd3JhcEFzeW5jIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IGZsYWcgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgYWxsTyB9IGZyb20gXCJAcm9vdFwiO1xyXG5leHBvcnQgeyBhbnlPIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgeyBGcHYgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB0eXBlIHsgRHluQ29uc3RydWN0b3IgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBEeW5XcmFwcGVyIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IEFsbG9jIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IERlQWxsb2MgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHsgRHluIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgdHlwZSB7IFJlZkRlbFRhc2sgfSBmcm9tIFwiQHJvb3RcIjtcclxuZXhwb3J0IHR5cGUgeyBSZWZUYXNrIH0gZnJvbSBcIkByb290XCI7XHJcbmV4cG9ydCB7IFJlZiB9IGZyb20gXCJAcm9vdFwiOyIsICJcInJhaXNlIDFcIjtcclxuXHJcbmltcG9ydCB0eXBlIHsgRXJyVmFsT2ZBbGwgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBPa1ZhbE9mQWxsIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgUmVzdWx0SGFuZGxlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IENsb3N1cmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBBc3luY0Nsb3N1cmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgT2sgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IFVuc2FmZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIEEgd3JhcHBlciB0aGF0IGVuY2Fwc3VsYXRlcyBlaXRoZXIgYSBzdWNjZXNzZnVsIG91dGNvbWUgYE9rPFQxPmAgb3IgYSBmYWlsdXJlIGBFcnI8VDI+YC5cclxuICogXHJcbiAqICoqKkV4YW1wbGUqKipcclxuICogYGBgdHNcclxuICogIGZ1bmN0aW9uIGZvbygpOiBSZXN1bHQ8MjAwbiwgNDA0bj4ge1xyXG4gKiAgICAgIGlmICgpIHJldHVybiBPaygyMDBuKTtcclxuICogICAgICByZXR1cm4gRXJyKDQwNG4pO1xyXG4gKiAgfVxyXG4gKiBcclxuICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPiA9IGZvbygpO1xyXG4gKiAgaWYgKHJlc3VsdC5vaygpKSB7XHJcbiAqICAgICAgbGV0IHZhbHVlOiAyMDBuID0gcmVzdWx0LnVubG9jaygpO1xyXG4gKiAgICAgIC8vLyAuLi5cclxuICogIH1cclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgdHlwZSBSZXN1bHQ8VDEsIFQyPiA9IE9rPFQxPiB8IEVycjxUMj47XHJcblxyXG5leHBvcnQgY29uc3QgUmVzdWx0OiBSZXN1bHRIYW5kbGVyID0gKCgpID0+IHtcclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIHJldHVybiB7IGFsbCwgYW55LCB3cmFwLCB3cmFwQXN5bmMgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhbGw8VDEgZXh0ZW5kcyBBcnJheTxSZXN1bHQ8dW5rbm93biwgdW5rbm93bj4+PihyZXN1bHRzOiBUMSk6IFJlc3VsdDxPa1ZhbE9mQWxsPFQxPiwgRXJyVmFsT2ZBbGw8VDE+W251bWJlcl0+IHtcclxuICAgICAgICBsZXQgb3V0OiBBcnJheTx1bmtub3duPiA9IFtdO1xyXG4gICAgICAgIGxldCBpOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHdoaWxlIChpIDwgcmVzdWx0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdDogUmVzdWx0PHVua25vd24sIHVua25vd24+ID0gcmVzdWx0cy5hdChpKSE7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQub2soKSkgb3V0LnB1c2gocmVzdWx0LnVubG9jaygpKTtcclxuICAgICAgICAgICAgZWxzZSByZXR1cm4gcmVzdWx0IGFzIEVycjxFcnJWYWxPZkFsbDxUMT5bbnVtYmVyXT47XHJcbiAgICAgICAgICAgIGkgKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBPaygob3V0IGFzIE9rVmFsT2ZBbGw8VDE+KSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYW55PFQxIGV4dGVuZHMgQXJyYXk8UmVzdWx0PHVua25vd24sIHVua25vd24+Pj4ocmVzdWx0czogVDEpOiBSZXN1bHQ8T2tWYWxPZkFsbDxUMT5bbnVtYmVyXSwgRXJyVmFsT2ZBbGw8VDE+PiB7XHJcbiAgICAgICAgbGV0IG91dDogQXJyYXk8dW5rbm93bj4gPSBbXTtcclxuICAgICAgICBsZXQgaTogbnVtYmVyID0gMDtcclxuICAgICAgICB3aGlsZSAoaSA8IHJlc3VsdHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGxldCB3cmFwcGVyOiBSZXN1bHQ8dW5rbm93biwgdW5rbm93bj4gPSByZXN1bHRzLmF0KGkpITtcclxuICAgICAgICAgICAgaWYgKHdyYXBwZXIub2soKSkgcmV0dXJuIHdyYXBwZXIgYXMgT2s8T2tWYWxPZkFsbDxUMT5bbnVtYmVyXT47XHJcbiAgICAgICAgICAgIGVsc2Ugb3V0LnB1c2god3JhcHBlci5pbnNwZWN0KCkpO1xyXG4gICAgICAgICAgICBpICsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gRXJyKChvdXQgYXMgRXJyVmFsT2ZBbGw8VDE+KSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHdyYXA8VDEsIFQyLCBUMyBleHRlbmRzIEFycmF5PFQyPj4odGFzazogQ2xvc3VyZTxUMywgVDE+LCAuLi5wYXlsb2FkOiBUMyk6IFJlc3VsdDxUMSwgVW5zYWZlPiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIE9rKHRhc2soLi4ucGF5bG9hZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gRXJyKFVuc2FmZShlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGZ1bmN0aW9uIHdyYXBBc3luYzxUMSwgVDIsIFQzIGV4dGVuZHMgQXJyYXk8VDI+Pih0YXNrOiBBc3luY0Nsb3N1cmU8VDMsIFQxPiwgLi4ucGF5bG9hZDogVDMpOiBQcm9taXNlPFJlc3VsdDxUMSwgVW5zYWZlPj4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBPaygoYXdhaXQgdGFzayguLi5wYXlsb2FkKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gRXJyKFVuc2FmZShlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpOyIsICJcInJhaXNlIDFcIjtcclxuXHJcbmltcG9ydCB0eXBlIHsgT3B0aW9uSGFuZGxlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IFNvbWVWYWxPZkFsbCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBTb21lIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IE5vbmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgaXNCcmFuZGVkIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogQSB0eXBlIHRoYXQgcmVwcmVzZW50cyBhbiBvcHRpb25hbCB2YWx1ZSwgZW5jYXBzdWxhdGluZyBlaXRoZXIgYSB2YWx1ZSBgU29tZWAgXHJcbiAqIG9yIHRoZSBhYnNlbmNlIG9mIGEgdmFsdWUgYE5vbmVgLlxyXG4gKi9cclxuZXhwb3J0IHR5cGUgT3B0aW9uPFQxPiA9IFNvbWU8VDE+IHwgTm9uZTtcclxuXHJcbmV4cG9ydCBjb25zdCBPcHRpb246IE9wdGlvbkhhbmRsZXIgPSAoKCkgPT4ge1xyXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqLyB7XHJcbiAgICAgICAgcmV0dXJuIHsgZmxhZywgYWxsLCBhbnkgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmbGFnPFQxPih2YWx1ZTogVDEgfCBudWxsIHwgdW5kZWZpbmVkKTogT3B0aW9uPFQxPiB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gTm9uZTtcclxuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIE5vbmU7XHJcbiAgICAgICAgcmV0dXJuIFNvbWUoKHZhbHVlIGFzIFQxKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWxsPFQxIGV4dGVuZHMgQXJyYXk8T3B0aW9uPHVua25vd24+Pj4oLi4ub3B0aW9uczogVDEpOiBPcHRpb248U29tZVZhbE9mQWxsPFQxPj4ge1xyXG4gICAgICAgIGxldCBvdXQ6IEFycmF5PHVua25vd24+ID0gW107XHJcbiAgICAgICAgbGV0IGk6IG51bWJlciA9IDA7XHJcbiAgICAgICAgd2hpbGUgKGkgPCBvcHRpb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBsZXQgb3B0aW9uOiBPcHRpb248dW5rbm93bj4gPSBvcHRpb25zLmF0KGkpITtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbi5ub25lKCkpIHJldHVybiBvcHRpb24gYXMgTm9uZTtcclxuICAgICAgICAgICAgb3V0LnB1c2gob3B0aW9uLnVubG9jaygpKTtcclxuICAgICAgICAgICAgaSArKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFNvbWUob3V0IGFzIFNvbWVWYWxPZkFsbDxUMT4pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFueTxUMSBleHRlbmRzIEFycmF5PE9wdGlvbjx1bmtub3duPj4+KC4uLm9wdGlvbnM6IFQxKTogT3B0aW9uPFNvbWVWYWxPZkFsbDxUMT5bbnVtYmVyXT4ge1xyXG4gICAgICAgIGxldCBpOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHdoaWxlIChpIDwgb3B0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbGV0IG9wdGlvbjogT3B0aW9uPHVua25vd24+ID0gb3B0aW9ucy5hdChpKSE7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb24uc29tZSgpKSByZXR1cm4gb3B0aW9uIGFzIFNvbWU8U29tZVZhbE9mQWxsPFQxPltudW1iZXJdPjtcclxuICAgICAgICAgICAgaSArKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE5vbmU7XHJcbiAgICB9XHJcbn0pKCk7IiwgImltcG9ydCB0eXBlIHsgV3JhcHBlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IFBhcnNhYmxlIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgVHlwZUd1YXJkIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgT3B0aW9uIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IFNvbWUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgTm9uZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgVW5zYWZlID1cclxuICAgICYgV3JhcHBlcjx1bmtub3duPlxyXG4gICAgJiBQYXJzYWJsZTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBVbnNhZmUoX3ZhbHVlOiB1bmtub3duKTogVW5zYWZlIHtcclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVud3JhcCxcclxuICAgICAgICAgICAgcGFyc2UsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1bndyYXAoKTogdW5rbm93biB7XHJcbiAgICAgICAgcmV0dXJuIF92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZTxUMT4oZ3VhcmQ6IFR5cGVHdWFyZDxUMT4pOiBPcHRpb248VDE+IHtcclxuICAgICAgICBpZiAoIWd1YXJkKHVud3JhcCgpKSkgcmV0dXJuIE5vbmU7XHJcbiAgICAgICAgcmV0dXJuIFNvbWUoKHVud3JhcCgpIGFzIFQxKSk7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgY29uc3QgYWxsUiA9IFJlc3VsdC5hbGw7XHJcbmV4cG9ydCBjb25zdCBhbnlSID0gUmVzdWx0LmFueTtcclxuZXhwb3J0IGNvbnN0IHdyYXAgPSBSZXN1bHQud3JhcDtcclxuZXhwb3J0IGNvbnN0IHdyYXBBc3luYyA9IFJlc3VsdC53cmFwQXN5bmM7IiwgImltcG9ydCB0eXBlIHsgRnVuY3Rpb24gfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBVbmxvY2tlZFdyYXBwZXIgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBPcHRpb24gfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBSZXN1bHQgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyb3IgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IFNvbWUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgcGFuaWMgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB0eXBlIE9rPFQxPiA9IFxyXG4gICAgJiBVbmxvY2tlZFdyYXBwZXI8VDE+XHJcbiAgICAmIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBgb2tgIGNoZWNrcyBpZiB0aGUgY3VycmVudCBpbnN0YW5jZSBpcyBgT2tgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPjtcclxuICAgICAqICBpZiAocmVzdWx0Lm9rKCkpIHtcclxuICAgICAqICAgICAgbGV0IHZhbHVlOiAyMDBuID0gcmVzdWx0LnVubG9jaygpO1xyXG4gICAgICogICAgICAvLy8gLi4uXHJcbiAgICAgKiAgfVxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIG9rKCk6IHRoaXMgaXMgT2s8VDE+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIGBlcnJgIGNoZWNrcyBpZiB0aGUgY3VycmVudCBpbnN0YW5jZSBpcyBgRXJyYC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj47XHJcbiAgICAgKiAgaWYgKHJlc3VsdC5lcnIoKSkge1xyXG4gICAgICogICAgICBsZXQgZTogNDA0biA9IHJlc3VsdC5pbnNwZWN0KCk7XHJcbiAgICAgKiAgICAgIC8vLyAuLi5cclxuICAgICAqICB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgZXJyKCk6IHRoaXMgaXMgRXJyPHVua25vd24+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIGBleHBlY3RgIHRlcm1pbmF0ZXMgd2l0aCBgcGFuaWNgIGlmIHRoZSBgUmVzdWx0YCBpcyBgRXJyYC5cclxuICAgICAqIFxyXG4gICAgICogKioqV2FybmluZyoqKlxyXG4gICAgICogUmVzZXJ2ZWQgZm9yIGRlYnVnZ2luZyBvciB1bnJlY292ZXJhYmxlIGVycm9ycy5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj47XHJcbiAgICAgKiAgbGV0IHN0YXR1czogMjAwbiA9IHJlc3VsdC5leHBlY3QoXCJUaGlzIGlzIHVuZXhwZWN0ZWQgYW5kIHVucmVjb3ZlcmFibGUuXCIpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGV4cGVjdChfXzogdW5rbm93bik6IFQxO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIEVuc3VyZXMgdGhhdCB0aGUgYFJlc3VsdGAgaXMgYW4gYEVycmAgYW5kIHJldHJpZXZlcyB0aGUgZXJyb3IgdmFsdWUgaW5zaWRlLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipXYXJuaW5nKioqXHJcbiAgICAgKiBSZXNlcnZlZCBmb3IgZGVidWdnaW5nIG9yIHVucmVjb3ZlcmFibGUgZXJyb3JzLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPjtcclxuICAgICAqICBsZXQgc3RhdHVzOiA0MDRuID0gcmVzdWx0LmV4cGVjdEVycihcIlRoaXMgaXMgdW5leHBlY3RlZCBhbmQgdW5yZWNvdmVyYWJsZS5cIik7XHJcbiAgICAgKiBgYGBcclxuICAgICovXHJcbiAgICBleHBlY3RFcnIobWVzc2FnZTogc3RyaW5nKTogbmV2ZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogUmV0cmlldmVzIHRoZSB2YWx1ZSBvZiBhbiBgT2tgLCBvciBmYWxscyBiYWNrIHRvIHRoZSBwcm92aWRlZCB2YWx1ZSBpZiBpdFx1MjAxOXMgYW4gYEVycmAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gRXJyKDQwNG4pO1xyXG4gICAgICogIGxldCBzdGF0dXM6IDIwMG4gPSByZXN1bHQudW5sb2NrT3IoMjAwbik7XHJcbiAgICAgKiAgY29uc29sZS5sb2coc3RhdHVzKTsgLy8vIDIwMG4uXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgdW5sb2NrT3IoX186IHVua25vd24pOiBUMTtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBSZWNvdmVycyBmcm9tIHRoZSBjdXJyZW50IGVycm9yIGJ5IGFwcGx5aW5nIGEgcmVjb3ZlcnkgZnVuY3Rpb24sIHRyYW5zZm9ybWluZyB0aGUgYEVycmAgaW50byBhbiBgT2tgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPiA9IEVycig0MDRuKTtcclxuICAgICAqICBsZXQgc3RhdHVzOiAyMDBuID0gcmVzdWx0XHJcbiAgICAgKiAgICAgIC5yZWNvdmVyKCgpID0+IHtcclxuICAgICAqICAgICAgICAgIHJldHVybiAyMDBuO1xyXG4gICAgICogICAgICB9KVxyXG4gICAgICogICAgICAudW5sb2NrKCk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgcmVjb3ZlcihfXzogdW5rbm93bik6IE9rPFQxPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBBcHBsaWVzIGEgdHJhbnNmb3JtYXRpb24gdG8gdGhlIGBPa2AgdmFsdWUgYW5kIHJldHVybnMgYW4gYEVycmAgaW5zdGFuY2Ugd2l0aCB0aGUgdHJhbnNmb3JtZWQgdmFsdWUuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gT2soMjAwbik7XHJcbiAgICAgKiAgbGV0IGU6IDQwNG4gPSByZXN1bHRcclxuICAgICAqICAgICAgLmRlZ3JhZGUoKCkgPT4ge1xyXG4gICAgICogICAgICAgICAgcmV0dXJuIDQwNG47XHJcbiAgICAgKiAgICAgIH0pXHJcbiAgICAgKiAgICAgIC5pbnNwZWN0KCk7XHJcbiAgICAgKiAgY29uc29sZS5sb2coZSk7IC8vLyA0MDRuLlxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGRlZ3JhZGU8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBUMj4pOiBFcnI8VDI+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIENoYWlucyBhbiB0YXNrIHVudGlsIHRoZSBmaXJzdCBgRXJyYCBpcyBlbmNvdW50ZXJlZC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj4gPSBFcnIoNDA0bik7XHJcbiAgICAgKiAgcmVzdWx0XHJcbiAgICAgKiAgICAgIC5hbmQodmFsdWUgPT4ge1xyXG4gICAgICogICAgICAgICAgLy8vIFRhc2sgaXMgc2tpcHBlZCBiZWNhdXNlIGBSZXN1bHRgIGlzIGFuIGBFcnJgLlxyXG4gICAgICogICAgICAgICAgLy8vIC4uLlxyXG4gICAgICogICAgICAgICAgcmV0dXJuIE9rKHZhbHVlICsgMW4pO1xyXG4gICAgICogICAgICB9KVxyXG4gICAgICogICAgICAuYW5kKHZhbHVlID0+IHtcclxuICAgICAqICAgICAgICAgIC8vLyBUYXNrIGlzIHNraXBwZWQgYmVjYXVzZSBgUmVzdWx0YCBpcyBhbiBgRXJyYC5cclxuICAgICAqICAgICAgICAgIC8vLyAuLi5cclxuICAgICAqICAgICAgfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgYW5kPFQyPih0YXNrOiBGdW5jdGlvbjxUMSwgT2s8VDI+Pik6IE9rPFQyPjtcclxuICAgIGFuZDxUMj4odGFzazogRnVuY3Rpb248VDEsIEVycjxUMj4+KTogUmVzdWx0PFQxLCBUMj47XHJcbiAgICBhbmQ8VDIsIFQzPih0YXNrOiBGdW5jdGlvbjxUMSwgUmVzdWx0PFQyLCBUMz4+KTogUmVzdWx0PFQyLCBUMz47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogVHJhbnNmb3JtcyB0aGUgYE9rYCB2YWx1ZSBpZiBwcmVzZW50LCBidXQgaWYgdGhpcyBpcyBhbHJlYWR5IGFuIGBFcnJgLCBpdCByZW1haW5zIHVuY2hhbmdlZC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0MDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gT2soMjAwbik7XHJcbiAgICAgKiAgbGV0IHJlc3VsdDE6IFJlc3VsdDwyMDFuLCA0MDRuPiA9IHJlc3VsdC5tYXAodmFsdWUgPT4ge1xyXG4gICAgICogICAgICAvLy8gVGFzayBpcyBydW4gYmVjYXVzZSBgUmVzdWx0YCBpcyBgT2tgLlxyXG4gICAgICogICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgIHJldHVybiB2YWx1ZSArIDFuO1xyXG4gICAgICogIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIG1hcDxUMj4odGFzazogRnVuY3Rpb248VDEsIFQyPik6IE9rPFQyPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBUcmFuc2Zvcm1zIHRoZSBlcnJvciBjb250YWluZWQgaW4gdGhlIGBFcnJgIHVzaW5nIHRoZSBwcm92aWRlZCBgdGFza2AgZnVuY3Rpb24uXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gRXJyKDQwNG4pO1xyXG4gICAgICogIHJlc3VsdFxyXG4gICAgICogICAgICAubWFwRXJyKGUgPT4ge1xyXG4gICAgICogICAgICAgICAgcmV0dXJuIGUgKyAxbjtcclxuICAgICAqICAgICAgfSlcclxuICAgICAqICAgICAgLmluc3BlY3QoKTsgLy8vIDQwNW4uXHJcbiAgICAgKiBgYGBcclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj4gPSBPaygyMDBuKTtcclxuICAgICAqICByZXN1bHRcclxuICAgICAqICAgICAgLm1hcEVycihlID0+IHtcclxuICAgICAqICAgICAgICAgIC8vLyBUYXNrIGlzIHJ1biBiZWNhdXNlIGBSZXN1bHRgIGlzIGBPa2AuXHJcbiAgICAgKiAgICAgICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIG1hcEVycihfXzogdW5rbm93bik6IE9rPFQxPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBDb252ZXJ0cyBhIGBSZXN1bHQ8VDEsIFQyPmAgdG8gYW4gYE9wdGlvbjxUMT5gLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPjtcclxuICAgICAqICBsZXQgb3B0aW9uOiBPcHRpb248MjAwbj4gPSByZXN1bHQudG9PcHRpb24oKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICB0b09wdGlvbigpOiBPcHRpb248VDE+O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIFRoZSBzdWNjZXNzZnVsIHZhbHVlIHdpdGhpbiBhIGBSZXN1bHRgLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIE9rPFQxPihfdmFsdWU6IFQxKTogT2s8VDE+IHtcclxuICAgIGxldCBfdGhpczogT2s8VDE+O1xyXG5cclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIHJldHVybiBfdGhpcyA9IHtcclxuICAgICAgICAgICAgb2ssXHJcbiAgICAgICAgICAgIGVycixcclxuICAgICAgICAgICAgZXhwZWN0LFxyXG4gICAgICAgICAgICBleHBlY3RFcnIsXHJcbiAgICAgICAgICAgIHVubG9jayxcclxuICAgICAgICAgICAgdW5sb2NrT3IsXHJcbiAgICAgICAgICAgIGFuZCxcclxuICAgICAgICAgICAgbWFwLFxyXG4gICAgICAgICAgICBtYXBFcnIsXHJcbiAgICAgICAgICAgIHJlY292ZXIsXHJcbiAgICAgICAgICAgIGRlZ3JhZGUsXHJcbiAgICAgICAgICAgIHRvT3B0aW9uXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvaygpOiB0aGlzIGlzIE9rPFQxPiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXJyKCk6IHRoaXMgaXMgRXJyPHVua25vd24+IHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXhwZWN0KF9fOiB1bmtub3duKTogVDEge1xyXG4gICAgICAgIHJldHVybiB1bmxvY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBleHBlY3RFcnIobWVzc2FnZTogc3RyaW5nKTogbmV2ZXIge1xyXG4gICAgICAgIHBhbmljKEVycm9yKFwiUEFOSUNcIiwgbWVzc2FnZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVubG9jaygpOiBUMSB7XHJcbiAgICAgICAgcmV0dXJuIF92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1bmxvY2tPcihfXzogdW5rbm93bik6IFQxIHtcclxuICAgICAgICByZXR1cm4gdW5sb2NrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYW5kPFQyPih0YXNrOiBGdW5jdGlvbjxUMSwgT2s8VDI+Pik6IE9rPFQyPjtcclxuICAgIGZ1bmN0aW9uIGFuZDxUMj4odGFzazogRnVuY3Rpb248VDEsIEVycjxUMj4+KTogUmVzdWx0PFQxLCBUMj47XHJcbiAgICBmdW5jdGlvbiBhbmQ8VDIsIFQzPih0YXNrOiBGdW5jdGlvbjxUMSwgUmVzdWx0PFQyLCBUMz4+KTogUmVzdWx0PFQyLCBUMz47XHJcbiAgICBmdW5jdGlvbiBhbmQ8VDIsIFQzPih0YXNrOiBGdW5jdGlvbjxUMSwgUmVzdWx0PFQyLCBUMz4+KTogUmVzdWx0PFQyLCBUMz4ge1xyXG4gICAgICAgIHJldHVybiB0YXNrKHVubG9jaygpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYXA8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBUMj4pOiBPazxUMj4ge1xyXG4gICAgICAgIHJldHVybiBPayh0YXNrKHVubG9jaygpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbWFwRXJyKF9fOiB1bmtub3duKTogT2s8VDE+IHtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVjb3ZlcihfXzogdW5rbm93bik6IE9rPFQxPiB7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRlZ3JhZGU8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBUMj4pOiBFcnI8VDI+IHtcclxuICAgICAgICByZXR1cm4gRXJyKHRhc2sodW5sb2NrKCkpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b09wdGlvbigpOiBPcHRpb248VDE+IHtcclxuICAgICAgICByZXR1cm4gU29tZSh1bmxvY2soKSk7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHR5cGUgeyBGdW5jdGlvbiB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IE9wdGlvbiB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBFcnJvckhhbmRsZXIgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyb3IgYXMgRXJyb3IwIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IE9rIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IE5vbmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgU29tZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBwYW5pYyB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRXJyPFQxPiA9IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBgb2tgIGNoZWNrcyBpZiB0aGUgY3VycmVudCBpbnN0YW5jZSBpcyBgT2tgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPjtcclxuICAgICAqICBpZiAocmVzdWx0Lm9rKCkpIHtcclxuICAgICAqICAgICAgbGV0IHZhbHVlOiAyMDBuID0gcmVzdWx0LnVubG9jaygpO1xyXG4gICAgICogICAgICAvLy8gLi4uXHJcbiAgICAgKiAgfVxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIG9rKCk6IHRoaXMgaXMgT2s8dW5rbm93bj47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogYGVycmAgY2hlY2tzIGlmIHRoZSBjdXJyZW50IGluc3RhbmNlIGlzIGBFcnJgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPjtcclxuICAgICAqICBpZiAocmVzdWx0LmVycigpKSB7XHJcbiAgICAgKiAgICAgIGxldCBlOiA0MDRuID0gcmVzdWx0Lmluc3BlY3QoKTtcclxuICAgICAqICAgICAgLy8vIC4uLlxyXG4gICAgICogIH1cclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBlcnIoKTogdGhpcyBpcyBFcnI8VDE+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFJldHJpZXZlcyB0aGUgZXJyb3IgdmFsdWUgZW5jYXBzdWxhdGVkIGJ5IHRoZSBgRXJyYCBpbnN0YW5jZS5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj47XHJcbiAgICAgKiAgaWYgKHJlc3VsdC5lcnIoKSkge1xyXG4gICAgICogICAgICBsZXQgZTogNDA0biA9IHJlc3VsdC5pbnNwZWN0KCk7XHJcbiAgICAgKiAgICAgIC8vLyAuLi5cclxuICAgICAqICB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgaW5zcGVjdCgpOiBUMTtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIHN0YWNrIHRyYWNlIG9mIHRoZSBlcnJvciwgZ2VuZXJhdGVkIGF0IHRoZSB0aW1lIHRoZSBgRXJyYCBpbnN0YW5jZSB3YXMgY3JlYXRlZC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj47XHJcbiAgICAgKiAgaWYgKHJlc3VsdC5lcnIoKSkge1xyXG4gICAgICogICAgICByZXN1bHRcclxuICAgICAqICAgICAgICAgIC5zdGFjaygpXHJcbiAgICAgKiAgICAgICAgICAubGluZXMoKVxyXG4gICAgICogICAgICAgICAgLmZvckVhY2gobGluZSA9PiB7XHJcbiAgICAgKiAgICAgICAgICAgICAgbGV0IGxpbmVSZXByZXNlbnRhdGlvbjogc3RyaW5nID0gbGluZS50b1N0cmluZygpO1xyXG4gICAgICogICAgICAgICAgICAgIC8vLyAuLi5cclxuICAgICAqICAgICAgICAgICAgICByZXR1cm47IFxyXG4gICAgICogICAgICAgICAgfSk7XHJcbiAgICAgKiAgfVxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHN0YWNrKCk6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBgZXhwZWN0YCB0ZXJtaW5hdGVzIHdpdGggYHBhbmljYCBpZiB0aGUgYFJlc3VsdGAgaXMgYEVycmAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKldhcm5pbmcqKipcclxuICAgICAqIFJlc2VydmVkIGZvciBkZWJ1Z2dpbmcgb3IgdW5yZWNvdmVyYWJsZSBlcnJvcnMuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+O1xyXG4gICAgICogIGxldCBzdGF0dXM6IDIwMG4gPSByZXN1bHQuZXhwZWN0KFwiVGhpcyBpcyB1bmV4cGVjdGVkIGFuZCB1bnJlY292ZXJhYmxlLlwiKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBleHBlY3QobWVzc2FnZTogc3RyaW5nKTogbmV2ZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogRW5zdXJlcyB0aGF0IHRoZSBgUmVzdWx0YCBpcyBhbiBgRXJyYCBhbmQgcmV0cmlldmVzIHRoZSBlcnJvciB2YWx1ZSBpbnNpZGUuXHJcbiAgICAgKiBcclxuICAgICAqICoqKldhcm5pbmcqKipcclxuICAgICAqIFJlc2VydmVkIGZvciBkZWJ1Z2dpbmcgb3IgdW5yZWNvdmVyYWJsZSBlcnJvcnMuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+O1xyXG4gICAgICogIGxldCBzdGF0dXM6IDQwNG4gPSByZXN1bHQuZXhwZWN0RXJyKFwiVGhpcyBpcyB1bmV4cGVjdGVkIGFuZCB1bnJlY292ZXJhYmxlLlwiKTtcclxuICAgICAqIGBgYFxyXG4gICAgKi9cclxuICAgIGV4cGVjdEVycihfXzogdW5rbm93bik6IFQxO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFJldHJpZXZlcyB0aGUgdmFsdWUgb2YgYW4gYE9rYCwgb3IgZmFsbHMgYmFjayB0byB0aGUgcHJvdmlkZWQgdmFsdWUgaWYgaXRcdTIwMTlzIGFuIGBFcnJgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPiA9IEVycig0MDRuKTtcclxuICAgICAqICBsZXQgc3RhdHVzOiAyMDBuID0gcmVzdWx0LnVubG9ja09yKDIwMG4pO1xyXG4gICAgICogIGNvbnNvbGUubG9nKHN0YXR1cyk7IC8vLyAyMDBuLlxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHVubG9ja09yPFQyPihmYWxsYmFjazogVDIpOiBUMjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBDaGFpbnMgYW4gdGFzayB1bnRpbCB0aGUgZmlyc3QgYEVycmAgaXMgZW5jb3VudGVyZWQuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gRXJyKDQwNG4pO1xyXG4gICAgICogIHJlc3VsdFxyXG4gICAgICogICAgICAuYW5kKHZhbHVlID0+IHtcclxuICAgICAqICAgICAgICAgIC8vLyBUYXNrIGlzIHNraXBwZWQgYmVjYXVzZSBgUmVzdWx0YCBpcyBhbiBgRXJyYC5cclxuICAgICAqICAgICAgICAgIC8vLyAuLi5cclxuICAgICAqICAgICAgICAgIHJldHVybiBPayh2YWx1ZSArIDFuKTtcclxuICAgICAqICAgICAgfSlcclxuICAgICAqICAgICAgLmFuZCh2YWx1ZSA9PiB7XHJcbiAgICAgKiAgICAgICAgICAvLy8gVGFzayBpcyBza2lwcGVkIGJlY2F1c2UgYFJlc3VsdGAgaXMgYW4gYEVycmAuXHJcbiAgICAgKiAgICAgICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGFuZChfXzogdW5rbm93bik6IEVycjxUMT47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogVHJhbnNmb3JtcyB0aGUgYE9rYCB2YWx1ZSBpZiBwcmVzZW50LCBidXQgaWYgdGhpcyBpcyBhbHJlYWR5IGFuIGBFcnJgLCBpdCByZW1haW5zIHVuY2hhbmdlZC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0MDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gT2soMjAwbik7XHJcbiAgICAgKiAgbGV0IHJlc3VsdDE6IFJlc3VsdDwyMDFuLCA0MDRuPiA9IHJlc3VsdC5tYXAodmFsdWUgPT4ge1xyXG4gICAgICogICAgICAvLy8gVGFzayBpcyBydW4gYmVjYXVzZSBgUmVzdWx0YCBpcyBgT2tgLlxyXG4gICAgICogICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgIHJldHVybiB2YWx1ZSArIDFuO1xyXG4gICAgICogIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIG1hcChfXzogdW5rbm93bik6IEVycjxUMT47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogVHJhbnNmb3JtcyB0aGUgZXJyb3IgY29udGFpbmVkIGluIHRoZSBgRXJyYCB1c2luZyB0aGUgcHJvdmlkZWQgYHRhc2tgIGZ1bmN0aW9uLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPiA9IEVycig0MDRuKTtcclxuICAgICAqICByZXN1bHRcclxuICAgICAqICAgICAgLm1hcEVycihlID0+IHtcclxuICAgICAqICAgICAgICAgIHJldHVybiBlICsgMW47XHJcbiAgICAgKiAgICAgIH0pXHJcbiAgICAgKiAgICAgIC5pbnNwZWN0KCk7IC8vLyA0MDVuLlxyXG4gICAgICogYGBgXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gT2soMjAwbik7XHJcbiAgICAgKiAgcmVzdWx0XHJcbiAgICAgKiAgICAgIC5tYXBFcnIoZSA9PiB7XHJcbiAgICAgKiAgICAgICAgICAvLy8gVGFzayBpcyBydW4gYmVjYXVzZSBgUmVzdWx0YCBpcyBgT2tgLlxyXG4gICAgICogICAgICAgICAgLy8vIC4uLlxyXG4gICAgICogICAgICB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBtYXBFcnI8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBUMj4pOiBFcnI8VDI+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFJlY292ZXJzIGZyb20gdGhlIGN1cnJlbnQgZXJyb3IgYnkgYXBwbHlpbmcgYSByZWNvdmVyeSBmdW5jdGlvbiwgdHJhbnNmb3JtaW5nIHRoZSBgRXJyYCBpbnRvIGFuIGBPa2AuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlc3VsdDogUmVzdWx0PDIwMG4sIDQwNG4+ID0gRXJyKDQwNG4pO1xyXG4gICAgICogIGxldCBzdGF0dXM6IDIwMG4gPSByZXN1bHRcclxuICAgICAqICAgICAgLnJlY292ZXIoKCkgPT4ge1xyXG4gICAgICogICAgICAgICAgcmV0dXJuIDIwMG47XHJcbiAgICAgKiAgICAgIH0pXHJcbiAgICAgKiAgICAgIC51bmxvY2soKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICByZWNvdmVyPFQyPih0YXNrOiBGdW5jdGlvbjxUMSwgVDI+KTogT2s8VDI+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIEFwcGxpZXMgYSB0cmFuc2Zvcm1hdGlvbiB0byB0aGUgYE9rYCB2YWx1ZSBhbmQgcmV0dXJucyBhbiBgRXJyYCBpbnN0YW5jZSB3aXRoIHRoZSB0cmFuc2Zvcm1lZCB2YWx1ZS5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj4gPSBPaygyMDBuKTtcclxuICAgICAqICBsZXQgZTogNDA0biA9IHJlc3VsdFxyXG4gICAgICogICAgICAuZGVncmFkZSgoKSA9PiB7XHJcbiAgICAgKiAgICAgICAgICByZXR1cm4gNDA0bjtcclxuICAgICAqICAgICAgfSlcclxuICAgICAqICAgICAgLmluc3BlY3QoKTtcclxuICAgICAqICBjb25zb2xlLmxvZyhlKTsgLy8vIDQwNG4uXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgZGVncmFkZShfXzogdW5rbm93bik6IEVycjxUMT47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogQ29udmVydHMgYSBgUmVzdWx0PFQxLCBUMj5gIHRvIGFuIGBPcHRpb248VDE+YC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj47XHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+ID0gcmVzdWx0LnRvT3B0aW9uKCk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgdG9PcHRpb24oKTogT3B0aW9uPG5ldmVyPjtcclxufTtcclxuXHJcbi8qKlxyXG4gKiAqKipCcmllZioqKlxyXG4gKiBUaGUgZmFpbGVkIHN0YXRlIG9mIGEgYFJlc3VsdGAuXHJcbiAqIFxyXG4gKiAqKipXYXJuaW5nKioqXHJcbiAqIEFueSBvcGVyYXRpb24gYXR0ZW1wdGluZyB0byBhY2Nlc3MgYSBgUmVzdWx0YCBtdXN0IHNhZmVseSBoYW5kbGUgdGhlIGBFcnJgIHN0YXRlIG9yIHRlcm1pbmF0ZSB3aXRoIGFuIGVycm9yLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIEVycjxUMT4oX3ZhbHVlOiBUMSk6IEVycjxUMT47XHJcbmV4cG9ydCBmdW5jdGlvbiBFcnI8VDE+KF92YWx1ZTogVDEsIF9oYW5kbGVyOiBFcnJvckhhbmRsZXIpOiBFcnI8VDE+O1xyXG5leHBvcnQgZnVuY3Rpb24gRXJyPFQxPihcclxuICAgIF9wMDogVDEsXHJcbiAgICBfcDE6IEVycm9ySGFuZGxlciA9IEVycm9ySGFuZGxlclxyXG4pOiBFcnI8VDE+IHtcclxuICAgIGxldCBfdGhpczogRXJyPFQxPjtcclxuICAgIGxldCBfc3RhY2s6IHN0cmluZztcclxuICAgIGxldCBfdmFsdWU6IFQxO1xyXG4gICAgbGV0IF9oYW5kbGVyOiBFcnJvckhhbmRsZXI7XHJcbiAgICBcclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIF92YWx1ZSA9IF9wMDtcclxuICAgICAgICBfaGFuZGxlciA9IF9wMTtcclxuICAgICAgICBfc3RhY2sgPSBfaGFuZGxlci5wYXJzZVN0YWNrVHJhY2UoRXJyKTtcclxuICAgICAgICByZXR1cm4gX3RoaXMgPSB7XHJcbiAgICAgICAgICAgIG9rLFxyXG4gICAgICAgICAgICBlcnIsXHJcbiAgICAgICAgICAgIGluc3BlY3QsXHJcbiAgICAgICAgICAgIHN0YWNrLFxyXG4gICAgICAgICAgICBleHBlY3QsXHJcbiAgICAgICAgICAgIGV4cGVjdEVycixcclxuICAgICAgICAgICAgdW5sb2NrT3IsXHJcbiAgICAgICAgICAgIGFuZCxcclxuICAgICAgICAgICAgbWFwLFxyXG4gICAgICAgICAgICBtYXBFcnIsXHJcbiAgICAgICAgICAgIHJlY292ZXIsXHJcbiAgICAgICAgICAgIGRlZ3JhZGUsXHJcbiAgICAgICAgICAgIHRvT3B0aW9uXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvaygpOiB0aGlzIGlzIE9rPHVua25vd24+IHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXJyKCk6IHRoaXMgaXMgRXJyPFQxPiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5zcGVjdCgpOiBUMSB7XHJcbiAgICAgICAgcmV0dXJuIF92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzdGFjaygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBfc3RhY2s7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXhwZWN0KG1lc3NhZ2U6IHN0cmluZyk6IG5ldmVyIHtcclxuICAgICAgICBsZXQgZTogVDEgPSBpbnNwZWN0KCk7XHJcbiAgICAgICAgbGV0IHRyYW5zaWVudEVPOiBPcHRpb248RXJyb3IwPGFueSwgdW5rbm93bj4+ID0gTm9uZTtcclxuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgIGxldCBjdXN0b21FOiBFcnJvcjA8YW55LCB1bmtub3duPiA9IEVycm9yMCh7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiBlLm5hbWUudG9VcHBlckNhc2UoKSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRyYW5zaWVudEVPID0gU29tZShjdXN0b21FKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRyYW5zaWVudEVPLm5vbmUoKSkgX2hhbmRsZXIubWF0Y2hFcnJvcihlLCBlID0+IHtcclxuICAgICAgICAgICAgZS5tZXNzYWdlID0gZS5tZXNzYWdlLm1hcChtZXNzYWdlMCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTAgKyBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgXCJcXG5cIiArIFxyXG4gICAgICAgICAgICAgICAgXCJcXG4gICAgIFwiICsgXCJDb250ZXh0XCIgKyBcclxuICAgICAgICAgICAgICAgIFwiXFxuICAgICBcIiArIG1lc3NhZ2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0cmFuc2llbnRFTyA9IFNvbWUoZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgdHJhbnNpZW50RTogRXJyb3IwPGFueSwgdW5rbm93bj4gPSB0cmFuc2llbnRFT1xyXG4gICAgICAgICAgICAudG9SZXN1bHQodW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAucmVjb3ZlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gRXJyb3IwKHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiBcIlBBTklDXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC51bmxvY2soKTtcclxuICAgICAgICBwYW5pYyh0cmFuc2llbnRFKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBleHBlY3RFcnIoX186IHVua25vd24pOiBUMSB7XHJcbiAgICAgICAgcmV0dXJuIGluc3BlY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1bmxvY2tPcjxUMj4oZmFsbGJhY2s6IFQyKTogVDIge1xyXG4gICAgICAgIHJldHVybiBmYWxsYmFjaztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhbmQoX186IHVua25vd24pOiBFcnI8VDE+IHtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbWFwKF9fOiB1bmtub3duKTogRXJyPFQxPiB7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1hcEVycjxUMj4odGFzazogRnVuY3Rpb248VDEsIFQyPik6IEVycjxUMj4ge1xyXG4gICAgICAgIHJldHVybiBFcnIodGFzayhpbnNwZWN0KCkpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZWNvdmVyPFQyPih0YXNrOiBGdW5jdGlvbjxUMSwgVDI+KTogT2s8VDI+IHtcclxuICAgICAgICByZXR1cm4gT2sodGFzayhpbnNwZWN0KCkpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZWdyYWRlKF9fOiB1bmtub3duKTogRXJyPFQxPiB7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvT3B0aW9uKCk6IE9wdGlvbjxuZXZlcj4ge1xyXG4gICAgICAgIHJldHVybiBOb25lO1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB0eXBlIHsgUmVmRGVsVGFzayB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IFJlZlRhc2sgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBXcmFwcGVyIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgdHlwZSBSZWY8VDE+ID0gXHJcbiAgICAmIFdyYXBwZXI8VDE+IFxyXG4gICAgJiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogTXV0YXRlcyB0aGUgaW50ZXJuYWwgdmFsdWUgb2YgdGhlIGBSZWZgIGluc3RhbmNlLlxyXG4gICAgICovXHJcbiAgICBtdXQodmFsdWU6IFQxKTogUmVmPFQxPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBSZWdpc3RlcnMgYSBjYWxsYmFjayB0aGF0IGlzIGludm9rZWQgd2hlbmV2ZXIgdGhlIHZhbHVlIGNoYW5nZXMuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHJlZjogUmVmPGJpZ2ludD4gPSBSZWYoMjAwbik7XHJcbiAgICAgKiAgcmVmLm9uQ2hhbmdlKHZhbHVlID0+IHtcclxuICAgICAqICAgICAgLy8vIC4uLlxyXG4gICAgICogICAgICByZXR1cm47XHJcbiAgICAgKiAgfSk7XHJcbiAgICAgKiAgcmVmLm11dCg0MDRuKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBvbkNoYW5nZSh0YXNrOiBSZWZUYXNrPFQxPik6IFJlZkRlbFRhc2s7XHJcbn07XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogV3JhcHBlciB0aGF0IHN1cHBvcnRzIG11dGF0aW9uIGFuZCBjaGFuZ2UgdHJhY2tpbmcuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gUmVmPFQxPihfdmFsdWU6IFQxKTogUmVmPFQxPiB7XHJcbiAgICBsZXQgX3RoaXM6IFJlZjxUMT47XHJcbiAgICBsZXQgX2NvdW50OiBiaWdpbnQ7XHJcbiAgICBsZXQgX3Rhc2tNYXA6IE1hcDxiaWdpbnQsIFJlZlRhc2s8VDE+PjtcclxuXHJcbiAgICAvKiogQGNvbnN0cnVjdG9yICovIHtcclxuICAgICAgICBfY291bnQgPSAwbjtcclxuICAgICAgICBfdGFza01hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICByZXR1cm4gX3RoaXMgPSB7IHVud3JhcCwgbXV0LCBvbkNoYW5nZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVud3JhcCgpOiBUMSB7XHJcbiAgICAgICAgcmV0dXJuIF92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtdXQodmFsdWU6IFQxKTogUmVmPFQxPiB7XHJcbiAgICAgICAgbGV0IG9sZFZhbHVlOiBUMSA9IHVud3JhcCgpO1xyXG4gICAgICAgIGxldCBuZXdWYWx1ZTogVDEgPSB2YWx1ZTtcclxuICAgICAgICBfdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBfdGFza01hcFxyXG4gICAgICAgICAgICAudmFsdWVzKClcclxuICAgICAgICAgICAgLnRvQXJyYXkoKVxyXG4gICAgICAgICAgICAuZm9yRWFjaCh0YXNrID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrKG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbkNoYW5nZSh0YXNrOiBSZWZUYXNrPFQxPik6IFJlZkRlbFRhc2sge1xyXG4gICAgICAgIGxldCBrZXk6IGJpZ2ludCA9IF9nZW5LZXkoKTtcclxuICAgICAgICBfdGFza01hcC5zZXQoa2V5LCB0YXNrKTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBfdGFza01hcC5kZWxldGUoa2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfZ2VuS2V5KCk6IGJpZ2ludCB7XHJcbiAgICAgICAgcmV0dXJuIF9jb3VudCArPSAxbjtcclxuICAgIH1cclxufSIsICJpbXBvcnQgdHlwZSB7IENsb3N1cmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBPcHRpb24gfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgSU5URVJOQUxfRVJST1JfTUVTU0FHRSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBBbGxvYyB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBEZUFsbG9jIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IFNvbWUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgTm9uZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRHluPFQxPiA9IEFsbG9jPFQxPiB8IERlQWxsb2M8VDE+O1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIEEgZHluYW1pYyByZXNvdXJjZSBtYW5hZ2VtZW50IHBhdHRlcm4sIGFsbG93aW5nIGZvclxyXG4gKiBhbGxvY2F0aW9uIGFuZCBkZWFsbG9jYXRpb24gb2YgcmVzb3VyY2VzIHdpdGggcHJvcGVyIGxpZmVjeWNsZSBoYW5kbGluZy5cclxuICogXHJcbiAqICoqKldhcm5pbmcqKipcclxuICogVGhlIGBEeW5gIHdyYXBwZXIgbXVzdCBiZSBwcm9wZXJseSBtYW5hZ2VkIHRvIGF2b2lkIG1lbW9yeSBsZWFrcy4gSWYgdGhlIHdyYXBwZXIgaXRzZWxmIGlzIGdhcmJhZ2UgY29sbGVjdGVkIFxyXG4gKiB3aXRob3V0IGl0cyBjb250ZW50IGJlaW5nIGV4cGxpY2l0bHkgZGVhbGxvY2F0ZWQsIHRoZSByZXNvdXJjZXMgaXQgbWFuYWdlcyB3aWxsIG5vdCBiZSByZWN5Y2xlZCBcclxuICogYW5kIG1hZGUgYXZhaWxhYmxlIGZvciByZXVzZS4gRW5zdXJlIGFsbCBhbGxvY2F0ZWQgcmVzb3VyY2VzIGFyZSBkZWFsbG9jYXRlZCBiZWZvcmUgdGhlIGBEeW5gIGluc3RhbmNlIGdvZXMgb3V0IG9mIHNjb3BlLlxyXG4gKiBcclxuICogKioqRXhhbXBsZSoqKlxyXG4gKiBgYGB0c1xyXG4gKiAgdHlwZSBDYXIgPSB7XHJcbiAqICAgICAgZHJpdmUoKTogdm9pZDtcclxuICogIH07XHJcbiAqIFxyXG4gKiAgY29uc3QgQ2FyOiBEeW5Db25zdHJ1Y3RvcjxDYXIsIFtfbW9kZWw6IHN0cmluZ10+ID0gRHluKFxyXG4gKiAgICAgIChfbW9kZWw6IHN0cmluZykgPT4ge1xyXG4gKiAgICAgICAgICBjb25zdHJ1Y3RvciB7XHJcbiAqICAgICAgICAgICAgICByZXR1cm4geyBkcml2ZSB9O1xyXG4gKiAgICAgICAgICB9XHJcbiAqIFxyXG4gKiAgICAgICAgICBmdW5jdGlvbiBkcml2ZSgpOiB2b2lkIHtcclxuICogICAgICAgICAgICAgIHJldHVybiBcIlZyb29tLlwiO1xyXG4gKiAgICAgICAgICB9XHJcbiAqICAgICAgfSxcclxuICogICAgICBjYXIgPT4ge1xyXG4gKiAgICAgICAgICAvLy8gUmVzZXQgY2FyIG9yIGFueSB0YXNrcyBiZWZvcmUgaXQgaXMgbWFkZSBhdmFpbGFibGUgYWdhaW4uXHJcbiAqICAgICAgICAgIC8vLyAuLi5cclxuICogICAgICAgICAgcmV0dXJuIGNhcjtcclxuICogICAgICB9LCAzMm4sIFwiTW9kZWxUXCJcclxuICogICk7XHJcbiAqIFxyXG4gKiAgbGV0IGNhcjogRHluPENhcj4gPSBDYXIoXCJNb2RlbEZcIik7XHJcbiAqICBjYXIgPSBjYXIuZGVBbGxvYygpO1xyXG4gKiAgY2FyLm1hcChjYXIgPT4ge1xyXG4gKiAgICAgIC8vLyBXaWxsIG5vdCBydW4gYmVjYXVzZSBgY2FyYCBoYXMgYmVlbiBkZWFsbG9jYXRlZC5cclxuICogICAgICAvLy8gLi4uXHJcbiAqICB9KTtcclxuICogYGBgXHJcbiAqIFxyXG4gKiAqKipFeGFtcGxlKioqXHJcbiAqIGBgYHRzXHJcbiAqICAvLy8gV2FybmluZy5cclxuICogIGxldCBjYXI6IER5bjxDYXI+ID0gQ2FyKFwiTW9kZWxCXCIpO1xyXG4gKiAgY2FyLmRlQWxsb2MoKTtcclxuICogIGNhci5tYXAoY2FyID0+IHtcclxuICogICAgICAvLy8gV2lsbCBydW4gYmVjYXVzZSB0aGUgY2FyIG11c3QgYmUgdXBkYXRlZCB0byB0aGUgbmV3IHN0YXRlLlxyXG4gKiAgICAgIC8vLyBBbHdheXMgYXNzaWduIHRoZSBgZGVBbGxvY2AgcmVzdWx0IGEgbmV3IGBEeW5gIHdyYXBwZXIgb3JcclxuICogICAgICAvLy8gaXRzZWxmLlxyXG4gKiAgICAgIC8vLyAuLi5cclxuICogIH0pO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBEeW48VDEsIFQyIGV4dGVuZHMgQXJyYXk8dW5rbm93bj4+KF9jb25zdHJ1Y3RvcjogQ2xvc3VyZTxUMiwgVDE+LCBfb25EZUFsbG9jOiBDbG9zdXJlPFtUMV0sIFQxPiwgX2xvYWQ6IGJpZ2ludCwgLi4uX29uTG9hZFBheWxvYWQ6IFQyKTogQ2xvc3VyZTxUMiwgRHluPFQxPj4ge1xyXG4gICAgbGV0IF9hdmFpbGFibGU6IE1hcDxiaWdpbnQsIFQxPjtcclxuICAgIGxldCBfY291bnQ6IGJpZ2ludDtcclxuXHJcbiAgICAvKiogQGNvbnN0cnVjdG9yICovIHtcclxuICAgICAgICBfYXZhaWxhYmxlID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIF9jb3VudCA9IDBuO1xyXG4gICAgICAgIGxldCBpOiBiaWdpbnQgPSAwbjtcclxuICAgICAgICB3aGlsZSAoaSA8IF9sb2FkKSB7XHJcbiAgICAgICAgICAgIGxldCBrZXk6IGJpZ2ludCA9IF9nZW5LZXkoKTtcclxuICAgICAgICAgICAgX2F2YWlsYWJsZS5zZXQoa2V5LCBfY29uc3RydWN0b3IoLi4uX29uTG9hZFBheWxvYWQpKTtcclxuICAgICAgICAgICAgaSArKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5wYXlsb2FkOiBUMik6IER5bjxUMT4ge1xyXG4gICAgICAgICAgICBsZXQgX2tleTogT3B0aW9uPGJpZ2ludD47XHJcbiAgICAgICAgICAgIGxldCBfdGhpczogRHluPFQxPjtcclxuICAgIFxyXG4gICAgICAgICAgICAvKiogQGNvbnN0cnVjdG9yICovIHtcclxuICAgICAgICAgICAgICAgIF9rZXkgPSBOb25lO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzID0gYWxsb2MoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gYWxsb2MoKTogQWxsb2M8VDE+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfcmVjeWNsZWRLZXkoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50b1Jlc3VsdCh1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfa2V5ID0gU29tZShrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQWxsb2MoX3JlY3lsZWQoa2V5KSwgeyBkZUFsbG9jIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlY292ZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfa2V5ID0gU29tZShfZ2VuS2V5KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQWxsb2MoX2NvbnN0cnVjdG9yKC4uLnBheWxvYWQpLCB7IGRlQWxsb2MgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAudW5sb2NrKCk7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkZUFsbG9jKCk6IERlQWxsb2M8VDE+IHtcclxuICAgICAgICAgICAgICAgIF9rZXlcclxuICAgICAgICAgICAgICAgICAgICAudG9SZXN1bHQodW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8vIElmIHRoZSBrZXkgaXMgYXZhaWxhYmxlIHRoZW4gaXQgaXMgYWxsb2NhdGVkLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfa2V5ID0gTm9uZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlY3lsZShrZXksIF9vbkRlQWxsb2MoX3RoaXMuZXhwZWN0KFwiRHluOiBDb3VsZCBub3QgZGVhbGxvY2F0ZSByZXNvdXJjZSBidXQgdGhlIGtleSB3YXMgYXZhaWxhYmxlLlwiICsgSU5URVJOQUxfRVJST1JfTUVTU0FHRSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzID0gRGVBbGxvYyh7IGRlQWxsb2MgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9nZW5LZXkoKTogYmlnaW50IHtcclxuICAgICAgICByZXR1cm4gX2NvdW50ICs9IDFuO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9yZWN5Y2xlZEtleSgpOiBPcHRpb248YmlnaW50PiB7XHJcbiAgICAgICAgbGV0IGtleTogYmlnaW50IHwgdW5kZWZpbmVkID0gX2F2YWlsYWJsZVxyXG4gICAgICAgICAgICAua2V5cygpXHJcbiAgICAgICAgICAgIC50b0FycmF5KClcclxuICAgICAgICAgICAgLmF0KDApO1xyXG4gICAgICAgIGlmICgha2V5KSByZXR1cm4gTm9uZTtcclxuICAgICAgICByZXR1cm4gU29tZShrZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9yZWN5bGVkKGtleTogYmlnaW50KTogVDEge1xyXG4gICAgICAgIGxldCB2YWx1ZTogVDEgPSBfYXZhaWxhYmxlLmdldChrZXkpITtcclxuICAgICAgICBfYXZhaWxhYmxlLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfcmVjeWxlKGtleTogYmlnaW50LCB2YWx1ZTogVDEpOiB2b2lkIHtcclxuICAgICAgICBfYXZhaWxhYmxlLnNldChrZXksIHZhbHVlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHR5cGUgeyBEeW5XcmFwcGVyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IE5vbmUgfSBmcm9tIFwiQHJvb3RcIlxyXG5cclxuZXhwb3J0IHR5cGUgRGVBbGxvYzxUMT4gPSBcclxuICAgICYgRHluV3JhcHBlcjxUMT5cclxuICAgICYgTm9uZTtcclxuXHJcbi8qKlxyXG4gKiAqKipCcmllZioqKlxyXG4gKiBUaGUgZGVhbGxvY2F0ZWQgc3RhdGUgb2YgYW4gYWxsb2NhdGVkIHJlc291cmNlLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIERlQWxsb2M8VDE+KF9keW46IER5bldyYXBwZXI8VDE+KTogRGVBbGxvYzxUMT4ge1xyXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqLyB7XHJcbiAgICAgICAgcmV0dXJuIHsgLi4uIE5vbmUsIC4uLiBfZHluIH07XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHR5cGUgeyBEeW5XcmFwcGVyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgVW5sb2NrZWRXcmFwcGVyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IFNvbWUgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB0eXBlIEFsbG9jPFQxPiA9XHJcbiAgICAmIER5bldyYXBwZXI8VDE+XHJcbiAgICAmIFVubG9ja2VkV3JhcHBlcjxUMT5cclxuICAgICYgU29tZTxUMT47XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogVGhlIGFsbG9jYXRlZCBzdGF0ZSBvZiBhbiBhbGxvY2F0ZWQgcmVzb3VyY2UuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gQWxsb2M8VDE+KF92YWx1ZTogVDEsIF9keW46IER5bldyYXBwZXI8VDE+KTogQWxsb2M8VDE+IHtcclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIHJldHVybiB7IC4uLiBTb21lKF92YWx1ZSksIC4uLiBfZHluIH07XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgT3B0aW9uIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgY29uc3QgZmxhZzogdHlwZW9mIE9wdGlvbi5mbGFnID0gT3B0aW9uLmZsYWc7XHJcblxyXG5leHBvcnQgY29uc3QgYWxsTzogdHlwZW9mIE9wdGlvbi5hbGwgPSBPcHRpb24uYWxsO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFueU86IHR5cGVvZiBPcHRpb24uYW55ID0gT3B0aW9uLmFueTsiLCAiaW1wb3J0IHR5cGUgeyBGdW5jdGlvbiB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IE9wdGlvbiB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IFVubG9ja2VkV3JhcHBlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IEJyYW5kZWQgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgTm9uZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBPayB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgU29tZTxUMT4gPSBcclxuICAgICYgQnJhbmRlZDxcIlNvbWVcIj5cclxuICAgICYgVW5sb2NrZWRXcmFwcGVyPFQxPlxyXG4gICAgJiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogYHNvbWVgIGNoZWNrcyBpZiB0aGUgY3VycmVudCBpbnN0YW5jZSBpcyBgU29tZWAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+O1xyXG4gICAgICogIGlmIChvcHRpb24uc29tZSgpKSB7XHJcbiAgICAgKiAgICAgIGxldCB2YWx1ZTogMjAwbiA9IG9wdGlvbi51bmxvY2soKTtcclxuICAgICAqICAgICAgLy8vIC4uLlxyXG4gICAgICogIH1cclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBzb21lKCk6IHRoaXMgaXMgU29tZTxUMT47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogYG5vbmVgIGNoZWNrcyBpZiB0aGUgY3VycmVudCBpbnN0YW5jZSBpcyBgTm9uZWAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+O1xyXG4gICAgICogIGlmIChvcHRpb24ubm9uZSgpKSB7XHJcbiAgICAgKiAgICAgIC8vLyBgT3B0aW9uYCBjYW5ub3QgYHVubG9ja2AgYmVjYXVzZSBpdCBpcyBgTm9uZWAuXHJcbiAgICAgKiAgICAgIC8vLyAuLi5cclxuICAgICAqICB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgbm9uZSgpOiB0aGlzIGlzIE5vbmU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogYGV4cGVjdGAgdGVybWluYXRlcyB3aXRoIGBwYW5pY2AgaWYgdGhlIGBPcHRpb25gIGlzIGBOb25lYC5cclxuICAgICAqIFxyXG4gICAgICogKioqV2FybmluZyoqKlxyXG4gICAgICogUmVzZXJ2ZWQgZm9yIGRlYnVnZ2luZyBvciB1bnJlY292ZXJhYmxlIGVycm9ycy5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgb3B0aW9uOiBPcHRpb248MjAwbj47XHJcbiAgICAgKiAgbGV0IHN0YXR1czogMjAwbiA9IG9wdGlvbi5leHBlY3QoXCJUaGlzIGlzIHVuZXhwZWN0ZWQgYW5kIHVucmVjb3ZlcmFibGUuXCIpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGV4cGVjdChfXzogdW5rbm93bik6IFQxO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFJldHJpZXZlcyB0aGUgdmFsdWUgb2YgYSBgU29tZWAsIG9yIGZhbGxzIGJhY2sgdG8gdGhlIHByb3ZpZGVkIHZhbHVlIGlmIGl0XHUyMDE5cyBgTm9uZWAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+ID0gTm9uZTtcclxuICAgICAqICBsZXQgc3RhdHVzOiAyMDBuID0gb3B0aW9uLnVubG9ja09yKDIwMG4pO1xyXG4gICAgICogIGNvbnNvbGUubG9nKHN0YXR1cyk7IC8vLyAyMDBuLlxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHVubG9ja09yKF9fOiB1bmtub3duKTogVDE7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogQ2hhaW5zIGFuIHRhc2sgdW50aWwgdGhlIGZpcnN0IGBOb25lYCBpcyBlbmNvdW50ZXJlZC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgb3B0aW9uOiBPcHRpb248MjAwbj4gPSBOb25lO1xyXG4gICAgICogIG9wdGlvblxyXG4gICAgICogICAgICAuYW5kKHZhbHVlID0+IHtcclxuICAgICAqICAgICAgICAgIC8vLyBUYXNrIGlzIHNraXBwZWQgYmVjYXVzZSBgT3B0aW9uYCBpcyBgTm9uZWAuXHJcbiAgICAgKiAgICAgICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgICAgICByZXR1cm4gU29tZSh2YWx1ZSArIDFuKTtcclxuICAgICAqICAgICAgfSlcclxuICAgICAqICAgICAgLmFuZCh2YWx1ZSA9PiB7XHJcbiAgICAgKiAgICAgICAgICAvLy8gVGFzayBpcyBza2lwcGVkIGJlY2F1c2UgYE9wdGlvbmAgaXMgYE5vbmVgLlxyXG4gICAgICogICAgICAgICAgLy8vIC4uLlxyXG4gICAgICogICAgICB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBhbmQ8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBPcHRpb248VDI+Pik6IE9wdGlvbjxUMj47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogVHJhbnNmb3JtcyB0aGUgYFNvbWVgIHZhbHVlIGlmIHByZXNlbnQsIGJ1dCBpZiB0aGlzIGlzIGFscmVhZHkgYW4gYE5vbmVgLCBpdCByZW1haW5zIHVuY2hhbmdlZC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgb3B0aW9uMDogT3B0aW9uPDIwMG4+ID0gU29tZSgyMDBuKTtcclxuICAgICAqICBsZXQgb3B0aW9uMTogT3B0aW9uPDIwMW4+ID0gb3B0aW9uLm1hcCh2YWx1ZSA9PiB7XHJcbiAgICAgKiAgICAgIC8vLyBUYXNrIGlzIHJ1biBiZWNhdXNlIGBPcHRpb25gIGlzIGBTb21lYC5cclxuICAgICAqICAgICAgLy8vIC4uLlxyXG4gICAgICogICAgICByZXR1cm4gdmFsdWUgKyAxbjtcclxuICAgICAqICB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBtYXA8VDI+KHRhc2s6IEZ1bmN0aW9uPFQxLCBUMj4pOiBTb21lPFQyPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBDb252ZXJ0cyBhbiBgT3B0aW9uPFQxPmAgdG8gYSBgUmVzdWx0PFQxLCBUMj5gLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCBvcHRpb246IE9wdGlvbjwyMDBuPjtcclxuICAgICAqICBsZXQgcmVzdWx0OiBSZXN1bHQ8MjAwbiwgNDA0bj4gPSBvcHRpb24udG9SZXN1bHQoNDA0bik7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgdG9SZXN1bHQoX186IHVua25vd24pOiBPazxUMT47XHJcbn07XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogVGhlIHZhbHVlIHdpdGhpbiBhbiBgT3B0aW9uYC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBTb21lPFQxPihfdmFsdWU6IFQxKTogU29tZTxUMT4ge1xyXG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqLyB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgc29tZSxcclxuICAgICAgICAgICAgbm9uZSxcclxuICAgICAgICAgICAgZXhwZWN0LFxyXG4gICAgICAgICAgICB1bmxvY2ssXHJcbiAgICAgICAgICAgIHVubG9ja09yLFxyXG4gICAgICAgICAgICBhbmQsXHJcbiAgICAgICAgICAgIG1hcCxcclxuICAgICAgICAgICAgdG9SZXN1bHRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHR5cGUoKTogXCJTb21lXCIge1xyXG4gICAgICAgIHJldHVybiBcIlNvbWVcIjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzb21lKCk6IHRoaXMgaXMgU29tZTxUMT4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5vbmUoKTogdGhpcyBpcyBOb25lIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXhwZWN0KF9fOiB1bmtub3duKTogVDEge1xyXG4gICAgICAgIHJldHVybiBfdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdW5sb2NrKCk6IFQxIHtcclxuICAgICAgICByZXR1cm4gX3ZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVubG9ja09yKF9fOiB1bmtub3duKTogVDEge1xyXG4gICAgICAgIHJldHVybiBfdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYW5kPFQyPih0YXNrOiBGdW5jdGlvbjxUMSwgT3B0aW9uPFQyPj4pOiBPcHRpb248VDI+IHtcclxuICAgICAgICByZXR1cm4gdGFzayhfdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1hcDxUMj4odGFzazogRnVuY3Rpb248VDEsIFQyPik6IFNvbWU8VDI+IHtcclxuICAgICAgICByZXR1cm4gU29tZSh0YXNrKF92YWx1ZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvUmVzdWx0KF9fOiB1bmtub3duKTogT2s8VDE+IHtcclxuICAgICAgICByZXR1cm4gT2soX3ZhbHVlKTtcclxuICAgIH1cclxufSIsICJpbXBvcnQgdHlwZSB7IEJyYW5kZWQgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgU29tZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBFcnIgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyb3IgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgcGFuaWMgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB0eXBlIE5vbmUgPSBcclxuICAgICYgQnJhbmRlZDxcIk5vbmVcIj5cclxuICAgICYge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIGBzb21lYCBjaGVja3MgaWYgdGhlIGN1cnJlbnQgaW5zdGFuY2UgaXMgYFNvbWVgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCBvcHRpb246IE9wdGlvbjwyMDBuPjtcclxuICAgICAqICBpZiAob3B0aW9uLnNvbWUoKSkge1xyXG4gICAgICogICAgICBsZXQgdmFsdWU6IDIwMG4gPSBvcHRpb24udW5sb2NrKCk7XHJcbiAgICAgKiAgICAgIC8vLyAuLi5cclxuICAgICAqICB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgc29tZSgpOiB0aGlzIGlzIFNvbWU8dW5rbm93bj47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogYG5vbmVgIGNoZWNrcyBpZiB0aGUgY3VycmVudCBpbnN0YW5jZSBpcyBgTm9uZWAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+O1xyXG4gICAgICogIGlmIChvcHRpb24ubm9uZSgpKSB7XHJcbiAgICAgKiAgICAgIC8vLyBgT3B0aW9uYCBjYW5ub3QgYHVubG9ja2AgYmVjYXVzZSBpdCBpcyBgTm9uZWAuXHJcbiAgICAgKiAgICAgIC8vLyAuLi5cclxuICAgICAqICB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgbm9uZSgpOiB0aGlzIGlzIE5vbmU7XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIGBleHBlY3RgIHRlcm1pbmF0ZXMgd2l0aCBgcGFuaWNgIGlmIHRoZSBgT3B0aW9uYCBpcyBgTm9uZWAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKldhcm5pbmcqKipcclxuICAgICAqIFJlc2VydmVkIGZvciBkZWJ1Z2dpbmcgb3IgdW5yZWNvdmVyYWJsZSBlcnJvcnMuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+O1xyXG4gICAgICogIGxldCBzdGF0dXM6IDIwMG4gPSBvcHRpb24uZXhwZWN0KFwiVGhpcyBpcyB1bmV4cGVjdGVkIGFuZCB1bnJlY292ZXJhYmxlLlwiKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBleHBlY3QobWVzc2FnZTogc3RyaW5nKTogbmV2ZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogUmV0cmlldmVzIHRoZSB2YWx1ZSBvZiBhIGBTb21lYCwgb3IgZmFsbHMgYmFjayB0byB0aGUgcHJvdmlkZWQgdmFsdWUgaWYgaXRcdTIwMTlzIGBOb25lYC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgb3B0aW9uOiBPcHRpb248MjAwbj4gPSBOb25lO1xyXG4gICAgICogIGxldCBzdGF0dXM6IDIwMG4gPSBvcHRpb24udW5sb2NrT3IoMjAwbik7XHJcbiAgICAgKiAgY29uc29sZS5sb2coc3RhdHVzKTsgLy8vIDIwMG4uXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgdW5sb2NrT3I8VDI+KGZhbGxiYWNrOiBUMik6IFQyO1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBDaGFpbnMgYW4gdGFzayB1bnRpbCB0aGUgZmlyc3QgYE5vbmVgIGlzIGVuY291bnRlcmVkLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCBvcHRpb246IE9wdGlvbjwyMDBuPiA9IE5vbmU7XHJcbiAgICAgKiAgb3B0aW9uXHJcbiAgICAgKiAgICAgIC5hbmQodmFsdWUgPT4ge1xyXG4gICAgICogICAgICAgICAgLy8vIFRhc2sgaXMgc2tpcHBlZCBiZWNhdXNlIGBPcHRpb25gIGlzIGBOb25lYC5cclxuICAgICAqICAgICAgICAgIC8vLyAuLi5cclxuICAgICAqICAgICAgICAgIHJldHVybiBTb21lKHZhbHVlICsgMW4pO1xyXG4gICAgICogICAgICB9KVxyXG4gICAgICogICAgICAuYW5kKHZhbHVlID0+IHtcclxuICAgICAqICAgICAgICAgIC8vLyBUYXNrIGlzIHNraXBwZWQgYmVjYXVzZSBgT3B0aW9uYCBpcyBgTm9uZWAuXHJcbiAgICAgKiAgICAgICAgICAvLy8gLi4uXHJcbiAgICAgKiAgICAgIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGFuZChfXzogdW5rbm93bik6IE5vbmU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogVHJhbnNmb3JtcyB0aGUgYFNvbWVgIHZhbHVlIGlmIHByZXNlbnQsIGJ1dCBpZiB0aGlzIGlzIGFscmVhZHkgYW4gYE5vbmVgLCBpdCByZW1haW5zIHVuY2hhbmdlZC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgb3B0aW9uMDogT3B0aW9uPDIwMG4+ID0gU29tZSgyMDBuKTtcclxuICAgICAqICBsZXQgb3B0aW9uMTogT3B0aW9uPDIwMW4+ID0gb3B0aW9uLm1hcCh2YWx1ZSA9PiB7XHJcbiAgICAgKiAgICAgIC8vLyBUYXNrIGlzIHJ1biBiZWNhdXNlIGBPcHRpb25gIGlzIGBTb21lYC5cclxuICAgICAqICAgICAgLy8vIC4uLlxyXG4gICAgICogICAgICByZXR1cm4gdmFsdWUgKyAxbjtcclxuICAgICAqICB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBtYXAoX186IHVua25vd24pOiBOb25lO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIENvbnZlcnRzIGFuIGBPcHRpb248VDE+YCB0byBhIGBSZXN1bHQ8VDEsIFQyPmAuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IG9wdGlvbjogT3B0aW9uPDIwMG4+O1xyXG4gICAgICogIGxldCByZXN1bHQ6IFJlc3VsdDwyMDBuLCA0MDRuPiA9IG9wdGlvbi50b1Jlc3VsdCg0MDRuKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICB0b1Jlc3VsdDxUMT4oZTogVDEpOiBFcnI8VDE+O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIFRoZSBhYnNlbmNlIG9mIGEgdmFsdWUgb3IgYW4gXCJlbXB0eVwiIHN0YXRlLlxyXG4gKiBcclxuICogKioqV2FybmluZyoqKlxyXG4gKiBBbnkgb3BlcmF0aW9uIGF0dGVtcHRpbmcgdG8gYWNjZXNzIGFuIGBPcHRpb25gIG11c3Qgc2FmZWx5IGhhbmRsZSB0aGUgYE5vbmVgIHN0YXRlIG9yIHRlcm1pbmF0ZSB3aXRoIGFuIGVycm9yLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IE5vbmU6IE5vbmUgPSAoKCkgPT4ge1xyXG4gICAgbGV0IF90aGlzOiBOb25lO1xyXG5cclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIHJldHVybiBfdGhpcyA9IHtcclxuICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgc29tZSxcclxuICAgICAgICAgICAgbm9uZSxcclxuICAgICAgICAgICAgZXhwZWN0LFxyXG4gICAgICAgICAgICB1bmxvY2tPcixcclxuICAgICAgICAgICAgYW5kLFxyXG4gICAgICAgICAgICBtYXAsXHJcbiAgICAgICAgICAgIHRvUmVzdWx0XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0eXBlKCk6IFwiTm9uZVwiIHtcclxuICAgICAgICByZXR1cm4gXCJOb25lXCI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHNvbWUoKTogdGhpcyBpcyBTb21lPHVua25vd24+IHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbm9uZSgpOiB0aGlzIGlzIE5vbmUge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGV4cGVjdChtZXNzYWdlOiBzdHJpbmcpOiBuZXZlciB7XHJcbiAgICAgICAgcGFuaWMoRXJyb3IoXCJFUlJfVkFMVUVfUkVRVUlSRURcIiwgbWVzc2FnZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVubG9ja09yPFQxPihmYWxsYmFjazogVDEpOiBUMSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFuZChfXzogdW5rbm93bik6IE5vbmUge1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYXAoX186IHVua25vd24pOiBOb25lIHtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdG9SZXN1bHQ8VDE+KGU6IFQxKTogRXJyPFQxPiB7XHJcbiAgICAgICAgcmV0dXJuIEVycihlKTtcclxuICAgIH1cclxufSkoKTtcclxuXHJcblxyXG5cclxuIiwgImltcG9ydCB0eXBlIHsgUmVzdWx0IGFzIFJlc3VsdDAgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHR5cGUgeyBXcmFwcGVyIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgQ2xvc3VyZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBJTlRFUk5BTF9FUlJPUl9NRVNTQUdFIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IEVycm9yIGFzIEVycm9yMCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBPayB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBFcnIgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgRnB2IHtcclxuICAgIGV4cG9ydCB0eXBlIFJlc3VsdDxUMT4gPSBSZXN1bHQwPFQxLCBFcnJvcj47XHJcblxyXG4gICAgZXhwb3J0IHR5cGUgRXJyb3JDb2RlID1cclxuICAgICAgICB8IFwiRlBWLkVSUl9ESVZJU0lPTl9CWV9aRVJPXCJcclxuICAgICAgICB8IFwiRlBWLkVSUl9QUkVDSVNJT05fSVNfWkVST1wiXHJcbiAgICAgICAgfCBcIkZQVi5FUlJfUFJFQ0lTSU9OX0lTX05FR0FUSVZFXCI7XHJcblxyXG4gICAgZXhwb3J0IHR5cGUgRXJyb3IgPSBFcnJvcjA8RXJyb3JDb2RlPjtcclxuXHJcbiAgICBleHBvcnQgdHlwZSBDb21wYXRpYmxlPFQxIGV4dGVuZHMgYmlnaW50ID0gMm4+ID0gRnB2PFQxPiB8IGJpZ2ludDtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgRnB2PFQxIGV4dGVuZHMgYmlnaW50ID0gMm4+ID0gXHJcbiAgICAmIFdyYXBwZXI8YmlnaW50PlxyXG4gICAgJiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogUmV0dXJucyB0aGUgcHJlY2lzaW9uIG9mIHRoZSBgRnB2YC5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBGcHYoMjAwbilcclxuICAgICAqICAgICAgLmV4cGVjdChcIkZhaWxlZCB0byBpbml0aWFsaXplIGZpeGVkIHBvaW50IHZhbHVlLlwiKVxyXG4gICAgICogICAgICAuXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgcHJlY2lzaW9uKCk6IFQxO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFJldHVybnMgdGhlIHJlcHJlc2VudGF0aW9uIGZhY3RvciBvZiB0aGUgYEZwdmAsIGJhc2VkIG9uIGl0cyBwcmVjaXNpb24uXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgRnB2PDJuPigyMDBuKVxyXG4gICAgICogICAgICAuZXhwZWN0KFwiRmFpbGVkIHRvIGluaXRpYWxpemUgXCIpXHJcbiAgICAgKiAgICAgIC5yZXByZXNlbnRhdGlvbigpOyAvLy8gMTAqKjJuXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgcmVwcmVzZW50YXRpb24oKTogYmlnaW50O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIENvbXBhcmVzIHRoZSBjdXJyZW50IGBGcHZgIHdpdGggdGhlIGdpdmVuIHZhbHVlIGZvciBlcXVhbGl0eS5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBGcHYoMjAwbilcclxuICAgICAqICAgICAgLmV4cGVjdChcIlwiKVxyXG4gICAgICogICAgICAuZXEoMjAwbik7IC8vLyB0cnVlXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgZXEodmFsdWU6IEZwdi5Db21wYXRpYmxlPFQxPik6IGJvb2xlYW47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IGBGcHZgIGlzIGxlc3MgdGhhbiB0aGUgZ2l2ZW4gdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIGx0KHZhbHVlOiBGcHYuQ29tcGF0aWJsZTxUMT4pOiBib29sZWFuO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIENoZWNrcyBpZiB0aGUgY3VycmVudCBgRnB2YCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIGdpdmVuIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBsdGVxKHZhbHVlOiBGcHYuQ29tcGF0aWJsZTxUMT4pOiBib29sZWFuO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIENoZWNrcyBpZiB0aGUgY3VycmVudCBgRnB2YCBpcyBncmVhdGVyIHRoYW4gdGhlIGdpdmVuIHZhbHVlLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipFeGFtcGxlKioqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIGxldCBzdWNjZXNzOiBib29sZWFuID0gRnB2KDIwMG4pXHJcbiAgICAgKiAgICAgIC5leHBlY3QoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBmaXhlZCBwb2ludCB2YWx1ZS5cIilcclxuICAgICAqICAgICAgLmd0KDIwMG4pOyAvLy8gZmFsc2VcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBndCh2YWx1ZTogRnB2LkNvbXBhdGlibGU8VDE+KTogYm9vbGVhbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgYEZwdmAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBnaXZlbiB2YWx1ZSxcclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgc3VjY2VzczogYm9vbGVhbiA9IEZwdigyMDBuKVxyXG4gICAgICogICAgICAuZXhwZWN0KFwiRmFpbGVkIHRvIGluaXRpYWxpemUgRnB2LlwiKVxyXG4gICAgICogICAgICAuZ3RlcSgyMDBuKTtcclxuICAgICAqICBjb25zb2xlLmxvZyhzdWNjZXNzKTsgLy8vIFwidHJ1ZVwiLlxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGd0ZXEodmFsdWU6IEZwdi5Db21wYXRpYmxlPFQxPik6IGJvb2xlYW47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKipCcmllZioqKlxyXG4gICAgICogQWRkcyBhIGdpdmVuIGBGcHZJc2hgIHZhbHVlIHRvIHRoZSBjdXJyZW50IGBGcHZgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipXYXJuaW5nKioqXHJcbiAgICAgKiBFeHRyZW1lbHkgbGFyZ2UgdmFsdWVzIG1heSBjYXVzZSB0aGUgcHJvZ3JhbSB0byBwYW5pYyBkdWUgdG8gaW5zdWZmaWNpZW50IG1lbW9yeS5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgdmFsdWU6IGJpZ2ludCA9IEZwdigyMDBuKVxyXG4gICAgICogICAgICAuZXhwZWN0KFwiRmFpbGVkIHRvIGluaXRpYWxpemUgRnB2LlwiKVxyXG4gICAgICogICAgICAuYWRkKDEwMG4pXHJcbiAgICAgKiAgICAgIC51bndyYXAoKTtcclxuICAgICAqICBjb25zb2xlLmxvZyh2YWx1ZSk7IC8vLyAzMDBuID09PSAzLjAwXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgYWRkKHZhbHVlOiBGcHYuQ29tcGF0aWJsZTxUMT4pOiBGcHY8VDE+O1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBTdWJ0cmFjdHMgYSBnaXZlbiBgRnB2SXNoYCB2YWx1ZSBmcm9tIHRoZSBjdXJyZW50IGBGcHZgLlxyXG4gICAgICogXHJcbiAgICAgKiAqKipXYXJuaW5nKioqXHJcbiAgICAgKiBFeHRyZW1lbHkgbGFyZ2UgdmFsdWVzIG1heSBjYXVzZSB0aGUgcHJvZ3JhbSB0byBwYW5pYyBkdWUgdG8gaW5zdWZmaWNpZW50IG1lbW9yeS5cclxuICAgICAqIFxyXG4gICAgICogKioqRXhhbXBsZSoqKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBsZXQgdmFsdWU6IGJpZ2ludCA9IEZwdigyMDBuKVxyXG4gICAgICogICAgICAuZXhwZWN0KFwiRmFpbGVkIHRvIGluaXRpYWxpemUgRnB2LlwiKVxyXG4gICAgICogICAgICAuc3ViKDEwMG4pXHJcbiAgICAgKiAgICAgIC51bndyYXAoKTtcclxuICAgICAqICBjb25zb2xlLmxvZyh2YWx1ZSk7IC8vLyAxMDBuID09PSAxLjAwXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgc3ViKHZhbHVlOiBGcHYuQ29tcGF0aWJsZTxUMT4pOiBGcHY8VDE+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIE11bHRpcGxpZXMgdGhlIGN1cnJlbnQgYEZwdmAgYnkgYSBnaXZlbiBgRnB2SXNoYCB2YWx1ZS5cclxuICAgICAqIFxyXG4gICAgICogKioqV2FybmluZyoqKlxyXG4gICAgICogRXh0cmVtZWx5IGxhcmdlIHZhbHVlcyBtYXkgY2F1c2UgdGhlIHByb2dyYW0gdG8gcGFuaWMgZHVlIHRvIGluc3VmZmljaWVudCBtZW1vcnkuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHZhbHVlOiBiaWdpbnQgPSBGcHYoMjAwbilcclxuICAgICAqICAgICAgLmV4cGVjdChcIkZhaWxlZCB0byBpbml0aWFsaXplIEZwdi5cIilcclxuICAgICAqICAgICAgLm11bCg1MG4pIC8vLyAwLjUwXHJcbiAgICAgKiAgICAgIC51bndyYXAoKTtcclxuICAgICAqICBjb25zb2xlLmxvZyh2YWx1ZSk7IC8vLyAxMDBuID09PSAxLjAwXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgbXVsKHZhbHVlOiBGcHYuQ29tcGF0aWJsZTxUMT4pOiBGcHY8VDE+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIERpdmlkZXMgdGhlIGN1cnJlbnQgYEZwdmAgYnkgYSBnaXZlbiBgRnB2SXNoYCB2YWx1ZS5cclxuICAgICAqIFxyXG4gICAgICogKioqV2FybmluZyoqKlxyXG4gICAgICogRXh0cmVtZWx5IGxhcmdlIHZhbHVlcyBtYXkgY2F1c2UgdGhlIHByb2dyYW0gdG8gcGFuaWMgZHVlIHRvIGluc3VmZmljaWVudCBtZW1vcnkuXHJcbiAgICAgKiBcclxuICAgICAqICoqKldhcm5pbmcqKipcclxuICAgICAqIElmIGRpdmlkaW5nIGJ5IHplcm8sIGFuIGVycm9yIHdpbGwgYmUgcmV0dXJuZWQuXHJcbiAgICAgKiBcclxuICAgICAqICoqKkV4YW1wbGUqKipcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAgbGV0IHZhbHVlOiBiaWdpbnQgPSBGcHYoMjAwbilcclxuICAgICAqICAgICAgLmV4cGVjdChcIkZhaWxlZCB0byBpbml0aWFsaXplIEZwdi5cIilcclxuICAgICAqICAgICAgLmRpdig1MG4pIC8vLyAwLjUwXHJcbiAgICAgKiAgICAgIC51bndyYXAoKTtcclxuICAgICAqICBjb25zb2xlLmxvZyh2YWx1ZSk7IC8vLyA0MDBuID09PSA0LjAwXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgZGl2KHZhbHVlOiBGcHYuQ29tcGF0aWJsZTxUMT4pOiBGcHYuUmVzdWx0PEZwdjxUMT4+O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIENyZWF0ZXMgYSBuZXcgYEZwdmAgd2l0aCB0aGUgcHJvdmlkZWQgdmFsdWUgYW5kIHByZWNpc2lvbi5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBGcHY8VDEgZXh0ZW5kcyBiaWdpbnQgPSAybj4oX2ZwdjogRnB2LkNvbXBhdGlibGU8VDE+LCBfcHJlY2lzaW9uOiBUMSA9ICgybiBhcyBhbnkpKTogRnB2LlJlc3VsdDxGcHY8VDE+PiB7XHJcbiAgICBsZXQgX3ZhbHVlOiBiaWdpbnQ7XHJcbiAgICBcclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIGlmIChwcmVjaXNpb24oKSA9PT0gMG4pIHJldHVybiBFcnIoRXJyb3IwKFwiRlBWLkVSUl9QUkVDSVNJT05fSVNfWkVST1wiLCBcIkZwdjogRG9lcyBub3Qgc3VwcG9ydCB6ZXJvIHByZWNpc2lvbi5cIikpO1xyXG4gICAgICAgIGlmIChwcmVjaXNpb24oKSA8IDBuKSByZXR1cm4gRXJyKEVycm9yMChcIkZQVi5FUlJfUFJFQ0lTSU9OX0lTX05FR0FUSVZFXCIsIFwiRnB2OiBEb2VzIG5vdCBzdXBwb3J0IG5lZ2F0aXZlIHByZWNpc2lvbi5cIikpO1xyXG4gICAgICAgIF92YWx1ZSA9IF91bndyYXAoX2Zwdik7XHJcbiAgICAgICAgcmV0dXJuIE9rKHtcclxuICAgICAgICAgICAgdW53cmFwLFxyXG4gICAgICAgICAgICBwcmVjaXNpb24sXHJcbiAgICAgICAgICAgIHJlcHJlc2VudGF0aW9uLFxyXG4gICAgICAgICAgICBlcSxcclxuICAgICAgICAgICAgbHQsXHJcbiAgICAgICAgICAgIGx0ZXEsXHJcbiAgICAgICAgICAgIGd0LFxyXG4gICAgICAgICAgICBndGVxLFxyXG4gICAgICAgICAgICBhZGQsXHJcbiAgICAgICAgICAgIHN1YixcclxuICAgICAgICAgICAgbXVsLFxyXG4gICAgICAgICAgICBkaXZcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gdW53cmFwKCk6IGJpZ2ludCB7XHJcbiAgICAgICAgcmV0dXJuIF92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwcmVjaXNpb24oKTogVDEge1xyXG4gICAgICAgIHJldHVybiBfcHJlY2lzaW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlcHJlc2VudGF0aW9uKCk6IGJpZ2ludCB7XHJcbiAgICAgICAgcmV0dXJuIDEwbioqcHJlY2lzaW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXEodmFsdWU6IEZwdi5Db21wYXRpYmxlPFQxPik6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBfdmFsdWUgPT09IF91bndyYXAodmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGx0KHZhbHVlOiBGcHYuQ29tcGF0aWJsZTxUMT4pOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gX3ZhbHVlIDwgX3Vud3JhcCh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbHRlcSh2YWx1ZTogRnB2LkNvbXBhdGlibGU8VDE+KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIF92YWx1ZSA8PSBfdW53cmFwKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndCh2YWx1ZTogRnB2LkNvbXBhdGlibGU8VDE+KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIF92YWx1ZSA+IF91bndyYXAodmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd0ZXEodmFsdWU6IEZwdi5Db21wYXRpYmxlPFQxPik6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBfdmFsdWUgPj0gX3Vud3JhcCh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkKHZhbHVlOiBGcHYuQ29tcGF0aWJsZTxUMT4pOiBGcHY8VDE+IHtcclxuICAgICAgICByZXR1cm4gX3dyYXAoKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gX3ZhbHVlICsgX3Vud3JhcCh2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc3ViKHZhbHVlOiBGcHYuQ29tcGF0aWJsZTxUMT4pOiBGcHY8VDE+IHtcclxuICAgICAgICByZXR1cm4gX3dyYXAoKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gX3ZhbHVlIC0gX3Vud3JhcCh2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbXVsKHZhbHVlOiBGcHYuQ29tcGF0aWJsZTxUMT4pOiBGcHY8VDE+IHtcclxuICAgICAgICByZXR1cm4gX3dyYXAoKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgejogYmlnaW50ID0gX3ZhbHVlICogX3Vud3JhcCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIGxldCBxOiBiaWdpbnQgPSB6IC8gcmVwcmVzZW50YXRpb24oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHE7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGl2KHZhbHVlOiBGcHYuQ29tcGF0aWJsZTxUMT4pOiBGcHYuUmVzdWx0PEZwdjxUMT4+IHtcclxuICAgICAgICBsZXQgbjogYmlnaW50ID0gX3Vud3JhcCh2YWx1ZSk7XHJcbiAgICAgICAgaWYgKG4gPT09IDBuKSByZXR1cm4gRXJyKEVycm9yMChcIkZQVi5FUlJfRElWSVNJT05fQllfWkVST1wiLCBcIkZwdjogQ2Fubm90IGRpdmlkZSBieSB6ZXJvLlwiKSk7XHJcbiAgICAgICAgcmV0dXJuIE9rKF93cmFwKCgpID0+IHtcclxuICAgICAgICAgICAgbGV0IHo6IGJpZ2ludCA9IF92YWx1ZSAqIHJlcHJlc2VudGF0aW9uKCk7XHJcbiAgICAgICAgICAgIGxldCBxOiBiaWdpbnQgPSB6IC8gbjtcclxuICAgICAgICAgICAgcmV0dXJuIHE7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF93cmFwKHRhc2s6IENsb3N1cmU8W10sIGJpZ2ludD4pOiBGcHY8VDE+IHtcclxuICAgICAgICByZXR1cm4gRnB2PFQxPih0YXNrKCkpLmV4cGVjdChcIkZwdjogRmFpbGVkIHRvIHdyYXAgdGhlIHRhc2sgcmVzdWx0IGludG8gYW4gRnB2LlwiICsgSU5URVJOQUxfRVJST1JfTUVTU0FHRSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX3Vud3JhcChmcHY6IEZwdi5Db21wYXRpYmxlPFQxPik6IGJpZ2ludCB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmcHYgPT09IFwiYmlnaW50XCIpIHJldHVybiBmcHY7XHJcbiAgICAgICAgcmV0dXJuIGZwdi51bndyYXAoKTtcclxuICAgIH1cclxufSIsICIvKiogXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIENvbnZlcnRzIGB1bmtub3duYCB0byBgc3RyaW5nYC5cclxuICogXHJcbiAqICoqKldhcm5pbmcqKipcclxuICogRG9lcyBub3Qgc3VwcG9ydCBjaXJjdWxhciByZWZlcmVuY2VzIGFuZCBjaXJjdWxhciBvYmplY3RzIHdpbGwgcmVzdWx0IGluIGBbb2JqZWN0IE9iamVjdF1gLlxyXG4gKiBcclxuICogKioqRXhhbXBsZSoqKlxyXG4gKiAgYGBgdHNcclxuICogIGNvbnNvbGUubG9nKHRvU3RyaW5nKDQyKSk7ICAgICAgICAgIC8vLyA0MlxyXG4gKiAgY29uc29sZS5sb2codG9TdHJpbmcodHJ1ZSkpOyAgICAgICAgLy8vIHRydWVcclxuICogIGNvbnNvbGUubG9nKHRvU3RyaW5nKG51bGwpKTsgICAgICAgIC8vLyBudWxsXHJcbiAqICBjb25zb2xlLmxvZyh0b1N0cmluZyh1bmRlZmluZWQpKTsgICAvLy8gdW5kZWZpbmVkXHJcbiAqIFxyXG4gKiAgY29uc29sZS5sb2codG9TdHJpbmcoXCJleGFtcGxlXCIpKTsgICAvLy8gZXhhbXBsZVxyXG4gKiBcclxuICogIGxldCBvYmplY3Q6IHtcclxuICogICAgICBjb2xvcjogc3RyaW5nO1xyXG4gKiAgICAgIHNwZWVkOiB7XHJcbiAqICAgICAgICAgIG1pbjogbnVtYmVyLFxyXG4gKiAgICAgICAgICBtYXg6IG51bWJlclxyXG4gKiAgICAgIH1cclxuICogIH0gPSB7XHJcbiAqICAgICAgY29sb3I6IFwiQmx1ZVwiLFxyXG4gKiAgICAgIHNwZWVkOiB7XHJcbiAqICAgICAgICAgIG1pbjogMCxcclxuICogICAgICAgICAgbWF4OiA1MDBcclxuICogICAgICB9XHJcbiAqICB9O1xyXG4gKiAgY29uc29sZS5sb2cob2JqZWN0KTsgICAgICAgICAgICAgICAgLy8vIHtcImNvbG9yXCI6XCJCbHVlXCIsXCJzcGVlZFwiOntcIm1pblwiOjAsXCJtYXhcIjo1MDB9fVxyXG4gKiBcclxuICogIGZ1bmN0aW9uIGZvbygpOiB2b2lkIHtcclxuICogICAgICBsZXQgeDogc3RyaW5nID0gNTAwO1xyXG4gKiAgICAgIHJldHVybiB4O1xyXG4gKiAgfVxyXG4gKiAgY29uc29sZS5sb2coZm9vKTsgICAgICAgICAgICAgICAgICAgLy8vIGZ1bmN0aW9uIGZvbygpIHtcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLyAgICAgeCA9IDUwMDtcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLyAgICAgcmV0dXJuIHg7XHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8gfVxyXG4gKiAgYGBgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmcodW5rbm93bjogdW5rbm93bik6IHN0cmluZyB7XHJcbiAgICBpZiAodW5rbm93biA9PT0gbnVsbCB8fCB1bmtub3duID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHVua25vd24gIT09IFwib2JqZWN0XCIpIHJldHVybiBTdHJpbmcodW5rbm93bik7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh1bmtub3duKTtcclxuICAgIH1cclxuICAgIGNhdGNoIHt9XHJcbiAgICByZXR1cm4gXCJbb2JqZWN0IE9iamVjdF1cIjtcclxufSIsICJpbXBvcnQgdHlwZSB7IFJlc3VsdCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBEb21FcnJvciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyB3cmFwIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogQ3JlYXRlcyBhIGRlZXAgY2xvbmUgb2YgdGhlIHByb3ZpZGVkIHZhbHVlIHVzaW5nIHRoZSBzdHJ1Y3R1cmVkQ2xvbmUgQVBJLlxyXG4gKiBcclxuICogKioqRXhhbXBsZSoqKlxyXG4gKiBgYGB0c1xyXG4gKiAgY2xvbmUoKVxyXG4gKiAgICAgIC5yZXNvbHZlKGUgPT4ge1xyXG4gKiAgICAgICAgICBpZiAoZS5jb2RlID09PSBcIkRPTS5FUlJfREFUQV9DTE9ORVwiKSB7XHJcbiAqICAgICAgICAgICAgICAvLy8gLi4uXHJcbiAqICAgICAgICAgIH1cclxuICogICAgICB9KVxyXG4gKiAgICAgIC51bmxvY2soKTtcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2xvbmU8VDE+KHZhbHVlOiBUMSk6IFJlc3VsdDxUMSwgRG9tRXJyb3I+IHtcclxuICAgIHJldHVybiB3cmFwKCgpID0+IHtcclxuICAgICAgICByZXR1cm4gc3RydWN0dXJlZENsb25lKHZhbHVlKTtcclxuICAgIH0pLm1hcEVycih1bnNhZmUgPT4ge1xyXG4gICAgICAgIHJldHVybiB1bnNhZmVcclxuICAgICAgICAgICAgLnBhcnNlKChzZWxmKTogc2VsZiBpcyBET01FeGNlcHRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYgIT09IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAmJiBzZWxmICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAmJiB0eXBlb2Ygc2VsZiA9PT0gXCJvYmplY3RcIlxyXG4gICAgICAgICAgICAgICAgICAgICYmIFwibmFtZVwiIGluIHNlbGZcclxuICAgICAgICAgICAgICAgICAgICAmJiBcImNvZGVcIiBpbiBzZWxmXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgXCJtZXNzYWdlXCIgaW4gc2VsZlxyXG4gICAgICAgICAgICAgICAgICAgICYmIHR5cGVvZiBzZWxmLm5hbWUgPT09IFwic3RyaW5nXCJcclxuICAgICAgICAgICAgICAgICAgICAmJiB0eXBlb2Ygc2VsZi5jb2RlID09PSBcIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgdHlwZW9mIHNlbGYubWVzc2FnZSA9PT0gXCJzdHJpbmdcIjtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm1hcChleGNlcHRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIERvbUVycm9yKGV4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC51bmxvY2tPcihEb21FcnJvcigpKTtcclxuICAgIH0pO1xyXG59IiwgImltcG9ydCB0eXBlIHsgQnJhbmRlZFN0cnVjdCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IFR5cGVHdWFyZCB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIEEgdXRpbGl0eSBmdW5jdGlvbiB0byBjaGVjayBpZiBhbiBgdW5rbm93bmAgdmFsdWUgY29uZm9ybXMgdG8gYSBzcGVjaWZpYyBicmFuZGVkIHR5cGUuXHJcbiAqIFxyXG4gKiAqKipXYXJuaW5nKioqXHJcbiAqIEJlIGNhdXRpb3VzIGFib3V0IGJyYW5kIGNvbGxpc2lvbnMgdGhhdCBtYXkgb2NjdXIgaWYgbXVsdGlwbGUgbW9kdWxlcyBcclxuICogb3IgY29udGV4dHMgZGVmaW5lIHNpbWlsYXIgYnJhbmRlZCB0eXBlcy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0JyYW5kZWRTdHJ1Y3Q8VDEgZXh0ZW5kcyBzdHJpbmc+KHVua25vd246IHVua25vd24pOiB1bmtub3duIGlzIEJyYW5kZWRTdHJ1Y3Q8YW55PjtcclxuZXhwb3J0IGZ1bmN0aW9uIGlzQnJhbmRlZFN0cnVjdDxUMSBleHRlbmRzIHN0cmluZz4odW5rbm93bjogdW5rbm93biwgdHlwZTogVDEpOiB1bmtub3duIGlzIEJyYW5kZWRTdHJ1Y3Q8VDE+O1xyXG5leHBvcnQgZnVuY3Rpb24gaXNCcmFuZGVkU3RydWN0PFQxIGV4dGVuZHMgc3RyaW5nPihcclxuICAgIHAwOiB1bmtub3duLFxyXG4gICAgcDE/OiBUMVxyXG4pOiBwMCBpcyBCcmFuZGVkU3RydWN0PFQxPiB7XHJcbiAgICBsZXQgdW5rbm93bjogdW5rbm93biA9IHAwO1xyXG4gICAgbGV0IGd1YXJkOiBUeXBlR3VhcmQ8QnJhbmRlZFN0cnVjdDxUMT4+ID0gKHVua25vd246IHVua25vd24pOiB1bmtub3duIGlzIEJyYW5kZWRTdHJ1Y3Q8VDE+ID0+IHtcclxuICAgICAgICBsZXQgbWF0Y2g6IGJvb2xlYW4gPVxyXG4gICAgICAgICAgICB1bmtub3duICE9PSBudWxsXHJcbiAgICAgICAgICAgICYmIHVua25vd24gIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAmJiB0eXBlb2YgdW5rbm93biA9PT0gXCJvYmplY3RcIlxyXG4gICAgICAgICAgICAmJiBcInR5cGVcIiBpbiB1bmtub3duXHJcbiAgICAgICAgICAgICYmIHR5cGVvZiB1bmtub3duLnR5cGUgPT09IFwic3RyaW5nXCI7XHJcbiAgICAgICAgaWYgKG1hdGNoID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChwMSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGxldCB0eXBlOiBUMSA9IHAxO1xyXG4gICAgICAgICAgICBtYXRjaCA9XHJcbiAgICAgICAgICAgICAgICBtYXRjaFxyXG4gICAgICAgICAgICAgICAgJiYgKHVua25vd24gYXMgYW55KS50eXBlID09PSB0eXBlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWF0Y2g7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGd1YXJkKHVua25vd24pO1xyXG59IiwgImltcG9ydCB0eXBlIHsgQnJhbmRlZCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IFR5cGVHdWFyZCB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIEEgdXRpbGl0eSBmdW5jdGlvbiB0byBjaGVjayBpZiBhbiBgdW5rbm93bmAgdmFsdWUgY29uZm9ybXMgdG8gYSBzcGVjaWZpYyBicmFuZGVkIHR5cGUuXHJcbiAqIFxyXG4gKiAqKipXYXJuaW5nKioqXHJcbiAqIEJlIGNhdXRpb3VzIGFib3V0IGJyYW5kIGNvbGxpc2lvbnMgdGhhdCBtYXkgb2NjdXIgaWYgbXVsdGlwbGUgbW9kdWxlcyBcclxuICogb3IgY29udGV4dHMgZGVmaW5lIHNpbWlsYXIgYnJhbmRlZCB0eXBlcy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0JyYW5kZWQ8VDEgZXh0ZW5kcyBzdHJpbmc+KHVua25vd246IHVua25vd24pOiB1bmtub3duIGlzIEJyYW5kZWQ8YW55PjtcclxuZXhwb3J0IGZ1bmN0aW9uIGlzQnJhbmRlZDxUMSBleHRlbmRzIHN0cmluZz4odW5rbm93bjogdW5rbm93biwgdHlwZTogVDEpOiB1bmtub3duIGlzIEJyYW5kZWQ8VDE+O1xyXG5leHBvcnQgZnVuY3Rpb24gaXNCcmFuZGVkPFQxIGV4dGVuZHMgc3RyaW5nPihcclxuICAgIHAwOiB1bmtub3duLFxyXG4gICAgcDE/OiBUMVxyXG4pOiBwMCBpcyBCcmFuZGVkPFQxPiB7XHJcbiAgICBsZXQgdW5rbm93bjogdW5rbm93biA9IHAwO1xyXG4gICAgbGV0IGd1YXJkOiBUeXBlR3VhcmQ8QnJhbmRlZDxUMT4+ID0gKHVua25vd246IHVua25vd24pOiB1bmtub3duIGlzIEJyYW5kZWQ8VDE+ID0+IHtcclxuICAgICAgICBsZXQgbWF0Y2g6IGJvb2xlYW4gPVxyXG4gICAgICAgICAgICB1bmtub3duICE9PSBudWxsXHJcbiAgICAgICAgICAgICYmIHVua25vd24gIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAmJiB0eXBlb2YgdW5rbm93biA9PT0gXCJvYmplY3RcIlxyXG4gICAgICAgICAgICAmJiBcInR5cGVcIiBpbiB1bmtub3duXHJcbiAgICAgICAgICAgICYmIHR5cGVvZiB1bmtub3duLnR5cGUgPT09IFwiZnVuY3Rpb25cIlxyXG4gICAgICAgICAgICAmJiB0eXBlb2YgdW5rbm93bi50eXBlKCkgPT09IFwic3RyaW5nXCI7XHJcbiAgICAgICAgaWYgKG1hdGNoID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChwMSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGxldCB0eXBlOiBUMSA9IHAxO1xyXG4gICAgICAgICAgICBtYXRjaCA9XHJcbiAgICAgICAgICAgICAgICBtYXRjaFxyXG4gICAgICAgICAgICAgICAgJiYgKHVua25vd24gYXMgYW55KS50eXBlKCkgPT09IHR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtYXRjaDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZ3VhcmQodW5rbm93bik7XHJcbn0iLCAiaW1wb3J0IHsgRXJyb3IgYXMgRXJyb3IwIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBmbGFnIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG4vKipcclxuICogKioqQnJpZWYqKipcclxuICogYHBhbmljYCB0aHJvd3MgYW4gZXJyb3Igd2l0aCBvcHRpb25hbCBtZXNzYWdlIGFuZCBzdGFjayB0cmFjZSBsb2NhdGlvbi5cclxuICogXHJcbiAqICoqKkV4YW1wbGUqKipcclxuICogYGBgdHNcclxuICogIHBhbmljKEVycm9yKFwiTUFUSC5FUlJfRElWSVNJT05fQllfWkVST1wiKSk7XHJcbiAqICBwYW5pYyhFcnJvcih7XHJcbiAqICAgICAgY29kZTogXCJNQVRILkVSUl9ESVZJU0lPTl9CWV9aRVJPXCIsXHJcbiAqICAgICAgbWVzc2FnZTogU29tZShcIk1hdGg6IENhbm5vdCBkaXZpZGUgYnkgemVyby5cIiksXHJcbiAqICAgICAgcGF5bG9hZDogTm9uZSxcclxuICogICAgICBzdGFjazogU3RhY2tUcmFjZSguLi4pXHJcbiAqICB9KSk7XHJcbiAqICBwYW5pYyhcIkFuIHVucmVjb3ZlcmFibGUgZXJyb3IgaGFzIG9jY3VyZWQuXCIpO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwYW5pYzxUMSBleHRlbmRzIHN0cmluZz4oZTogRXJyb3IwPFQxPiwgaGFuZGxlcj86IEVycm9ySGFuZGxlcik6IG5ldmVyO1xyXG5leHBvcnQgZnVuY3Rpb24gcGFuaWM8VDEgZXh0ZW5kcyBzdHJpbmc+KG1lc3NhZ2U6IFQxLCBsb2NhdGlvbj86IEZ1bmN0aW9uLCBoYW5kbGVyPzogRXJyb3JIYW5kbGVyKTogbmV2ZXI7XHJcbmV4cG9ydCBmdW5jdGlvbiBwYW5pYzxUMSBleHRlbmRzIHN0cmluZz4oXHJcbiAgICBwMDogRXJyb3IwPFQxPiB8IFQxLFxyXG4gICAgcDE/OiBFcnJvckhhbmRsZXIgfCBGdW5jdGlvbixcclxuICAgIHAyPzogRXJyb3JIYW5kbGVyXHJcbik6IG5ldmVyIHtcclxuICAgIGlmICh0eXBlb2YgcDAgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICBsZXQgZTogRXJyb3IwPFQxPiA9IHAwO1xyXG4gICAgICAgIGxldCBoYW5kbGVyOiBFcnJvckhhbmRsZXIgPSBmbGFnKChwMSBhcyBFcnJvckhhbmRsZXIgfCB1bmRlZmluZWQpKS51bmxvY2tPcihFcnJvckhhbmRsZXIpO1xyXG4gICAgICAgIHRocm93IFtcclxuICAgICAgICAgICAgXCJcIixcclxuICAgICAgICAgICAgXCJcIixcclxuICAgICAgICAgICAgXCIgICAgIFwiICsgYCR7IF9yZWQoZS5jb2RlKSB9ICR7IGUubWVzc2FnZS51bmxvY2tPcihcIjw8PCBVTkFWQUlMQUJMRSA+Pj5cIikgfWAsXHJcbiAgICAgICAgICAgIFwiXCIsXHJcbiAgICAgICAgICAgIFwiICAgICBTVEFDS19UUkFDRVwiICsgXHJcbiAgICAgICAgICAgIGUuc3RhY2tcclxuICAgICAgICBdLmpvaW4oXCJcXG5cIikgYXMgc3RyaW5nO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2U6IFQxID0gcDA7XHJcbiAgICAgICAgbGV0IGxvY2F0aW9uOiBGdW5jdGlvbiA9IGZsYWcoKHAxIGFzIEZ1bmN0aW9uIHwgdW5kZWZpbmVkKSkudW5sb2NrT3IocGFuaWMpO1xyXG4gICAgICAgIGxldCBoYW5kbGVyOiBFcnJvckhhbmRsZXIgPSBmbGFnKHAyKS51bmxvY2tPcihFcnJvckhhbmRsZXIpO1xyXG4gICAgICAgIGxldCBlU3RhbmRhcmQ6IEVycm9yID0gRXJyb3IoKTtcclxuICAgICAgICBlU3RhbmRhcmQubmFtZSA9IFwiUEFOSUNcIjtcclxuICAgICAgICB0aHJvdyBcIlBBTklDIFwiICsgbWVzc2FnZSArIFwiXFxuXCIgKyBoYW5kbGVyLnBhcnNlU3RhY2tUcmFjZShsb2NhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9yZWQoc3RyaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIFwiXFx4MWJbMzFtXCIgKyBzdHJpbmcgKyBcIlxceDFiWzBtXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9ncmVlbihzdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gXCJcXHgxYlszMm1cIiArIHN0cmluZyArIFwiXFx4MWJbMG1cIjtcclxufSIsICJpbXBvcnQgdHlwZSB7IE9wdGlvbiB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IENsb3N1cmUgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgU29tZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBOb25lIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IEVycm9yIGFzIEN1c3RvbUVycm9yIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IGlzQnJhbmRlZFN0cnVjdCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBhbGxPIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgdHlwZSBFcnJvckhhbmRsZXIgPSB7XHJcbiAgICBtYXRjaEVycm9yKHVua25vd246IHVua25vd24pOiB1bmtub3duIGlzIEN1c3RvbUVycm9yPGFueSwgdW5rbm93bj47XHJcbiAgICBtYXRjaEVycm9yKHVua25vd246IHVua25vd24sIHRhc2s6IENsb3N1cmU8W2U6IEN1c3RvbUVycm9yPGFueSwgdW5rbm93bj5dLCB2b2lkPik6IHVua25vd24gaXMgQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPjtcclxuICAgIG1hdGNoRXJyb3I8VDEgZXh0ZW5kcyBzdHJpbmc+KHVua25vd246IHVua25vd24sIGNvZGU6IFQxKTogdW5rbm93biBpcyBDdXN0b21FcnJvcjxUMSwgdW5rbm93bj47XHJcbiAgICBtYXRjaEVycm9yPFQxIGV4dGVuZHMgc3RyaW5nPih1bmtub3duOiB1bmtub3duLCBjb2RlOiBUMSwgdGFzazogQ2xvc3VyZTxbZTogQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPl0sIHZvaWQ+KTogdW5rbm93biBpcyBDdXN0b21FcnJvcjxUMSwgdW5rbm93bj47XHJcbiAgICBsb2NhbFN0YWNrVHJhY2UobG9jYXRpb246IEZ1bmN0aW9uKTogT3B0aW9uPHN0cmluZz47XHJcbiAgICBwYXJzZVN0YWNrVHJhY2UobG9jYXRpb25PclN0YWNrOiBGdW5jdGlvbiB8IHN0cmluZyk6IHN0cmluZztcclxuICAgIGNvbnZlcnRUb1N0YW5kYXJkRXJyb3I8VDEgZXh0ZW5kcyBzdHJpbmcsIFQyID0gdW5rbm93bj4oZTogQ3VzdG9tRXJyb3I8VDEsIFQyPik6IEVycm9yO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IEVycm9ySGFuZGxlcjogRXJyb3JIYW5kbGVyID0gKCgpID0+IHtcclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1hdGNoRXJyb3IsXHJcbiAgICAgICAgICAgIGxvY2FsU3RhY2tUcmFjZSxcclxuICAgICAgICAgICAgcGFyc2VTdGFja1RyYWNlLFxyXG4gICAgICAgICAgICBjb252ZXJ0VG9TdGFuZGFyZEVycm9yXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYXRjaEVycm9yKHVua25vd246IHVua25vd24pOiB1bmtub3duIGlzIEN1c3RvbUVycm9yPGFueSwgdW5rbm93bj47XHJcbiAgICBmdW5jdGlvbiBtYXRjaEVycm9yKHVua25vd246IHVua25vd24sIHRhc2s6IENsb3N1cmU8W2U6IEN1c3RvbUVycm9yPGFueSwgdW5rbm93bj5dLCB2b2lkPik6IHVua25vd24gaXMgQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPjtcclxuICAgIGZ1bmN0aW9uIG1hdGNoRXJyb3I8VDEgZXh0ZW5kcyBzdHJpbmc+KHVua25vd246IHVua25vd24sIGNvZGU6IFQxKTogdW5rbm93biBpcyBDdXN0b21FcnJvcjxUMSwgdW5rbm93bj47XHJcbiAgICBmdW5jdGlvbiBtYXRjaEVycm9yPFQxIGV4dGVuZHMgc3RyaW5nPih1bmtub3duOiB1bmtub3duLCBjb2RlOiBUMSwgdGFzazogQ2xvc3VyZTxbZTogQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPl0sIHZvaWQ+KTogdW5rbm93biBpcyBDdXN0b21FcnJvcjxUMSwgdW5rbm93bj47XHJcbiAgICBmdW5jdGlvbiBtYXRjaEVycm9yPFQxIGV4dGVuZHMgc3RyaW5nPihcclxuICAgICAgICBwMDogdW5rbm93bixcclxuICAgICAgICBwMT86IFQxIHwgQ2xvc3VyZTxbZTogQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPl0sIHZvaWQ+LFxyXG4gICAgICAgIHAyPzogQ2xvc3VyZTxbZTogQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPl0sIHZvaWQ+XHJcbiAgICApOiBwMCBpcyBDdXN0b21FcnJvcjxUMSwgdW5rbm93bj4ge1xyXG4gICAgICAgIGxldCB1bmtub3duOiB1bmtub3duID0gcDA7XHJcbiAgICAgICAgbGV0IG1hdGNoOiBib29sZWFuID1cclxuICAgICAgICAgICAgdW5rbm93biAhPT0gbnVsbFxyXG4gICAgICAgICAgICAmJiB1bmtub3duICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgJiYgdHlwZW9mIHVua25vd24gPT09IFwib2JqZWN0XCJcclxuICAgICAgICAgICAgJiYgaXNCcmFuZGVkU3RydWN0KHVua25vd24sIFwiRXJyb3JcIik7XHJcbiAgICAgICAgaWYgKCFtYXRjaCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChwMSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBwMSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBsZXQgY29kZTogc3RyaW5nID0gcDE7XHJcbiAgICAgICAgICAgIG1hdGNoID1cclxuICAgICAgICAgICAgICAgIG1hdGNoXHJcbiAgICAgICAgICAgICAgICAmJiBcImNvZGVcIiBpbiAodW5rbm93biBhcyBhbnkpXHJcbiAgICAgICAgICAgICAgICAmJiB0eXBlb2YgKHVua25vd24gYXMgYW55KS5jb2RlID09PSBcInN0cmluZ1wiXHJcbiAgICAgICAgICAgICAgICAmJiAodW5rbm93biBhcyBhbnkpLmNvZGUgPT09IGNvZGU7ICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbWF0Y2gpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBsZXQgdGFza086IE9wdGlvbjxDbG9zdXJlPFtlOiBDdXN0b21FcnJvcjxhbnksIHVua25vd24+XSwgdm9pZD4+ID0gTm9uZTtcclxuICAgICAgICBpZiAocDEgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgcDEgPT09IFwiZnVuY3Rpb25cIikgdGFza08gPSBTb21lKHAxKTtcclxuICAgICAgICBpZiAocDIgIT09IHVuZGVmaW5lZCkgdGFza08gPSBTb21lKHAyKTtcclxuICAgICAgICB0YXNrTy5tYXAodGFzayA9PiB7XHJcbiAgICAgICAgICAgIHRhc2soKHVua25vd24gYXMgQ3VzdG9tRXJyb3I8YW55LCB1bmtub3duPikpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbG9jYWxTdGFja1RyYWNlKGxvY2F0aW9uOiBGdW5jdGlvbik6IE9wdGlvbjxzdHJpbmc+IHtcclxuICAgICAgICBsZXQgZTogRXJyb3IgPSBFcnJvcigpO1xyXG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGUsIGxvY2F0aW9uKTtcclxuICAgICAgICBpZiAoZS5zdGFjaykgcmV0dXJuIFNvbWUoZS5zdGFjayk7XHJcbiAgICAgICAgcmV0dXJuIE5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGFyc2VTdGFja1RyYWNlKGxvY2F0aW9uT3JTdGFjazogRnVuY3Rpb24gfCBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBfcGFyc2VTdGFjayhfcGFyc2VQYXlsb2FkKGxvY2F0aW9uT3JTdGFjaykpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnZlcnRUb1N0YW5kYXJkRXJyb3I8VDEgZXh0ZW5kcyBzdHJpbmcsIFQyID0gdW5rbm93bj4oZTogQ3VzdG9tRXJyb3I8VDEsIFQyPik6IEVycm9yIHtcclxuICAgICAgICBsZXQgZVN0YW5kYXJkOiBFcnJvciA9IEVycm9yKCk7XHJcbiAgICAgICAgZVN0YW5kYXJkLm5hbWUgPSBlLmNvZGU7XHJcbiAgICAgICAgZVN0YW5kYXJkLm1lc3NhZ2UgPSBlLm1lc3NhZ2UudW5sb2NrT3IoXCJcIik7XHJcbiAgICAgICAgZVN0YW5kYXJkLnN0YWNrID0gZS5zdGFjay50b1N0cmluZygpO1xyXG4gICAgICAgIGVTdGFuZGFyZC5jYXVzZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICByZXR1cm4gZVN0YW5kYXJkO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9wYXJzZVBheWxvYWQocGF5bG9hZDogRnVuY3Rpb24gfCBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICh0eXBlb2YgcGF5bG9hZCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHBheWxvYWQ7XHJcbiAgICAgICAgcmV0dXJuIGxvY2FsU3RhY2tUcmFjZShwYXlsb2FkKS51bmxvY2tPcihcIlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfcGFyc2VTdGFjayhzdGFjazogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgcmVzdWx0OiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIHN0YWNrXHJcbiAgICAgICAgICAgIC5zcGxpdChcIlxcblwiKVxyXG4gICAgICAgICAgICAubWFwKGxpbmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9tYXRjaExpbmU8c3RyaW5nPihcclxuICAgICAgICAgICAgICAgICAgICBsaW5lLCBcclxuICAgICAgICAgICAgICAgICAgICBsaW5lID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpbmUudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgX18gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmlsdGVyKGxpbmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpbmUubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm1hcChsaW5lID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfcGFyc2VMaW5lKGxpbmUpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAubWFwKChbbG9jYXRpb25PLCBwYXRoTywgbGluZU8sIGNvbHVtbk9dKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlcHJlc2VudExpbmUobG9jYXRpb25PLCBwYXRoTywgbGluZU8sIGNvbHVtbk8pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZm9yRWFjaChsaW5lID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIlxcblwiICsgbGluZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfcGFyc2VMaW5lKGxpbmU6IHN0cmluZyk6IFtsb2NhdGlvbjogT3B0aW9uPHN0cmluZz4sIHBhdGg6IE9wdGlvbjxzdHJpbmc+LCBsaW5lOiBPcHRpb248YmlnaW50PiwgY29sdW1uOiBPcHRpb248YmlnaW50Pl0ge1xyXG4gICAgICAgIGxldCBsb2NhdGlvbk86IE9wdGlvbjxzdHJpbmc+ID0gTm9uZTtcclxuICAgICAgICBsZXQgcGF0aE86IE9wdGlvbjxzdHJpbmc+ID0gTm9uZTtcclxuICAgICAgICBsZXQgbGluZU86IE9wdGlvbjxiaWdpbnQ+ID0gTm9uZTtcclxuICAgICAgICBsZXQgY29sdW1uTzogT3B0aW9uPGJpZ2ludD4gPSBOb25lO1xyXG4gICAgICAgIGxldCBwYXR0ZXJuOiBSZWdFeHAgPSAvYXQgKD88bG9jYXRpb24+Lio/KSBcXCgoPzxwYXRoPi4qPyk6KD88bGluZT5cXGQrKTooPzxjb2x1bW4+XFxkKylcXCkvO1xyXG4gICAgICAgIGxldCBtYXRjaDogUmVnRXhwRXhlY0FycmF5IHwgbnVsbCA9IHBhdHRlcm4uZXhlYyhsaW5lKTtcclxuICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2guZ3JvdXBzKSB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uTyA9IG1hdGNoLmdyb3Vwcy5sb2NhdGlvbiA/IFNvbWUobWF0Y2guZ3JvdXBzLmxvY2F0aW9uKSA6IE5vbmU7XHJcbiAgICAgICAgICAgIHBhdGhPID0gbWF0Y2guZ3JvdXBzLnBhdGggPyBTb21lKG1hdGNoLmdyb3Vwcy5wYXRoKSA6IE5vbmU7XHJcbiAgICAgICAgICAgIGxpbmVPID0gbWF0Y2guZ3JvdXBzLmxpbmUgPyBTb21lKEJpZ0ludChtYXRjaC5ncm91cHMubGluZSkpIDogTm9uZTtcclxuICAgICAgICAgICAgY29sdW1uTyA9IG1hdGNoLmdyb3Vwcy5jb2x1bW4gPyBTb21lKEJpZ0ludChtYXRjaC5ncm91cHMuY29sdW1uKSkgOiBOb25lO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW2xvY2F0aW9uTywgcGF0aE8sIGxpbmVPLCBjb2x1bW5PXTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfcmVwcmVzZW50TGluZShsb2NhdGlvbk86IE9wdGlvbjxzdHJpbmc+LCBwYXRoTzogT3B0aW9uPHN0cmluZz4sIGxpbmVPOiBPcHRpb248YmlnaW50PiwgY29sdW1uTzogT3B0aW9uPGJpZ2ludD4pOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBzeW1ib2w6IHN0cmluZyA9IFwiYXRcIjtcclxuICAgICAgICBsZXQgbWlzc2luZzogc3RyaW5nID0gXCI8PDwgVU5BVkFJTEFCTEUgPj4+XCI7XHJcbiAgICAgICAgcmV0dXJuIGFsbE8obG9jYXRpb25PLCBwYXRoTywgbGluZU8sIGNvbHVtbk8pXHJcbiAgICAgICAgICAgIC5tYXAoKFtsb2NhdGlvbiwgcGF0aCwgbGluZSwgY29sdW1uXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGAgICAgICR7IF9yZWQoc3ltYm9sKSB9ICR7IHBhdGggfSAkeyBfcmVkKGxvY2F0aW9uKSB9ICR7IGxpbmUgfSAkeyBjb2x1bW4gfWA7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC51bmxvY2tPcihcIiAgICAgXCIgKyBfcmVkKG1pc3NpbmcpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfbWF0Y2hMaW5lPFQxPihsaW5lOiBzdHJpbmcsIG9uVmFsaWQ6IENsb3N1cmU8W2xpbmU6IHN0cmluZ10sIFQxPiwgb25JbnZhbGlkOiBDbG9zdXJlPFtsaW5lOiBzdHJpbmddLCBUMT4pOiBUMSB7XHJcbiAgICAgICAgaWYgKGxpbmUgPT09IFwiRXJyb3JcIikgcmV0dXJuIG9uSW52YWxpZChsaW5lKTtcclxuICAgICAgICByZXR1cm4gb25WYWxpZChsaW5lKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfcmVkKHN0cmluZzogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gXCJcXHgxYlszMW1cIiArIHN0cmluZyArIFwiXFx4MWJbMG1cIjtcclxuICAgIH1cclxufSkoKTsiLCAiaW1wb3J0IHR5cGUgeyBCcmFuZGVkU3RydWN0IH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBPcHRpb24gfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgZmxhZyB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRXJyb3I8VDEgZXh0ZW5kcyBzdHJpbmcsIFQyID0gdW5rbm93bj4gPSBcclxuICAgICYgQnJhbmRlZFN0cnVjdDxcIkVycm9yXCI+XHJcbiAgICAmIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIGNvZGU6IFQxO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIEEgaHVtYW4tcmVhZGFibGUgbWVzc2FnZSB0aGF0IGV4cGxhaW5zIHRoZSBuYXR1cmUgb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBtZXNzYWdlOiBPcHRpb248c3RyaW5nPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKkJyaWVmKioqXHJcbiAgICAgKiBBbiBvcHRpb25hbCB2YWx1ZSB0aGF0IGNhbiBob2xkIGFkZGl0aW9uYWwgZGF0YSBvciBjb250ZXh0IHJlbGF0ZWQgdG8gdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwYXlsb2FkOiBPcHRpb248VDI+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqQnJpZWYqKipcclxuICAgICAqIFRoZSBzdGFjayB0cmFjZSBhc3NvY2lhdGVkIHdpdGggdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBzdGFjazogc3RyaW5nO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqICoqKkJyaWVmKioqXHJcbiAqIEEgY3VzdG9tIGVycm9yIHdpdGggYW4gb3B0aW9uYWwgbWVzc2FnZSBhbmQgcGF5bG9hZCBmb3Igc3Ryb25nbHktdHlwZWQgZXJyb3JzLlxyXG4gKiBcclxuICogKioqTm90ZSoqKlxyXG4gKiBUaGlzIGlzIGEgZ2VuZXJhbC1wdXJwb3NlIGVycm9yIHN0cnVjdHVyZSB0byBtYW5hZ2UgZG9tYWluLXNwZWNpZmljIGVycm9yIGNvZGVzIGFuZCBwcm92aWRlIGJldHRlciBjb250ZXh0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIEVycm9yPFQxIGV4dGVuZHMgc3RyaW5nLCBUMiA9IHVua25vd24+KF9jb25maWd1cmF0aW9uOiB7XHJcbiAgICBjb2RlOiBUMTtcclxuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XHJcbiAgICBwYXlsb2FkPzogVDI7XHJcbiAgICBzdGFjaz86IHN0cmluZztcclxuICAgIGhhbmRsZXI/OiBFcnJvckhhbmRsZXI7XHJcbn0pOiBFcnJvcjxUMSwgVDI+O1xyXG5leHBvcnQgZnVuY3Rpb24gRXJyb3I8VDEgZXh0ZW5kcyBzdHJpbmcsIFQyID0gdW5rbm93bj4oX2NvZGU6IFQxLCBfbWVzc2FnZT86IHN0cmluZywgX3BheWxvYWQ/OiBUMik6IEVycm9yPFQxLCBUMj47XHJcbmV4cG9ydCBmdW5jdGlvbiBFcnJvcjxUMSBleHRlbmRzIHN0cmluZywgVDIgPSB1bmtub3duPihcclxuICAgIF9wMDoge1xyXG4gICAgICAgIGNvZGU6IFQxO1xyXG4gICAgICAgIG1lc3NhZ2U/OiBzdHJpbmc7XHJcbiAgICAgICAgcGF5bG9hZD86IFQyO1xyXG4gICAgICAgIHN0YWNrPzogc3RyaW5nO1xyXG4gICAgICAgIGhhbmRsZXI/OiBFcnJvckhhbmRsZXI7XHJcbiAgICB9IHwgVDEsXHJcbiAgICBfcDE/OiBzdHJpbmcsXHJcbiAgICBfcDI/OiBUMlxyXG4pOiBFcnJvcjxUMSwgVDI+IHtcclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgX3AwID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIGxldCBjb25maWd1cmF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiBUMTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U/OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBwYXlsb2FkPzogVDI7XHJcbiAgICAgICAgICAgICAgICBzdGFjaz86IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI/OiBFcnJvckhhbmRsZXI7XHJcbiAgICAgICAgICAgIH0gPSBfcDA7XHJcbiAgICAgICAgICAgIGxldCBoYW5kbGVyOiBFcnJvckhhbmRsZXIgPSBmbGFnKGNvbmZpZ3VyYXRpb24uaGFuZGxlcikudW5sb2NrT3IoRXJyb3JIYW5kbGVyKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiRXJyb3JcIixcclxuICAgICAgICAgICAgICAgIGNvZGU6IGNvbmZpZ3VyYXRpb24uY29kZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGZsYWcoY29uZmlndXJhdGlvbi5tZXNzYWdlKSxcclxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IGZsYWcoY29uZmlndXJhdGlvbi5wYXlsb2FkKSxcclxuICAgICAgICAgICAgICAgIHN0YWNrOiBmbGFnKGNvbmZpZ3VyYXRpb24uc3RhY2spLnVubG9ja09yKGhhbmRsZXIucGFyc2VTdGFja1RyYWNlKEVycm9yKSlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogXCJFcnJvclwiLFxyXG4gICAgICAgICAgICBjb2RlOiBfcDAsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IGZsYWcoX3AxKSxcclxuICAgICAgICAgICAgcGF5bG9hZDogZmxhZyhfcDIpLFxyXG4gICAgICAgICAgICBzdGFjazogRXJyb3JIYW5kbGVyLnBhcnNlU3RhY2tUcmFjZShFcnJvcilcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB0eXBlIHsgRG9tRXhjZXB0aW9uTmFtZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgdHlwZSB7IERvbUVycm9yQ29kZSB9IGZyb20gXCJAcm9vdFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IERvbUVycm9yTmFtZVRvQ29kZU1hcDogUmVjb3JkPERvbUV4Y2VwdGlvbk5hbWUsIERvbUVycm9yQ29kZT4gPSB7XHJcbiAgICBcIkVuY29kaW5nRXJyb3JcIjogXCJET00uRVJSX0VOQ09ESU5HXCIsXHJcbiAgICBcIk5vdFJlYWRhYmxlRXJyb3JcIjogXCJET00uRVJSX05PVF9SRUFEQUJMRVwiLFxyXG4gICAgXCJVbmtub3duRXJyb3JcIjogXCJET00uRVJSX1VOS05PV05cIixcclxuICAgIFwiQ29uc3RyYWludEVycm9yXCI6IFwiRE9NLkVSUl9DT05TVFJBSU5UXCIsXHJcbiAgICBcIkRhdGFFcnJvclwiOiBcIkRPTS5FUlJfREFUQVwiLFxyXG4gICAgXCJUcmFuc2FjdGlvbkluYWN0aXZlRXJyb3JcIjogXCJET00uRVJSX1RSQU5TQUNUSU9OX0lOQUNUSVZFXCIsXHJcbiAgICBcIlJlYWRPbmx5RXJyb3JcIjogXCJET00uRVJSX1JFQURfT05MWVwiLFxyXG4gICAgXCJWZXJzaW9uRXJyb3JcIjogXCJET00uRVJSX1ZFUlNJT05cIixcclxuICAgIFwiT3BlcmF0aW9uRXJyb3JcIjogXCJET00uRVJSX09QRVJBVElPTlwiLFxyXG4gICAgXCJOb3RBbGxvd2VkRXJyb3JcIjogXCJET00uRVJSX05PVF9BTExPV0VEXCJcclxufTsiLCAiaW1wb3J0IHR5cGUgeyBEb21FeGNlcHRpb25Db2RlIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB0eXBlIHsgRG9tRXJyb3JDb2RlIH0gZnJvbSBcIkByb290XCI7XHJcblxyXG5leHBvcnQgY29uc3QgRG9tRXhjZXB0aW9uQ29kZVRvRG9tRXJyb3JDb2RlTWFwOiBSZWNvcmQ8RG9tRXhjZXB0aW9uQ29kZSwgRG9tRXJyb3JDb2RlPiA9IHtcclxuICAgIDE6IFwiRE9NLkVSUl9JTkRFWF9TSVpFXCIsXHJcbiAgICAzOiBcIkRPTS5FUlJfSElFUkFSQ0hZX1JFUVVFU1RcIixcclxuICAgIDQ6IFwiRE9NLkVSUl9XUk9OR19ET0NVTUVOVFwiLFxyXG4gICAgNTogXCJET00uRVJSX0lOVkFMSURfQ0hBUkFDVEVSXCIsXHJcbiAgICA3OiBcIkRPTS5FUlJfTk9fTU9ESUZJQ0FUSU9OX0FMTE9XRURcIixcclxuICAgIDg6IFwiRE9NLkVSUl9OT1RfRk9VTkRcIixcclxuICAgIDk6IFwiRE9NLkVSUl9OT1RfU1VQUE9SVEVEXCIsXHJcbiAgICAxMTogXCJET00uRVJSX0lOVkFMSURfU1RBVEVcIixcclxuICAgIDEyOiBcIkRPTS5FUlJfU1lOVEFYXCIsXHJcbiAgICAxMzogXCJET00uRVJSX0lOVkFMSURfTU9ESUZJQ0FUSU9OXCIsXHJcbiAgICAxNDogXCJET00uRVJSX05BTUVTUEFDRVwiLFxyXG4gICAgMTc6IFwiRE9NLkVSUl9UWVBFX01JU01BVENIXCIsXHJcbiAgICAxODogXCJET00uRVJSX1NFQ1VSSVRZXCIsXHJcbiAgICAxOTogXCJET00uRVJSX05FVFdPUktcIixcclxuICAgIDIwOiBcIkRPTS5FUlJfQUJPUlRcIixcclxuICAgIDIxOiBcIkRPTS5FUlJfVVJMX01JU01BVENIXCIsXHJcbiAgICAyMjogXCJET00uRVJSX1FVT1RBX0VYQ0VFREVEXCIsXHJcbiAgICAyMzogXCJET00uRVJSX1RJTUVPVVRcIixcclxuICAgIDI0OiBcIkRPTS5FUlJfSU5WQUxJRF9OT0RFX1RZUEVcIixcclxuICAgIDI1OiBcIkRPTS5FUlJfREFUQV9DTE9ORVwiXHJcbn07IiwgImltcG9ydCB0eXBlIHsgRG9tRXJyb3JDb2RlIH0gZnJvbSBcIkByb290XCI7XHJcbmltcG9ydCB7IERvbUV4Y2VwdGlvbkNvZGVUb0RvbUVycm9yQ29kZU1hcCB9IGZyb20gXCJAcm9vdFwiO1xyXG5pbXBvcnQgeyBEb21FcnJvck5hbWVUb0NvZGVNYXAgfSBmcm9tIFwiQHJvb3RcIjtcclxuaW1wb3J0IHsgRXJyb3IgfSBmcm9tIFwiQHJvb3RcIjtcclxuXHJcbmV4cG9ydCB0eXBlIERvbUVycm9yID0gRXJyb3I8RG9tRXJyb3JDb2RlPjtcclxuXHJcbi8qKlxyXG4gKiAqKipCcmllZioqKlxyXG4gKiBBIGRvbWFpbi1zcGVjaWZpYyBlcnJvciB0aGF0IHByb3ZpZGVzIHRoZSBlcnJvciBjb2RlIGZvciBET00gZXhjZXB0aW9ucy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBEb21FcnJvcigpOiBEb21FcnJvcjtcclxuZXhwb3J0IGZ1bmN0aW9uIERvbUVycm9yKF9lOiBET01FeGNlcHRpb24pOiBEb21FcnJvcjtcclxuZXhwb3J0IGZ1bmN0aW9uIERvbUVycm9yKFxyXG4gICAgX2FyZ3MwPzogRE9NRXhjZXB0aW9uXHJcbik6IERvbUVycm9yIHtcclxuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xyXG4gICAgICAgIGxldCBlOiBET01FeGNlcHRpb24gfCB1bmRlZmluZWQgPSBfYXJnczA7XHJcbiAgICAgICAgaWYgKGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIEVycm9yKFwiRE9NLkVSUl9VTktOT1dOXCIpO1xyXG4gICAgICAgIHJldHVybiBFcnJvcihfbWF0Y2goZSksIGUubWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX21hdGNoKGU6IERPTUV4Y2VwdGlvbik6IERvbUVycm9yQ29kZSB7XHJcbiAgICAgICAgbGV0IGNvZGU6IERvbUVycm9yQ29kZSA9IFwiRE9NLkVSUl9VTktOT1dOXCI7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBlLmNvZGUgPT09IDFcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSAzXHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gNFxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDVcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSA3XHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gOFxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDlcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSAxMVxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDEyXHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gMTNcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSAxNFxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDE3XHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gMThcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSAxOVxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDIwXHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gMjFcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSAyMlxyXG4gICAgICAgICAgICB8fCBlLmNvZGUgPT09IDIzXHJcbiAgICAgICAgICAgIHx8IGUuY29kZSA9PT0gMjRcclxuICAgICAgICAgICAgfHwgZS5jb2RlID09PSAyNVxyXG4gICAgICAgICkgY29kZSA9IERvbUV4Y2VwdGlvbkNvZGVUb0RvbUVycm9yQ29kZU1hcFtlLmNvZGVdO1xyXG4gICAgICAgIGVsc2UgaWYgKFxyXG4gICAgICAgICAgICBlLm5hbWUgPT09IFwiRW5jb2RpbmdFcnJvclwiXHJcbiAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gXCJOb3RSZWFkYWJsZUVycm9yXCJcclxuICAgICAgICAgICAgfHwgZS5uYW1lID09PSBcIlVua25vd25FcnJvclwiXHJcbiAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gXCJDb25zdHJhaW50RXJyb3JcIlxyXG4gICAgICAgICAgICB8fCBlLm5hbWUgPT09IFwiRGF0YUVycm9yXCJcclxuICAgICAgICAgICAgfHwgZS5uYW1lID09PSBcIlRyYW5zYWN0aW9uSW5hY3RpdmVFcnJvclwiXHJcbiAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gXCJSZWFkT25seUVycm9yXCJcclxuICAgICAgICAgICAgfHwgZS5uYW1lID09PSBcIlZlcnNpb25FcnJvclwiXHJcbiAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gXCJPcGVyYXRpb25FcnJvclwiXHJcbiAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gXCJOb3RBbGxvd2VkRXJyb3JcIlxyXG4gICAgICAgICkgY29kZSA9IERvbUVycm9yTmFtZVRvQ29kZU1hcFtlLm5hbWVdO1xyXG4gICAgICAgIHJldHVybiBjb2RlO1xyXG4gICAgfVxyXG59IiwgImV4cG9ydCBjb25zdCBJTlRFUk5BTF9FUlJPUl9NRVNTQUdFOiBzdHJpbmcgPVxyXG4gICAgXCJcXG5cIiArIFwiVWgtb2gsIGxvb2tzIGxpa2UgUmVsaXEgdG9vayBhIHdyb25nIHR1cm4hXCIgKyBcclxuICAgIFwiXFxuXCIgKyBcIkRvbid0IHdvcnJ5LCBpdCdzIG5vdCB5b3UtaXQncyB1cy5cIiArIFxyXG4gICAgXCJcXG5cIiArIFwiUGxlYXNlIHJlcG9ydCB0aGlzIGF0IGRyZWFtY2F0Y2hlcl9mb3VuZGF0aW9uQHByb3Rvbi5tZVwiICtcclxuICAgIFwiXFxuXCI7Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGVBQUFBO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxtQkFBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUMrQk8sSUFBTSxVQUF5QixNQUFNO0FBQ3BCO0FBQ2hCLFdBQU8sRUFBRSxLQUFLLEtBQUssTUFBQUMsT0FBTSxXQUFBQyxXQUFVO0FBQUEsRUFDdkM7QUFFQSxXQUFTLElBQWdELFNBQThEO0FBQ25ILFFBQUksTUFBc0IsQ0FBQztBQUMzQixRQUFJLElBQVk7QUFDaEIsV0FBTyxJQUFJLFFBQVEsUUFBUTtBQUN2QixVQUFJLFNBQW1DLFFBQVEsR0FBRyxDQUFDO0FBQ25ELFVBQUksT0FBTyxHQUFHLEVBQUcsS0FBSSxLQUFLLE9BQU8sT0FBTyxDQUFDO0FBQUEsVUFDcEMsUUFBTztBQUNaO0FBQUEsSUFDSjtBQUNBLFdBQU8sR0FBSSxHQUFzQjtBQUFBLEVBQ3JDO0FBRUEsV0FBUyxJQUFnRCxTQUE4RDtBQUNuSCxRQUFJLE1BQXNCLENBQUM7QUFDM0IsUUFBSSxJQUFZO0FBQ2hCLFdBQU8sSUFBSSxRQUFRLFFBQVE7QUFDdkIsVUFBSSxVQUFvQyxRQUFRLEdBQUcsQ0FBQztBQUNwRCxVQUFJLFFBQVEsR0FBRyxFQUFHLFFBQU87QUFBQSxVQUNwQixLQUFJLEtBQUssUUFBUSxRQUFRLENBQUM7QUFDL0I7QUFBQSxJQUNKO0FBQ0EsV0FBTyxJQUFLLEdBQXVCO0FBQUEsRUFDdkM7QUFFQSxXQUFTRCxNQUFtQyxTQUEwQixTQUFpQztBQUNuRyxRQUFJO0FBQ0EsYUFBTyxHQUFHLEtBQUssR0FBRyxPQUFPLENBQUM7QUFBQSxJQUM5QixTQUNPLEdBQUc7QUFDTixhQUFPLElBQUksT0FBTyxDQUFDLENBQUM7QUFBQSxJQUN4QjtBQUFBLEVBQ0o7QUFFQSxpQkFBZUMsV0FBd0MsU0FBK0IsU0FBMEM7QUFDNUgsUUFBSTtBQUNBLGFBQU8sR0FBSSxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUU7QUFBQSxJQUN0QyxTQUNPLEdBQUc7QUFDTixhQUFPLElBQUksT0FBTyxDQUFDLENBQUM7QUFBQSxJQUN4QjtBQUFBLEVBQ0o7QUFDSixHQUFHOzs7QUM5REksSUFBTSxVQUF5QixNQUFNO0FBQ3BCO0FBQ2hCLFdBQU8sRUFBRSxNQUFBQyxPQUFNLEtBQUssSUFBSTtBQUFBLEVBQzVCO0FBRUEsV0FBU0EsTUFBUyxPQUEwQztBQUN4RCxRQUFJLFVBQVUsS0FBTSxRQUFPO0FBQzNCLFFBQUksVUFBVSxPQUFXLFFBQU87QUFDaEMsV0FBTyxLQUFNLEtBQVk7QUFBQSxFQUM3QjtBQUVBLFdBQVMsT0FBMEMsU0FBdUM7QUFDdEYsUUFBSSxNQUFzQixDQUFDO0FBQzNCLFFBQUksSUFBWTtBQUNoQixXQUFPLElBQUksUUFBUSxRQUFRO0FBQ3ZCLFVBQUksU0FBMEIsUUFBUSxHQUFHLENBQUM7QUFDMUMsVUFBSSxPQUFPLEtBQUssRUFBRyxRQUFPO0FBQzFCLFVBQUksS0FBSyxPQUFPLE9BQU8sQ0FBQztBQUN4QjtBQUFBLElBQ0o7QUFDQSxXQUFPLEtBQUssR0FBdUI7QUFBQSxFQUN2QztBQUVBLFdBQVMsT0FBMEMsU0FBK0M7QUFDOUYsUUFBSSxJQUFZO0FBQ2hCLFdBQU8sSUFBSSxRQUFRLFFBQVE7QUFDdkIsVUFBSSxTQUEwQixRQUFRLEdBQUcsQ0FBQztBQUMxQyxVQUFJLE9BQU8sS0FBSyxFQUFHLFFBQU87QUFDMUI7QUFBQSxJQUNKO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDSixHQUFHOzs7QUNwQ0ksU0FBUyxPQUFPLFFBQXlCO0FBQ3hCO0FBQ2hCLFdBQU87QUFBQSxNQUNIO0FBQUEsTUFDQTtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBRUEsV0FBUyxTQUFrQjtBQUN2QixXQUFPO0FBQUEsRUFDWDtBQUVBLFdBQVMsTUFBVSxPQUFrQztBQUNqRCxRQUFJLENBQUMsTUFBTSxPQUFPLENBQUMsRUFBRyxRQUFPO0FBQzdCLFdBQU8sS0FBTSxPQUFPLENBQVE7QUFBQSxFQUNoQztBQUNKOzs7QUN6Qk8sSUFBTSxPQUFPLE9BQU87QUFDcEIsSUFBTSxPQUFPLE9BQU87QUFDcEIsSUFBTSxPQUFPLE9BQU87QUFDcEIsSUFBTSxZQUFZLE9BQU87OztBQ29NekIsU0FBUyxHQUFPLFFBQW9CO0FBQ3ZDLE1BQUk7QUFFZ0I7QUFDaEIsV0FBTyxRQUFRO0FBQUEsTUFDWDtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFFQSxXQUFTLEtBQXFCO0FBQzFCLFdBQU87QUFBQSxFQUNYO0FBRUEsV0FBUyxNQUE0QjtBQUNqQyxXQUFPO0FBQUEsRUFDWDtBQUVBLFdBQVMsT0FBTyxJQUFpQjtBQUM3QixXQUFPLE9BQU87QUFBQSxFQUNsQjtBQUVBLFdBQVMsVUFBVSxTQUF3QjtBQUN2QyxVQUFNQyxPQUFNLFNBQVMsT0FBTyxDQUFDO0FBQUEsRUFDakM7QUFFQSxXQUFTLFNBQWE7QUFDbEIsV0FBTztBQUFBLEVBQ1g7QUFFQSxXQUFTLFNBQVMsSUFBaUI7QUFDL0IsV0FBTyxPQUFPO0FBQUEsRUFDbEI7QUFLQSxXQUFTLElBQVksTUFBb0Q7QUFDckUsV0FBTyxLQUFLLE9BQU8sQ0FBQztBQUFBLEVBQ3hCO0FBRUEsV0FBUyxJQUFRLE1BQWdDO0FBQzdDLFdBQU8sR0FBRyxLQUFLLE9BQU8sQ0FBQyxDQUFDO0FBQUEsRUFDNUI7QUFFQSxXQUFTLE9BQU8sSUFBcUI7QUFDakMsV0FBTztBQUFBLEVBQ1g7QUFFQSxXQUFTLFFBQVEsSUFBcUI7QUFDbEMsV0FBTztBQUFBLEVBQ1g7QUFFQSxXQUFTLFFBQVksTUFBaUM7QUFDbEQsV0FBTyxJQUFJLEtBQUssT0FBTyxDQUFDLENBQUM7QUFBQSxFQUM3QjtBQUVBLFdBQVMsV0FBdUI7QUFDNUIsV0FBTyxLQUFLLE9BQU8sQ0FBQztBQUFBLEVBQ3hCO0FBQ0o7OztBQ2pDTyxTQUFTLElBQ1osS0FDQSxNQUFvQixjQUNiO0FBQ1AsTUFBSTtBQUNKLE1BQUk7QUFDSixNQUFJO0FBQ0osTUFBSTtBQUVnQjtBQUNoQixhQUFTO0FBQ1QsZUFBVztBQUNYLGFBQVMsU0FBUyxnQkFBZ0IsR0FBRztBQUNyQyxXQUFPLFFBQVE7QUFBQSxNQUNYO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFFQSxXQUFTLEtBQTBCO0FBQy9CLFdBQU87QUFBQSxFQUNYO0FBRUEsV0FBUyxNQUF1QjtBQUM1QixXQUFPO0FBQUEsRUFDWDtBQUVBLFdBQVMsVUFBYztBQUNuQixXQUFPO0FBQUEsRUFDWDtBQUVBLFdBQVMsUUFBZ0I7QUFDckIsV0FBTztBQUFBLEVBQ1g7QUFFQSxXQUFTLE9BQU8sU0FBd0I7QUFDcEMsUUFBSSxJQUFRLFFBQVE7QUFDcEIsUUFBSSxjQUE0QztBQUNoRCxRQUFJLGFBQWEsT0FBTztBQUNwQixVQUFJLFVBQWdDQyxPQUFPO0FBQUEsUUFDdkMsTUFBTSxFQUFFLEtBQUssWUFBWTtBQUFBLFFBQ3pCO0FBQUEsTUFDSixDQUFDO0FBQ0Qsb0JBQWMsS0FBSyxPQUFPO0FBQUEsSUFDOUI7QUFDQSxRQUFJLFlBQVksS0FBSyxFQUFHLFVBQVMsV0FBVyxHQUFHLENBQUFDLE9BQUs7QUFDaEQsTUFBQUEsR0FBRSxVQUFVQSxHQUFFLFFBQVEsSUFBSSxjQUFZO0FBQ2xDLGVBQU8sV0FFUCw0QkFFWTtBQUFBLE1BQ2hCLENBQUM7QUFDRCxvQkFBYyxLQUFLQSxFQUFDO0FBQ3BCO0FBQUEsSUFDSixDQUFDO0FBRUQsUUFBSSxhQUFtQyxZQUNsQyxTQUFTLE1BQVMsRUFDbEIsUUFBUSxNQUFNO0FBQ1gsYUFBT0QsT0FBTztBQUFBLFFBQ1YsTUFBTTtBQUFBLFFBQ047QUFBQSxNQUNKLENBQUM7QUFBQSxJQUNMLENBQUMsRUFDQSxPQUFPO0FBQ1osVUFBTSxVQUFVO0FBQUEsRUFDcEI7QUFFQSxXQUFTLFVBQVUsSUFBaUI7QUFDaEMsV0FBTyxRQUFRO0FBQUEsRUFDbkI7QUFFQSxXQUFTLFNBQWEsVUFBa0I7QUFDcEMsV0FBTztBQUFBLEVBQ1g7QUFFQSxXQUFTLElBQUksSUFBc0I7QUFDL0IsV0FBTztBQUFBLEVBQ1g7QUFFQSxXQUFTLElBQUksSUFBc0I7QUFDL0IsV0FBTztBQUFBLEVBQ1g7QUFFQSxXQUFTLE9BQVcsTUFBaUM7QUFDakQsV0FBTyxJQUFJLEtBQUssUUFBUSxDQUFDLENBQUM7QUFBQSxFQUM5QjtBQUVBLFdBQVMsUUFBWSxNQUFnQztBQUNqRCxXQUFPLEdBQUcsS0FBSyxRQUFRLENBQUMsQ0FBQztBQUFBLEVBQzdCO0FBRUEsV0FBUyxRQUFRLElBQXNCO0FBQ25DLFdBQU87QUFBQSxFQUNYO0FBRUEsV0FBUyxXQUEwQjtBQUMvQixXQUFPO0FBQUEsRUFDWDtBQUNKOzs7QUMxVE8sU0FBUyxJQUFRLFFBQXFCO0FBQ3pDLE1BQUk7QUFDSixNQUFJO0FBQ0osTUFBSTtBQUVnQjtBQUNoQixhQUFTO0FBQ1QsZUFBVyxvQkFBSSxJQUFJO0FBQ25CLFdBQU8sUUFBUSxFQUFFLFFBQVEsS0FBSyxTQUFTO0FBQUEsRUFDM0M7QUFFQSxXQUFTLFNBQWE7QUFDbEIsV0FBTztBQUFBLEVBQ1g7QUFFQSxXQUFTLElBQUksT0FBb0I7QUFDN0IsUUFBSSxXQUFlLE9BQU87QUFDMUIsUUFBSSxXQUFlO0FBQ25CLGFBQVM7QUFDVCxhQUNLLE9BQU8sRUFDUCxRQUFRLEVBQ1IsUUFBUSxVQUFRO0FBQ2IsYUFBTyxLQUFLLFVBQVUsUUFBUTtBQUFBLElBQ2xDLENBQUM7QUFDTCxXQUFPO0FBQUEsRUFDWDtBQUVBLFdBQVMsU0FBUyxNQUErQjtBQUM3QyxRQUFJLE1BQWMsUUFBUTtBQUMxQixhQUFTLElBQUksS0FBSyxJQUFJO0FBQ3RCLFdBQU8sTUFBTTtBQUNULGVBQVMsT0FBTyxHQUFHO0FBQ25CO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFFQSxXQUFTLFVBQWtCO0FBQ3ZCLFdBQU8sVUFBVTtBQUFBLEVBQ3JCO0FBQ0o7OztBQ1hPLFNBQVMsSUFBbUMsY0FBK0IsWUFBK0IsVUFBa0IsZ0JBQTBDO0FBQ3pLLE1BQUk7QUFDSixNQUFJO0FBRWdCO0FBQ2hCLGlCQUFhLG9CQUFJLElBQUk7QUFDckIsYUFBUztBQUNULFFBQUksSUFBWTtBQUNoQixXQUFPLElBQUksT0FBTztBQUNkLFVBQUksTUFBYyxRQUFRO0FBQzFCLGlCQUFXLElBQUksS0FBSyxhQUFhLEdBQUcsY0FBYyxDQUFDO0FBQ25EO0FBQUEsSUFDSjtBQUNBLFdBQU8sWUFBYSxTQUFzQjtBQUN0QyxVQUFJO0FBQ0osVUFBSTtBQUVnQjtBQUNoQixlQUFPO0FBQ1AsZUFBTyxRQUFRLE1BQU07QUFBQSxNQUN6QjtBQUVBLGVBQVMsUUFBbUI7QUFDeEIsZUFBTyxhQUFhLEVBQ2YsU0FBUyxNQUFTLEVBQ2xCLElBQUksU0FBTztBQUNSLGlCQUFPLEtBQUssR0FBRztBQUNmLGlCQUFPLE1BQU0sU0FBUyxHQUFHLEdBQUcsRUFBRSxRQUFRLENBQUM7QUFBQSxRQUMzQyxDQUFDLEVBQ0EsUUFBUSxNQUFNO0FBQ1gsaUJBQU8sS0FBSyxRQUFRLENBQUM7QUFDckIsaUJBQU8sTUFBTSxhQUFhLEdBQUcsT0FBTyxHQUFHLEVBQUUsUUFBUSxDQUFDO0FBQUEsUUFDdEQsQ0FBQyxFQUNBLE9BQU87QUFBQSxNQUNoQjtBQUVBLGVBQVMsVUFBdUI7QUFDNUIsYUFDSyxTQUFTLE1BQVMsRUFDbEIsSUFBSSxTQUFPO0FBRVIsaUJBQU87QUFDUCxrQkFBUSxLQUFLLFdBQVcsTUFBTSxPQUFPLGtFQUFrRSxzQkFBc0IsQ0FBQyxDQUFDO0FBQy9IO0FBQUEsUUFDSixDQUFDO0FBQ0wsZUFBTyxRQUFRLFFBQVEsRUFBRSxRQUFRLENBQUM7QUFBQSxNQUN0QztBQUFBLElBQ0o7QUFBQSxFQUNKO0FBRUEsV0FBUyxVQUFrQjtBQUN2QixXQUFPLFVBQVU7QUFBQSxFQUNyQjtBQUVBLFdBQVMsZUFBK0I7QUFDcEMsUUFBSSxNQUEwQixXQUN6QixLQUFLLEVBQ0wsUUFBUSxFQUNSLEdBQUcsQ0FBQztBQUNULFFBQUksQ0FBQyxJQUFLLFFBQU87QUFDakIsV0FBTyxLQUFLLEdBQUc7QUFBQSxFQUNuQjtBQUVBLFdBQVMsU0FBUyxLQUFpQjtBQUMvQixRQUFJLFFBQVksV0FBVyxJQUFJLEdBQUc7QUFDbEMsZUFBVyxPQUFPLEdBQUc7QUFDckIsV0FBTztBQUFBLEVBQ1g7QUFFQSxXQUFTLFFBQVEsS0FBYSxPQUFpQjtBQUMzQyxlQUFXLElBQUksS0FBSyxLQUFLO0FBQ3pCO0FBQUEsRUFDSjtBQUNKOzs7QUM5SE8sU0FBUyxRQUFZLE1BQW1DO0FBQ3ZDO0FBQ2hCLFdBQU8sRUFBRSxHQUFJLE1BQU0sR0FBSSxLQUFLO0FBQUEsRUFDaEM7QUFDSjs7O0FDRk8sU0FBUyxNQUFVLFFBQVksTUFBaUM7QUFDL0M7QUFDaEIsV0FBTyxFQUFFLEdBQUksS0FBSyxNQUFNLEdBQUcsR0FBSSxLQUFLO0FBQUEsRUFDeEM7QUFDSjs7O0FDZk8sSUFBTSxPQUEyQixPQUFPO0FBRXhDLElBQU0sT0FBMEIsT0FBTztBQUV2QyxJQUFNLE9BQTBCLE9BQU87OztBQ3NIdkMsU0FBUyxLQUFTLFFBQXNCO0FBQ3ZCO0FBQ2hCLFdBQU87QUFBQSxNQUNIO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUVBLFdBQVMsT0FBZTtBQUNwQixXQUFPO0FBQUEsRUFDWDtBQUVBLFdBQVMsT0FBeUI7QUFDOUIsV0FBTztBQUFBLEVBQ1g7QUFFQSxXQUFTLE9BQXFCO0FBQzFCLFdBQU87QUFBQSxFQUNYO0FBRUEsV0FBUyxPQUFPLElBQWlCO0FBQzdCLFdBQU87QUFBQSxFQUNYO0FBRUEsV0FBUyxTQUFhO0FBQ2xCLFdBQU87QUFBQSxFQUNYO0FBRUEsV0FBUyxTQUFTLElBQWlCO0FBQy9CLFdBQU87QUFBQSxFQUNYO0FBRUEsV0FBUyxJQUFRLE1BQTRDO0FBQ3pELFdBQU8sS0FBSyxNQUFNO0FBQUEsRUFDdEI7QUFFQSxXQUFTLElBQVEsTUFBa0M7QUFDL0MsV0FBTyxLQUFLLEtBQUssTUFBTSxDQUFDO0FBQUEsRUFDNUI7QUFFQSxXQUFTLFNBQVMsSUFBcUI7QUFDbkMsV0FBTyxHQUFHLE1BQU07QUFBQSxFQUNwQjtBQUNKOzs7QUNqRE8sSUFBTSxRQUFjLE1BQU07QUFDN0IsTUFBSTtBQUVnQjtBQUNoQixXQUFPLFFBQVE7QUFBQSxNQUNYO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBRUEsV0FBUyxPQUFlO0FBQ3BCLFdBQU87QUFBQSxFQUNYO0FBRUEsV0FBUyxPQUE4QjtBQUNuQyxXQUFPO0FBQUEsRUFDWDtBQUVBLFdBQVMsT0FBcUI7QUFDMUIsV0FBTztBQUFBLEVBQ1g7QUFFQSxXQUFTLE9BQU8sU0FBd0I7QUFDcEMsVUFBTUUsT0FBTSxzQkFBc0IsT0FBTyxDQUFDO0FBQUEsRUFDOUM7QUFFQSxXQUFTLFNBQWEsVUFBa0I7QUFDcEMsV0FBTztBQUFBLEVBQ1g7QUFFQSxXQUFTLElBQUksSUFBbUI7QUFDNUIsV0FBTztBQUFBLEVBQ1g7QUFFQSxXQUFTLElBQUksSUFBbUI7QUFDNUIsV0FBTztBQUFBLEVBQ1g7QUFFQSxXQUFTLFNBQWEsR0FBZ0I7QUFDbEMsV0FBTyxJQUFJLENBQUM7QUFBQSxFQUNoQjtBQUNKLEdBQUc7OztBQ1dJLFNBQVMsSUFBNEIsTUFBMEIsYUFBa0IsSUFBaUM7QUFDckgsTUFBSTtBQUVnQjtBQUNoQixRQUFJLFVBQVUsTUFBTSxHQUFJLFFBQU8sSUFBSUMsT0FBTyw2QkFBNkIsdUNBQXVDLENBQUM7QUFDL0csUUFBSSxVQUFVLElBQUksR0FBSSxRQUFPLElBQUlBLE9BQU8saUNBQWlDLDJDQUEyQyxDQUFDO0FBQ3JILGFBQVMsUUFBUSxJQUFJO0FBQ3JCLFdBQU8sR0FBRztBQUFBLE1BQ047QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0osQ0FBQztBQUFBLEVBQ0w7QUFFQSxXQUFTLFNBQWlCO0FBQ3RCLFdBQU87QUFBQSxFQUNYO0FBRUEsV0FBUyxZQUFnQjtBQUNyQixXQUFPO0FBQUEsRUFDWDtBQUVBLFdBQVMsaUJBQXlCO0FBQzlCLFdBQU8sT0FBSyxVQUFVO0FBQUEsRUFDMUI7QUFFQSxXQUFTLEdBQUcsT0FBb0M7QUFDNUMsV0FBTyxXQUFXLFFBQVEsS0FBSztBQUFBLEVBQ25DO0FBRUEsV0FBUyxHQUFHLE9BQW9DO0FBQzVDLFdBQU8sU0FBUyxRQUFRLEtBQUs7QUFBQSxFQUNqQztBQUVBLFdBQVMsS0FBSyxPQUFvQztBQUM5QyxXQUFPLFVBQVUsUUFBUSxLQUFLO0FBQUEsRUFDbEM7QUFFQSxXQUFTLEdBQUcsT0FBb0M7QUFDNUMsV0FBTyxTQUFTLFFBQVEsS0FBSztBQUFBLEVBQ2pDO0FBRUEsV0FBUyxLQUFLLE9BQW9DO0FBQzlDLFdBQU8sVUFBVSxRQUFRLEtBQUs7QUFBQSxFQUNsQztBQUVBLFdBQVMsSUFBSSxPQUFvQztBQUM3QyxXQUFPLE1BQU0sTUFBTTtBQUNmLGFBQU8sU0FBUyxRQUFRLEtBQUs7QUFBQSxJQUNqQyxDQUFDO0FBQUEsRUFDTDtBQUVBLFdBQVMsSUFBSSxPQUFvQztBQUM3QyxXQUFPLE1BQU0sTUFBTTtBQUNmLGFBQU8sU0FBUyxRQUFRLEtBQUs7QUFBQSxJQUNqQyxDQUFDO0FBQUEsRUFDTDtBQUVBLFdBQVMsSUFBSSxPQUFvQztBQUM3QyxXQUFPLE1BQU0sTUFBTTtBQUNmLFVBQUksSUFBWSxTQUFTLFFBQVEsS0FBSztBQUN0QyxVQUFJLElBQVksSUFBSSxlQUFlO0FBQ25DLGFBQU87QUFBQSxJQUNYLENBQUM7QUFBQSxFQUNMO0FBRUEsV0FBUyxJQUFJLE9BQWdEO0FBQ3pELFFBQUksSUFBWSxRQUFRLEtBQUs7QUFDN0IsUUFBSSxNQUFNLEdBQUksUUFBTyxJQUFJQSxPQUFPLDRCQUE0Qiw2QkFBNkIsQ0FBQztBQUMxRixXQUFPLEdBQUcsTUFBTSxNQUFNO0FBQ2xCLFVBQUksSUFBWSxTQUFTLGVBQWU7QUFDeEMsVUFBSSxJQUFZLElBQUk7QUFDcEIsYUFBTztBQUFBLElBQ1gsQ0FBQyxDQUFDO0FBQUEsRUFDTjtBQUVBLFdBQVMsTUFBTSxNQUFvQztBQUMvQyxXQUFPLElBQVEsS0FBSyxDQUFDLEVBQUUsT0FBTyxxREFBcUQsc0JBQXNCO0FBQUEsRUFDN0c7QUFFQSxXQUFTLFFBQVEsS0FBaUM7QUFDOUMsUUFBSSxPQUFPLFFBQVEsU0FBVSxRQUFPO0FBQ3BDLFdBQU8sSUFBSSxPQUFPO0FBQUEsRUFDdEI7QUFDSjs7O0FDM09PLFNBQVMsU0FBUyxTQUEwQjtBQUMvQyxNQUFJLFlBQVksUUFBUSxZQUFZLFVBQWEsT0FBTyxZQUFZLFNBQVUsUUFBTyxPQUFPLE9BQU87QUFDbkcsTUFBSTtBQUNBLFdBQU8sS0FBSyxVQUFVLE9BQU87QUFBQSxFQUNqQyxRQUNNO0FBQUEsRUFBQztBQUNQLFNBQU87QUFDWDs7O0FDN0JPLFNBQVMsTUFBVSxPQUFpQztBQUN2RCxTQUFPLEtBQUssTUFBTTtBQUNkLFdBQU8sZ0JBQWdCLEtBQUs7QUFBQSxFQUNoQyxDQUFDLEVBQUUsT0FBTyxZQUFVO0FBQ2hCLFdBQU8sT0FDRixNQUFNLENBQUMsU0FBK0I7QUFDbkMsYUFBTyxTQUFTLFFBQ1QsU0FBUyxVQUNULE9BQU8sU0FBUyxZQUNoQixVQUFVLFFBQ1YsVUFBVSxRQUNWLGFBQWEsUUFDYixPQUFPLEtBQUssU0FBUyxZQUNyQixPQUFPLEtBQUssU0FBUyxZQUNyQixPQUFPLEtBQUssWUFBWTtBQUFBLElBQ25DLENBQUMsRUFDQSxJQUFJLGVBQWE7QUFDZCxhQUFPLFNBQVMsU0FBUztBQUFBLElBQzdCLENBQUMsRUFDQSxTQUFTLFNBQVMsQ0FBQztBQUFBLEVBQzVCLENBQUM7QUFDTDs7O0FDM0JPLFNBQVMsZ0JBQ1osSUFDQSxJQUN1QjtBQUN2QixNQUFJLFVBQW1CO0FBQ3ZCLE1BQUksUUFBc0MsQ0FBQ0MsYUFBbUQ7QUFDMUYsUUFBSSxRQUNBQSxhQUFZLFFBQ1RBLGFBQVksVUFDWixPQUFPQSxhQUFZLFlBQ25CLFVBQVVBLFlBQ1YsT0FBT0EsU0FBUSxTQUFTO0FBQy9CLFFBQUksVUFBVSxNQUFPLFFBQU87QUFDNUIsUUFBSSxPQUFPLFFBQVc7QUFDbEIsVUFBSSxPQUFXO0FBQ2YsY0FDSSxTQUNJQSxTQUFnQixTQUFTO0FBQUEsSUFDckM7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLFNBQU8sTUFBTSxPQUFPO0FBQ3hCOzs7QUN0Qk8sU0FBU0MsV0FDWixJQUNBLElBQ2lCO0FBQ2pCLE1BQUksVUFBbUI7QUFDdkIsTUFBSSxRQUFnQyxDQUFDQyxhQUE2QztBQUM5RSxRQUFJLFFBQ0FBLGFBQVksUUFDVEEsYUFBWSxVQUNaLE9BQU9BLGFBQVksWUFDbkIsVUFBVUEsWUFDVixPQUFPQSxTQUFRLFNBQVMsY0FDeEIsT0FBT0EsU0FBUSxLQUFLLE1BQU07QUFDakMsUUFBSSxVQUFVLE1BQU8sUUFBTztBQUM1QixRQUFJLE9BQU8sUUFBVztBQUNsQixVQUFJLE9BQVc7QUFDZixjQUNJLFNBQ0lBLFNBQWdCLEtBQUssTUFBTTtBQUFBLElBQ3ZDO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDQSxTQUFPLE1BQU0sT0FBTztBQUN4Qjs7O0FDZE8sU0FBUyxNQUNaLElBQ0EsSUFDQSxJQUNLO0FBQ0wsTUFBSSxPQUFPLE9BQU8sVUFBVTtBQUN4QixRQUFJLElBQWdCO0FBQ3BCLFFBQUksVUFBd0IsS0FBTSxFQUErQixFQUFFLFNBQVMsWUFBWTtBQUN4RixVQUFNO0FBQUEsTUFDRjtBQUFBLE1BQ0E7QUFBQSxNQUNBLFFBQWMsS0FBSyxFQUFFLElBQUksQ0FBRSxJQUFLLEVBQUUsUUFBUSxTQUFTLHFCQUFxQixDQUFFO0FBQUEsTUFDMUU7QUFBQSxNQUNBLHFCQUNBLEVBQUU7QUFBQSxJQUNOLEVBQUUsS0FBSyxJQUFJO0FBQUEsRUFDZixPQUNLO0FBQ0QsUUFBSSxVQUFjO0FBQ2xCLFFBQUksV0FBcUIsS0FBTSxFQUEyQixFQUFFLFNBQVMsS0FBSztBQUMxRSxRQUFJLFVBQXdCLEtBQUssRUFBRSxFQUFFLFNBQVMsWUFBWTtBQUMxRCxRQUFJLFlBQW1CLE1BQU07QUFDN0IsY0FBVSxPQUFPO0FBQ2pCLFVBQU0sV0FBVyxVQUFVLE9BQU8sUUFBUSxnQkFBZ0IsUUFBUTtBQUFBLEVBQ3RFO0FBQ0o7QUFFQSxTQUFTLEtBQUssUUFBd0I7QUFDbEMsU0FBTyxhQUFhLFNBQVM7QUFDakM7OztBQ2pDTyxJQUFNLGdCQUE4QixNQUFNO0FBQ3pCO0FBQ2hCLFdBQU87QUFBQSxNQUNIO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFNQSxXQUFTLFdBQ0wsSUFDQSxJQUNBLElBQzhCO0FBQzlCLFFBQUksVUFBbUI7QUFDdkIsUUFBSSxRQUNBLFlBQVksUUFDVCxZQUFZLFVBQ1osT0FBTyxZQUFZLFlBQ25CLGdCQUFnQixTQUFTLE9BQU87QUFDdkMsUUFBSSxDQUFDLE1BQU8sUUFBTztBQUNuQixRQUFJLE9BQU8sVUFBYSxPQUFPLE9BQU8sVUFBVTtBQUM1QyxVQUFJLE9BQWU7QUFDbkIsY0FDSSxTQUNHLFVBQVcsV0FDWCxPQUFRLFFBQWdCLFNBQVMsWUFDaEMsUUFBZ0IsU0FBUztBQUFBLElBQ3JDO0FBQ0EsUUFBSSxDQUFDLE1BQU8sUUFBTztBQUNuQixRQUFJLFFBQStEO0FBQ25FLFFBQUksT0FBTyxVQUFhLE9BQU8sT0FBTyxXQUFZLFNBQVEsS0FBSyxFQUFFO0FBQ2pFLFFBQUksT0FBTyxPQUFXLFNBQVEsS0FBSyxFQUFFO0FBQ3JDLFVBQU0sSUFBSSxVQUFRO0FBQ2QsV0FBTSxPQUFxQztBQUMzQztBQUFBLElBQ0osQ0FBQztBQUNELFdBQU87QUFBQSxFQUNYO0FBRUEsV0FBUyxnQkFBZ0IsVUFBb0M7QUFDekQsUUFBSSxJQUFXLE1BQU07QUFDckIsVUFBTSxrQkFBa0IsR0FBRyxRQUFRO0FBQ25DLFFBQUksRUFBRSxNQUFPLFFBQU8sS0FBSyxFQUFFLEtBQUs7QUFDaEMsV0FBTztBQUFBLEVBQ1g7QUFFQSxXQUFTLGdCQUFnQixpQkFBNEM7QUFDakUsV0FBTyxZQUFZLGNBQWMsZUFBZSxDQUFDO0FBQUEsRUFDckQ7QUFFQSxXQUFTLHVCQUF3RCxHQUErQjtBQUM1RixRQUFJLFlBQW1CLE1BQU07QUFDN0IsY0FBVSxPQUFPLEVBQUU7QUFDbkIsY0FBVSxVQUFVLEVBQUUsUUFBUSxTQUFTLEVBQUU7QUFDekMsY0FBVSxRQUFRLEVBQUUsTUFBTSxTQUFTO0FBQ25DLGNBQVUsUUFBUTtBQUNsQixXQUFPO0FBQUEsRUFDWDtBQUVBLFdBQVMsY0FBYyxTQUFvQztBQUN2RCxRQUFJLE9BQU8sWUFBWSxTQUFVLFFBQU87QUFDeEMsV0FBTyxnQkFBZ0IsT0FBTyxFQUFFLFNBQVMsRUFBRTtBQUFBLEVBQy9DO0FBRUEsV0FBUyxZQUFZLE9BQXVCO0FBQ3hDLFFBQUksU0FBaUI7QUFDckIsVUFDSyxNQUFNLElBQUksRUFDVixJQUFJLFVBQVE7QUFDVCxhQUFPO0FBQUEsUUFDSDtBQUFBLFFBQ0EsQ0FBQUMsVUFBUTtBQUNKLGlCQUFPQSxNQUFLLEtBQUs7QUFBQSxRQUNyQjtBQUFBLFFBQ0EsUUFBTTtBQUNGLGlCQUFPO0FBQUEsUUFDWDtBQUFBLE1BQ0o7QUFBQSxJQUNKLENBQUMsRUFDQSxPQUFPLFVBQVE7QUFDWixhQUFPLEtBQUssU0FBUztBQUFBLElBQ3pCLENBQUMsRUFDQSxJQUFJLFVBQVE7QUFDVCxhQUFPLFdBQVcsSUFBSTtBQUFBLElBQzFCLENBQUMsRUFDQSxJQUFJLENBQUMsQ0FBQyxXQUFXLE9BQU8sT0FBTyxPQUFPLE1BQU07QUFDekMsYUFBTyxlQUFlLFdBQVcsT0FBTyxPQUFPLE9BQU87QUFBQSxJQUMxRCxDQUFDLEVBQ0EsUUFBUSxVQUFRO0FBQ2IsZ0JBQVUsT0FBTztBQUNqQjtBQUFBLElBQ0osQ0FBQztBQUNMLFdBQU87QUFBQSxFQUNYO0FBRUEsV0FBUyxXQUFXLE1BQThHO0FBQzlILFFBQUksWUFBNEI7QUFDaEMsUUFBSSxRQUF3QjtBQUM1QixRQUFJLFFBQXdCO0FBQzVCLFFBQUksVUFBMEI7QUFDOUIsUUFBSSxVQUFrQjtBQUN0QixRQUFJLFFBQWdDLFFBQVEsS0FBSyxJQUFJO0FBQ3JELFFBQUksU0FBUyxNQUFNLFFBQVE7QUFDdkIsa0JBQVksTUFBTSxPQUFPLFdBQVcsS0FBSyxNQUFNLE9BQU8sUUFBUSxJQUFJO0FBQ2xFLGNBQVEsTUFBTSxPQUFPLE9BQU8sS0FBSyxNQUFNLE9BQU8sSUFBSSxJQUFJO0FBQ3RELGNBQVEsTUFBTSxPQUFPLE9BQU8sS0FBSyxPQUFPLE1BQU0sT0FBTyxJQUFJLENBQUMsSUFBSTtBQUM5RCxnQkFBVSxNQUFNLE9BQU8sU0FBUyxLQUFLLE9BQU8sTUFBTSxPQUFPLE1BQU0sQ0FBQyxJQUFJO0FBQUEsSUFDeEU7QUFDQSxXQUFPLENBQUMsV0FBVyxPQUFPLE9BQU8sT0FBTztBQUFBLEVBQzVDO0FBRUEsV0FBUyxlQUFlLFdBQTJCLE9BQXVCLE9BQXVCLFNBQWlDO0FBQzlILFFBQUksU0FBaUI7QUFDckIsUUFBSSxVQUFrQjtBQUN0QixXQUFPLEtBQUssV0FBVyxPQUFPLE9BQU8sT0FBTyxFQUN2QyxJQUFJLENBQUMsQ0FBQyxVQUFVLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDckMsYUFBTyxRQUFTQyxNQUFLLE1BQU0sQ0FBRSxJQUFLLElBQUssSUFBS0EsTUFBSyxRQUFRLENBQUUsSUFBSyxJQUFLLElBQUssTUFBTztBQUFBLElBQ3JGLENBQUMsRUFDQSxTQUFTLFVBQVVBLE1BQUssT0FBTyxDQUFDO0FBQUEsRUFDekM7QUFFQSxXQUFTLFdBQWUsTUFBYyxTQUFzQyxXQUE0QztBQUNwSCxRQUFJLFNBQVMsUUFBUyxRQUFPLFVBQVUsSUFBSTtBQUMzQyxXQUFPLFFBQVEsSUFBSTtBQUFBLEVBQ3ZCO0FBRUEsV0FBU0EsTUFBSyxRQUF3QjtBQUNsQyxXQUFPLGFBQWEsU0FBUztBQUFBLEVBQ2pDO0FBQ0osR0FBRzs7O0FDeEdJLFNBQVNDLE9BQ1osS0FPQSxLQUNBLEtBQ2E7QUFDTztBQUNoQixRQUFJLE9BQU8sUUFBUSxVQUFVO0FBQ3pCLFVBQUksZ0JBTUE7QUFDSixVQUFJLFVBQXdCLEtBQUssY0FBYyxPQUFPLEVBQUUsU0FBUyxZQUFZO0FBQzdFLGFBQU87QUFBQSxRQUNILE1BQU07QUFBQSxRQUNOLE1BQU0sY0FBYztBQUFBLFFBQ3BCLFNBQVMsS0FBSyxjQUFjLE9BQU87QUFBQSxRQUNuQyxTQUFTLEtBQUssY0FBYyxPQUFPO0FBQUEsUUFDbkMsT0FBTyxLQUFLLGNBQWMsS0FBSyxFQUFFLFNBQVMsUUFBUSxnQkFBZ0JBLE1BQUssQ0FBQztBQUFBLE1BQzVFO0FBQUEsSUFDSjtBQUNBLFdBQU87QUFBQSxNQUNILE1BQU07QUFBQSxNQUNOLE1BQU07QUFBQSxNQUNOLFNBQVMsS0FBSyxHQUFHO0FBQUEsTUFDakIsU0FBUyxLQUFLLEdBQUc7QUFBQSxNQUNqQixPQUFPLGFBQWEsZ0JBQWdCQSxNQUFLO0FBQUEsSUFDN0M7QUFBQSxFQUNKO0FBQ0o7OztBQ25GTyxJQUFNLHdCQUFnRTtBQUFBLEVBQ3pFLGlCQUFpQjtBQUFBLEVBQ2pCLG9CQUFvQjtBQUFBLEVBQ3BCLGdCQUFnQjtBQUFBLEVBQ2hCLG1CQUFtQjtBQUFBLEVBQ25CLGFBQWE7QUFBQSxFQUNiLDRCQUE0QjtBQUFBLEVBQzVCLGlCQUFpQjtBQUFBLEVBQ2pCLGdCQUFnQjtBQUFBLEVBQ2hCLGtCQUFrQjtBQUFBLEVBQ2xCLG1CQUFtQjtBQUN2Qjs7O0FDWE8sSUFBTSxvQ0FBNEU7QUFBQSxFQUNyRixHQUFHO0FBQUEsRUFDSCxHQUFHO0FBQUEsRUFDSCxHQUFHO0FBQUEsRUFDSCxHQUFHO0FBQUEsRUFDSCxHQUFHO0FBQUEsRUFDSCxHQUFHO0FBQUEsRUFDSCxHQUFHO0FBQUEsRUFDSCxJQUFJO0FBQUEsRUFDSixJQUFJO0FBQUEsRUFDSixJQUFJO0FBQUEsRUFDSixJQUFJO0FBQUEsRUFDSixJQUFJO0FBQUEsRUFDSixJQUFJO0FBQUEsRUFDSixJQUFJO0FBQUEsRUFDSixJQUFJO0FBQUEsRUFDSixJQUFJO0FBQUEsRUFDSixJQUFJO0FBQUEsRUFDSixJQUFJO0FBQUEsRUFDSixJQUFJO0FBQUEsRUFDSixJQUFJO0FBQ1I7OztBQ1hPLFNBQVMsU0FDWixRQUNRO0FBQ1k7QUFDaEIsUUFBSSxJQUE4QjtBQUNsQyxRQUFJLE1BQU0sT0FBVyxRQUFPQyxPQUFNLGlCQUFpQjtBQUNuRCxXQUFPQSxPQUFNLE9BQU8sQ0FBQyxHQUFHLEVBQUUsT0FBTztBQUFBLEVBQ3JDO0FBRUEsV0FBUyxPQUFPLEdBQStCO0FBQzNDLFFBQUksT0FBcUI7QUFDekIsUUFDSSxFQUFFLFNBQVMsS0FDUixFQUFFLFNBQVMsS0FDWCxFQUFFLFNBQVMsS0FDWCxFQUFFLFNBQVMsS0FDWCxFQUFFLFNBQVMsS0FDWCxFQUFFLFNBQVMsS0FDWCxFQUFFLFNBQVMsS0FDWCxFQUFFLFNBQVMsTUFDWCxFQUFFLFNBQVMsTUFDWCxFQUFFLFNBQVMsTUFDWCxFQUFFLFNBQVMsTUFDWCxFQUFFLFNBQVMsTUFDWCxFQUFFLFNBQVMsTUFDWCxFQUFFLFNBQVMsTUFDWCxFQUFFLFNBQVMsTUFDWCxFQUFFLFNBQVMsTUFDWCxFQUFFLFNBQVMsTUFDWCxFQUFFLFNBQVMsTUFDWCxFQUFFLFNBQVMsTUFDWCxFQUFFLFNBQVMsR0FDaEIsUUFBTyxrQ0FBa0MsRUFBRSxJQUFJO0FBQUEsYUFFN0MsRUFBRSxTQUFTLG1CQUNSLEVBQUUsU0FBUyxzQkFDWCxFQUFFLFNBQVMsa0JBQ1gsRUFBRSxTQUFTLHFCQUNYLEVBQUUsU0FBUyxlQUNYLEVBQUUsU0FBUyw4QkFDWCxFQUFFLFNBQVMsbUJBQ1gsRUFBRSxTQUFTLGtCQUNYLEVBQUUsU0FBUyxvQkFDWCxFQUFFLFNBQVMsa0JBQ2hCLFFBQU8sc0JBQXNCLEVBQUUsSUFBSTtBQUNyQyxXQUFPO0FBQUEsRUFDWDtBQUNKOzs7QUM1RE8sSUFBTSx5QkFDVDsiLAogICJuYW1lcyI6IFsiRXJyb3IiLCAiaXNCcmFuZGVkIiwgIndyYXAiLCAid3JhcEFzeW5jIiwgImZsYWciLCAiRXJyb3IiLCAiRXJyb3IiLCAiZSIsICJFcnJvciIsICJFcnJvciIsICJ1bmtub3duIiwgImlzQnJhbmRlZCIsICJ1bmtub3duIiwgImxpbmUiLCAiX3JlZCIsICJFcnJvciIsICJFcnJvciJdCn0K